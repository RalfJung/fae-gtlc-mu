<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">stdpp.nat_cancel</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="stdpp.numbers.html#"><span class="id" title="library">numbers</span></a>.<br/>

<br/>
</div>

<div class="doc">
The class <span class="inlinecode"><a class="idref" href="stdpp.nat_cancel.html#NatCancel"><span class="id" title="record">NatCancel</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.relations.html#m'"><span class="id" title="variable">m'</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.infinite.html#n'"><span class="id" title="variable">n'</span></a></span> is a simple canceler for natural numbers
implemented using type classes.

<div class="paragraph"> </div>

Input: <span class="inlinecode"><a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a></span>, <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span>; output: <span class="inlinecode"><a class="idref" href="stdpp.relations.html#m'"><span class="id" title="variable">m'</span></a></span>, <span class="inlinecode"><a class="idref" href="stdpp.infinite.html#n'"><span class="id" title="variable">n'</span></a></span>.

<div class="paragraph"> </div>

It turns an equality <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a></span> into an equality <span class="inlinecode"><a class="idref" href="stdpp.infinite.html#n'"><span class="id" title="variable">n'</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="stdpp.relations.html#m'"><span class="id" title="variable">m'</span></a></span> by canceling out terms
that appear on both sides of the equality. We provide instances to handle the
following connectives over natural numbers:

<div class="paragraph"> </div>

  n := 0 | t | n + m | S m

<div class="paragraph"> </div>

Here, <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Vectors.Vector.html#t"><span class="id" title="inductive">t</span></a></span> represents arbitrary terms that do not fit the grammar. The instances
the class perform a depth-first traversal (from left to right) through <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> and
try to cancel each leaf in <span class="inlinecode"><a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a></span>. This implies that the shape of the original
expressions <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span> and <span class="inlinecode"><a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a></span> are preserved as much as possible. For example,
canceling:

<div class="paragraph"> </div>

  S (S m2) + (k1 + (S k2 + k3)) + n1 = 2 + S ((n1 + S n2) + S (S m1 + m2))

<div class="paragraph"> </div>

Results in:

<div class="paragraph"> </div>

  k1 + (k2 + k3) = S (n2 + S (S m1))

<div class="paragraph"> </div>

The instances are setup up so that canceling is performed in two stages.

<div class="paragraph"> </div>

<ul class="doclist">
<li> In the first stage, using the class <span class="inlinecode"><a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="record">NatCancelL</span></a></span>, it traverses <span class="inlinecode"><a class="idref" href="stdpp.vector.html#m"><span class="id" title="variable">m</span></a></span> w.r.t. <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a></span>
  and <span class="inlinecode">+</span>.

</li>
<li> In the second stage, for each leaf (i.e. a constant or arbitrary term)
  obtained by the traversal in stage 1, it uses the class <span class="inlinecode"><a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="record">NatCancelR</span></a></span> to
  cancel the leaf in <span class="inlinecode"><a class="idref" href="stdpp.vector.html#n"><span class="id" title="variable">n</span></a></span>.

</li>
</ul>

<div class="paragraph"> </div>

Be warned: Since the canceler is implemented using type classes it should only
be used it either of the inputs is relatively small. For bigger inputs, an
approach based on reflection would be better, but for small inputs, the overhead
of reification will probably not be worth it. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a name="NatCancel"><span class="id" title="record">NatCancel</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a name="nat_cancel"><span class="id" title="projection">nat_cancel</span></a> : <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a>.<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="stdpp.nat_cancel.html#NatCancel"><span class="id" title="class">NatCancel</span></a> ! ! - - : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="nat_cancel"><span class="id" title="module">nat_cancel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="nat_cancel.NatCancelL"><span class="id" title="record">NatCancelL</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a name="nat_cancel.nat_cancel_l"><span class="id" title="projection">nat_cancel_l</span></a> : <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> ! ! - - : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="nat_cancel.NatCancelR"><span class="id" title="record">NatCancelR</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a name="nat_cancel.nat_cancel_r"><span class="id" title="projection">nat_cancel_r</span></a> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> ! ! - - : <span class="id" title="var">typeclass_instances</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">nat_cancel_r</span> | 100.<br/>

<br/>
</div>

<div class="doc">
The implementation of the canceler is highly non-deterministic, but since
  it will always succeed, no backtracking will ever be performed. In order to
  avoid issues like:

<div class="paragraph"> </div>

    https://gitlab.mpi-sws.org/FP/iris-coq/issues/153

<div class="paragraph"> </div>

  we wrap the entire canceler in the <span class="inlinecode"><span class="id" title="var">NoBackTrack</span></span> class. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_start"><span class="id" title="instance">nat_cancel_start</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#TCNoBackTrack"><span class="id" title="class">TCNoBackTrack</span></a> (<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#NatCancel"><span class="id" title="class">NatCancel</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [?]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="nat_cancel.MakeNatS"><span class="id" title="record">MakeNatS</span></a> (<span class="id" title="var">n1</span> <span class="id" title="var">n2</span> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a name="nat_cancel.make_nat_S"><span class="id" title="projection">make_nat_S</span></a> : <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.make_nat_S_0_l"><span class="id" title="instance">make_nat_S_0_l</span></a> <span class="id" title="var">n</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatS"><span class="id" title="class">MakeNatS</span></a> 0 <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.make_nat_S_1"><span class="id" title="instance">make_nat_S_1</span></a> <span class="id" title="var">n</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatS"><span class="id" title="class">MakeNatS</span></a> 1 <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="nat_cancel.MakeNatPlus"><span class="id" title="record">MakeNatPlus</span></a> (<span class="id" title="var">n1</span> <span class="id" title="var">n2</span> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := <a name="nat_cancel.make_nat_plus"><span class="id" title="projection">make_nat_plus</span></a> : <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2"><span class="id" title="variable">n2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.make_nat_plus_0_l"><span class="id" title="instance">make_nat_plus_0_l</span></a> <span class="id" title="var">n</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a> 0 <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.make_nat_plus_0_r"><span class="id" title="instance">make_nat_plus_0_r</span></a> <span class="id" title="var">n</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> 0 <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.make_nat_plus_default"><span class="id" title="instance">make_nat_plus_default</span></a> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2"><span class="id" title="variable">n2</span></a> (<a class="idref" href="stdpp.nat_cancel.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2"><span class="id" title="variable">n2</span></a>) | 100.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_leaf_here"><span class="id" title="instance">nat_cancel_leaf_here</span></a> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> 0 0 | 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_leaf_else"><span class="id" title="instance">nat_cancel_leaf_else</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> : <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> | 100.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_leaf_plus"><span class="id" title="instance">nat_cancel_leaf_plus</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">m''</span> <span class="id" title="var">n1</span> <span class="id" title="var">n2</span> <span class="id" title="var">n1'</span> <span class="id" title="var">n2'</span> <span class="id" title="var">n1'n2'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1'"><span class="id" title="variable">n1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2"><span class="id" title="variable">n2</span></a> <a class="idref" href="stdpp.nat_cancel.html#m''"><span class="id" title="variable">m''</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2'"><span class="id" title="variable">n2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1'"><span class="id" title="variable">n1'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2'"><span class="id" title="variable">n2'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1'n2'"><span class="id" title="variable">n1'n2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="stdpp.nat_cancel.html#n1"><span class="id" title="variable">n1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#n2"><span class="id" title="variable">n2</span></a>) <a class="idref" href="stdpp.nat_cancel.html#m''"><span class="id" title="variable">m''</span></a> <a class="idref" href="stdpp.nat_cancel.html#n1'n2'"><span class="id" title="variable">n1'n2'</span></a> | 2.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_leaf_S_here"><span class="id" title="instance">nat_cancel_leaf_S_here</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> | 3.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_leaf_S_else"><span class="id" title="instance">nat_cancel_leaf_S_else</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a>) | 4.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The instance <span class="inlinecode"><a class="idref" href="stdpp.nat_cancel.html#nat_cancel.nat_cancel_S_both"><span class="id" title="instance">nat_cancel_S_both</span></a></span> is redundant, but may reduce proof search
  quite a bit, e.g. when canceling constants in constants. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_S_both"><span class="id" title="instance">nat_cancel_S_both</span></a> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">m'</span> <span class="id" title="var">n'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> | 1.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_plus"><span class="id" title="instance">nat_cancel_plus</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2'</span> <span class="id" title="var">m1'm2'</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">n''</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> <a class="idref" href="stdpp.nat_cancel.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> <a class="idref" href="stdpp.nat_cancel.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="stdpp.nat_cancel.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n''"><span class="id" title="variable">n''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a> <a class="idref" href="stdpp.nat_cancel.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="stdpp.nat_cancel.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="stdpp.nat_cancel.html#m1'm2'"><span class="id" title="variable">m1'm2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> (<a class="idref" href="stdpp.nat_cancel.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.nat_cancel.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m1'm2'"><span class="id" title="variable">m1'm2'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n''"><span class="id" title="variable">n''</span></a> | 2.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatPlus"><span class="id" title="class">MakeNatPlus</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="nat_cancel.nat_cancel_S"><span class="id" title="instance">nat_cancel_S</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">m''</span> <span class="id" title="var">Sm'</span> <span class="id" title="var">n</span> <span class="id" title="var">n'</span> <span class="id" title="var">n''</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a> 1 <a class="idref" href="stdpp.nat_cancel.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="stdpp.nat_cancel.html#m''"><span class="id" title="variable">m''</span></a> <a class="idref" href="stdpp.nat_cancel.html#n''"><span class="id" title="variable">n''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatS"><span class="id" title="class">MakeNatS</span></a> <a class="idref" href="stdpp.nat_cancel.html#m''"><span class="id" title="variable">m''</span></a> <a class="idref" href="stdpp.nat_cancel.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="stdpp.nat_cancel.html#Sm'"><span class="id" title="variable">Sm'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.nat_cancel.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.nat_cancel.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="stdpp.nat_cancel.html#Sm'"><span class="id" title="variable">Sm'</span></a> <a class="idref" href="stdpp.nat_cancel.html#n''"><span class="id" title="variable">n''</span></a> | 3.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelR"><span class="id" title="class">NatCancelR</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.NatCancelL"><span class="id" title="class">NatCancelL</span></a>, <a class="idref" href="stdpp.nat_cancel.html#nat_cancel.MakeNatS"><span class="id" title="class">MakeNatS</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.nat_cancel.html#nat_cancel"><span class="id" title="module">nat_cancel</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
