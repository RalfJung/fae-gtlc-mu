<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">stdpp.fin_maps</h1>

<div class="code">
</div>

<div class="doc">
Finite maps associate data to keys. This file defines an interface for
finite maps and collects some theory on it. Most importantly, it proves useful
induction principles for finite maps and implements the tactic
<span class="inlinecode"><span class="id" title="var">simplify_map_eq</span></span> to simplify goals involving finite maps. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Permutation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="stdpp.relations.html#"><span class="id" title="library">relations</span></a> <a class="idref" href="stdpp.orders.html#"><span class="id" title="library">orders</span></a> <a class="idref" href="stdpp.vector.html#"><span class="id" title="library">vector</span></a> <a class="idref" href="stdpp.fin_sets.html#"><span class="id" title="library">fin_sets</span></a>.<br/>
<span class="comment">(*&nbsp;FIXME:&nbsp;This&nbsp;file&nbsp;needs&nbsp;a&nbsp;'Proof&nbsp;Using'&nbsp;hint,&nbsp;but&nbsp;the&nbsp;default&nbsp;we&nbsp;use<br/>
&nbsp;&nbsp;&nbsp;everywhere&nbsp;makes&nbsp;for&nbsp;lots&nbsp;of&nbsp;extra&nbsp;ssumptions.&nbsp;*)</span><br/>

<br/>
</div>

<div class="doc">
<a name="lab62"></a><h1 class="section">Axiomatization of finite maps</h1>
 We require Leibniz equality to be extensional on finite maps. This of
course limits the space of finite map implementations, but since we are mainly
interested in finite maps with numbers as indexes, we do not consider this to
be a serious limitation. The main application of finite maps is to implement
the memory, where extensionality of Leibniz equality is very important for a
convenient use in the assertions of our axiomatic semantics. 
<div class="paragraph"> </div>

 Finiteness is axiomatized by requiring that each map can be translated
to an association list. The translation to association lists is used to
prove well founded recursion on finite maps. 
<div class="paragraph"> </div>

 Finite map implementations are required to implement the <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.merge"><span class="id" title="section">merge</span></a></span> function
which enables us to give a generic implementation of <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.union_with"><span class="id" title="section">union_with</span></a></span>,
<span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with"><span class="id" title="section">intersection_with</span></a></span>, and <span class="inlinecode"><a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="projection">difference_with</span></a></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Class</span> <a name="FinMapToList"><span class="id" title="record">FinMapToList</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span> := <a name="map_to_list"><span class="id" title="projection">map_to_list</span></a>: <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> ! - - : <span class="id" title="var">typeclass_instances</span>.<br/>
<span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> - - ! : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="FinMap"><span class="id" title="record">FinMap</span></a> <span class="id" title="var">K</span> <span class="id" title="var">M</span> `{<a class="idref" href="stdpp.base.html#FMap"><span class="id" title="class">FMap</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#PartialAlter"><span class="id" title="class">PartialAlter</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="stdpp.base.html#OMap"><span class="id" title="class">OMap</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>, <a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#EqDecision"><span class="id" title="abbreviation">EqDecision</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a>} := {<br/>
&nbsp;&nbsp;<a name="map_eq"><span class="id" title="projection">map_eq</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>;<br/>
&nbsp;&nbsp;<a name="lookup_empty"><span class="id" title="projection">lookup_empty</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>;<br/>
&nbsp;&nbsp;<a name="lookup_partial_alter"><span class="id" title="projection">lookup_partial_alter</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>);<br/>
&nbsp;&nbsp;<a name="lookup_partial_alter_ne"><span class="id" title="projection">lookup_partial_alter_ne</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>;<br/>
&nbsp;&nbsp;<a name="lookup_fmap"><span class="id" title="projection">lookup_fmap</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>;<br/>
&nbsp;&nbsp;<a name="NoDup_map_to_list"><span class="id" title="projection">NoDup_map_to_list</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>);<br/>
&nbsp;&nbsp;<a name="elem_of_map_to_list"><span class="id" title="projection">elem_of_map_to_list</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;<a name="lookup_omap"><span class="id" title="projection">lookup_omap</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>;<br/>
&nbsp;&nbsp;<a name="lookup_merge"><span class="id" title="projection">lookup_merge</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>} (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)<br/>
}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab63"></a><h1 class="section">Derived operations</h1>
 All of the following functions are defined in a generic way for arbitrary
finite map implementations. These generic implementations do not cause a
significant performance loss, which justifies including them in the finite map
interface as primitive operations. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="map_insert"><span class="id" title="instance">map_insert</span></a> `{<a class="idref" href="stdpp.base.html#PartialAlter"><span class="id" title="class">PartialAlter</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>} : <a class="idref" href="stdpp.base.html#Insert"><span class="id" title="class">Insert</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="map_alter"><span class="id" title="instance">map_alter</span></a> `{<a class="idref" href="stdpp.base.html#PartialAlter"><span class="id" title="class">PartialAlter</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>} : <a class="idref" href="stdpp.base.html#Alter"><span class="id" title="class">Alter</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="map_delete"><span class="id" title="instance">map_delete</span></a> `{<a class="idref" href="stdpp.base.html#PartialAlter"><span class="id" title="class">PartialAlter</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>} : <a class="idref" href="stdpp.base.html#Delete"><span class="id" title="class">Delete</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="map_singleton"><span class="id" title="instance">map_singleton</span></a> `{<a class="idref" href="stdpp.base.html#PartialAlter"><span class="id" title="class">PartialAlter</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>, <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#SingletonM"><span class="id" title="class">SingletonM</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="list_to_map"><span class="id" title="definition">list_to_map</span></a> `{<a class="idref" href="stdpp.base.html#Insert"><span class="id" title="class">Insert</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>, <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">.1</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="stdpp.base.html#18385c18dcb8b3a70ec76a4d5bf90758"><span class="id" title="notation">.2</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>) <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="map_size"><span class="id" title="instance">map_size</span></a> `{<a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>} : <a class="idref" href="stdpp.base.html#Size"><span class="id" title="class">Size</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="map_to_set"><span class="id" title="definition">map_to_set</span></a> `{<a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#Singleton"><span class="id" title="class">Singleton</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>, <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>, <a class="idref" href="stdpp.base.html#Union"><span class="id" title="class">Union</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>) : <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#list_to_set"><span class="id" title="definition">list_to_set</span></a> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="set_to_map"><span class="id" title="definition">set_to_map</span></a> `{<a class="idref" href="stdpp.base.html#Elements"><span class="id" title="class">Elements</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>, <a class="idref" href="stdpp.base.html#Insert"><span class="id" title="class">Insert</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>, <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">X</span> : <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> <a class="idref" href="stdpp.fin_maps.html#X"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="map_union_with"><span class="id" title="instance">map_union_with</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#UnionWith"><span class="id" title="class">UnionWith</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="map_intersection_with"><span class="id" title="instance">map_intersection_with</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#IntersectionWith"><span class="id" title="class">IntersectionWith</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="map_difference_with"><span class="id" title="instance">map_difference_with</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#DifferenceWith"><span class="id" title="class">DifferenceWith</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> (<a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="definition">difference_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>).<br/>

<br/>
</div>

<div class="doc">
Higher precedence to make sure it's not used for other types with a <span class="inlinecode"><a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="record">Lookup</span></a></span>
instance, such as lists. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="map_equiv"><span class="id" title="instance">map_equiv</span></a> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="var">M</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) | 20 :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="map_Forall"><span class="id" title="definition">map_Forall</span></a> `{<a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="map_relation"><span class="id" title="definition">map_relation</span></a> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="var">M</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">R</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">Q</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#option_relation"><span class="id" title="definition">option_relation</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="map_included"><span class="id" title="definition">map_included</span></a> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="var">M</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)} {<span class="id" title="var">A</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#c355ddcd7bc517c0d78bdc33e3c6747d"><span class="id" title="notation">False</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="map_disjoint"><span class="id" title="definition">map_disjoint</span></a> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="var">M</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)} {<span class="id" title="var">A</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#c355ddcd7bc517c0d78bdc33e3c6747d"><span class="id" title="notation">False</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a>).<br/>
<span class="id" title="keyword">Infix</span> <a name="bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">&quot;</span></a>##ₘ" := <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 0 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">eassumption</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="c7f0a9b77c487a827ac2feb4658bd45b"><span class="id" title="notation">&quot;</span></a>( m ##ₘ.)" := (<a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a name="24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">&quot;</span></a>(.##ₘ m )" := (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">m</span>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>) : <span class="id" title="var">stdpp_scope</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="map_subseteq"><span class="id" title="instance">map_subseteq</span></a> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="var">M</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#SubsetEq"><span class="id" title="class">SubsetEq</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_included"><span class="id" title="definition">map_included</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a>.<br/>

<br/>
</div>

<div class="doc">
The union of two finite maps only has a meaningful definition for maps
that are disjoint. However, as working with partial functions is inconvenient
in Coq, we define the union as a total function. In case both finite maps
have a value at the same index, we take the value of the first map. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="map_union"><span class="id" title="instance">map_union</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#Union"><span class="id" title="class">Union</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="map_intersection"><span class="id" title="instance">map_intersection</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#Intersection"><span class="id" title="class">Intersection</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
</div>

<div class="doc">
The difference operation removes all values from the first map whose
index contains a value in the second map as well. 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="map_difference"><span class="id" title="instance">map_difference</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#Difference"><span class="id" title="class">Difference</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="definition">difference_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>

<br/>
</div>

<div class="doc">
A stronger variant of map that allows the mapped function to use the index
of the elements. Implemented by conversion to lists, so not very efficient. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="map_imap"><span class="id" title="definition">map_imap</span></a> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Insert"><span class="id" title="class">Insert</span></a> <span class="id" title="var">K</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<span class="id" title="var">M</span> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">A</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">ix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#626285221fc8751faa327735d82c5480"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a> <a class="idref" href="stdpp.base.html#626285221fc8751faa327735d82c5480"><span class="id" title="notation">,.)</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a>) (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)).<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;zip&nbsp;operation&nbsp;on&nbsp;maps&nbsp;combines&nbsp;two&nbsp;maps&nbsp;key-wise.&nbsp;The&nbsp;keys&nbsp;of&nbsp;resulting<br/>
map&nbsp;correspond&nbsp;to&nbsp;the&nbsp;keys&nbsp;that&nbsp;are&nbsp;in&nbsp;both&nbsp;maps.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="map_zip_with"><span class="id" title="definition">map_zip_with</span></a> `{<a class="idref" href="stdpp.base.html#Merge"><span class="id" title="class">Merge</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">mx</span> <span class="id" title="var">my</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.fin_maps.html#mx"><span class="id" title="variable">mx</span></a>, <a class="idref" href="stdpp.fin_maps.html#my"><span class="id" title="variable">my</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) | <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="map_zip"><span class="id" title="abbreviation">map_zip</span></a> := (<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Folds&nbsp;a&nbsp;function&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;over&nbsp;a&nbsp;map.&nbsp;The&nbsp;order&nbsp;in&nbsp;which&nbsp;the&nbsp;function&nbsp;is&nbsp;called<br/>
is&nbsp;unspecified.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="map_fold"><span class="id" title="definition">map_fold</span></a> `{<a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>} {<span class="id" title="var">B</span>}<br/>
&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">b</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> := <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="map_filter"><span class="id" title="instance">map_filter</span></a> `{<a class="idref" href="stdpp.fin_maps.html#FinMapToList"><span class="id" title="class">FinMapToList</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> <span class="id" title="var">M</span>, <a class="idref" href="stdpp.base.html#Insert"><span class="id" title="class">Insert</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>, <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>} : <a class="idref" href="stdpp.base.html#Filter"><span class="id" title="class">Filter</span></a> (<a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">P</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="map_seq"><span class="id" title="definition">map_seq</span></a> `{<a class="idref" href="stdpp.base.html#Insert"><span class="id" title="class">Insert</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">A</span> <span class="id" title="var">M</span>, <a class="idref" href="stdpp.base.html#Empty"><span class="id" title="class">Empty</span></a> <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a>} (<span class="id" title="var">start</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">xs</span> =&gt; <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">x</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a>) <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="finmap_lookup_total"><span class="id" title="instance">finmap_lookup_total</span></a> `{!<a class="idref" href="stdpp.base.html#Lookup"><span class="id" title="class">Lookup</span></a> <span class="id" title="var">K</span> <span class="id" title="var">A</span> (<span class="id" title="var">M</span> <span class="id" title="var">A</span>), !<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>} : <a class="idref" href="stdpp.base.html#LookupTotal"><span class="id" title="class">LookupTotal</span></a> <a class="idref" href="stdpp.fin_maps.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="stdpp.fin_maps.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) | 20 :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.option.html#default"><span class="id" title="abbreviation">default</span></a> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Type</span><span class="id" title="var">classes</span> <span class="id" title="keyword">Opaque</span> <span class="id" title="var">finmap_lookup_total</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab64"></a><h1 class="section">Theorems</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems"><span class="id" title="section">theorems</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="stdpp.fin_maps.html#FinMap"><span class="id" title="class">FinMap</span></a> <span class="id" title="var">K</span> <span class="id" title="var">M</span>}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab65"></a><h2 class="section">Setoids</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.setoid"><span class="id" title="section">setoid</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">A</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_equiv_lookup_l"><span class="id" title="lemma">map_equiv_lookup_l</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="stdpp.option.html#equiv_Some_inv_l"><span class="id" title="lemma">equiv_Some_inv_l</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">x</span>); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_equivalence"><span class="id" title="instance">map_equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> ? <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> ?? <span class="id" title="var">i</span>; <span class="id" title="var">trans</span> (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="lookup_proper"><span class="id" title="instance">lookup_proper</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="lookup_total_proper"><span class="id" title="instance">lookup_total_proper</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="stdpp.base.html#lookup_total"><span class="id" title="definition">lookup_total</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#lookup_total"><span class="id" title="definition">lookup_total</span></a>, <a class="idref" href="stdpp.fin_maps.html#finmap_lookup_total"><span class="id" title="instance">finmap_lookup_total</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#from_option_proper"><span class="id" title="instance">from_option_proper</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ??.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="partial_alter_proper"><span class="id" title="instance">partial_alter_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span> <span class="id" title="var">Hf</span> <span class="id" title="var">i</span> ? &lt;- <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_proper"><span class="id" title="instance">lookup_proper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="insert_proper"><span class="id" title="instance">insert_proper</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) (<a class="idref" href="stdpp.base.html#insert"><span class="id" title="definition">insert</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ???; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_proper"><span class="id" title="instance">partial_alter_proper</span></a>; [<span class="id" title="tactic">constructor</span>|]. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="singletonM_proper"><span class="id" title="instance">singletonM_proper</span></a> <span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) (<a class="idref" href="stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ???; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#insert_proper"><span class="id" title="instance">insert_proper</span></a>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="delete_proper"><span class="id" title="instance">delete_proper</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_proper"><span class="id" title="instance">partial_alter_proper</span></a>; [<span class="id" title="tactic">constructor</span>|]. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="alter_proper"><span class="id" title="instance">alter_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_proper"><span class="id" title="instance">partial_alter_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="merge_ext"><span class="id" title="lemma">merge_ext</span></a> `{<a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">B</span>, <a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>, !<a class="idref" href="stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>)%<span class="id" title="var">signature</span> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>)%<span class="id" title="var">signature</span> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> ?? <span class="id" title="var">Hm1</span> ?? <span class="id" title="var">Hm2</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="union_with_proper"><span class="id" title="instance">union_with_proper</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hf</span> ?? <span class="id" title="var">Hm1</span> ?? <span class="id" title="var">Hm2</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_ext"><span class="id" title="lemma">merge_ext</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">first</span> [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span> | <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_leibniz"><span class="id" title="instance">map_leibniz</span></a> `{!<a class="idref" href="stdpp.base.html#LeibnizEquiv"><span class="id" title="class">LeibnizEquiv</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a>} : <a class="idref" href="stdpp.base.html#LeibnizEquiv"><span class="id" title="class">LeibnizEquiv</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a>, <span class="id" title="var">Hm</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_equiv_empty"><span class="id" title="lemma">map_equiv_empty</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>|<span class="id" title="tactic">intros</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, <a class="idref" href="stdpp.option.html#equiv_None"><span class="id" title="lemma">equiv_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_fmap_proper"><span class="id" title="instance">map_fmap_proper</span></a> `{<a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">(≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#6683688d633b27b778b4c0268f608b66"><span class="id" title="notation">})</span></a>) (<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">m</span> <span class="id" title="var">m'</span> ? <span class="id" title="var">k</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_fmap_proper"><span class="id" title="instance">option_fmap_proper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="map_zip_with_proper"><span class="id" title="instance">map_zip_with_proper</span></a> `{<a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">B</span>, <a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.setoid.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a>) <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#merge_ext"><span class="id" title="lemma">merge_ext</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">repeat</span> <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">constructor</span> || <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.setoid"><span class="id" title="section">setoid</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab66"></a><h2 class="section">General properties</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_eq_iff"><span class="id" title="lemma">map_eq_iff</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#subseteq"><span class="id" title="definition">subseteq</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_subseteq"><span class="id" title="instance">map_subseteq</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="map_included_preorder"><span class="id" title="instance">map_included_preorder</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_included"><span class="id" title="definition">map_included</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">simpl</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> <span class="id" title="var">Hm12</span> <span class="id" title="var">Hm23</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm12</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm23</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m3</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">simplify_eq</span>/=;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">done</span> || <span class="id" title="var">etrans</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="map_subseteq_po"><span class="id" title="instance">map_subseteq_po</span></a> : <a class="idref" href="stdpp.base.html#PartialOrder"><span class="id" title="class">PartialOrder</span></a> <a class="idref" href="stdpp.base.html#40b8d1ad8493c44b056a74186806c302"><span class="id" title="notation">(⊆@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#40b8d1ad8493c44b056a74186806c302"><span class="id" title="notation">})</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.option.html#default"><span class="id" title="abbreviation">default</span></a> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_correct"><span class="id" title="lemma">lookup_total_correct</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_lookup_total"><span class="id" title="lemma">lookup_lookup_total</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_total_correct"><span class="id" title="lemma">lookup_total_correct</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_weaken_is_Some"><span class="id" title="lemma">lookup_weaken_is_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_weaken_None"><span class="id" title="lemma">lookup_weaken_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>, !<a class="idref" href="stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">Hm</span> [??]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm2</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_weaken_inv"><span class="id" title="lemma">lookup_weaken_inv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span> ? <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_ne"><span class="id" title="lemma">lookup_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_empty"><span class="id" title="lemma">map_empty</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_empty_is_Some"><span class="id" title="lemma">lookup_empty_is_Some</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">inversion</span> 1. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_empty_Some"><span class="id" title="lemma">lookup_empty_Some</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="loopup_total_empty"><span class="id" title="lemma">loopup_total_empty</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_subset_empty"><span class="id" title="lemma">map_subset_empty</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#0ecb32c24fb02761cfcb26aa9832ee04"><span class="id" title="notation">⊄</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> []]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_empty"><span class="id" title="lemma">map_fmap_empty</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_empty_inv"><span class="id" title="lemma">map_fmap_empty_inv</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> (<a class="idref" href="stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, <a class="idref" href="stdpp.option.html#fmap_None"><span class="id" title="lemma">fmap_None</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_subset_alt"><span class="id" title="lemma">map_subset_alt</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.orders.html#strict_spec_alt"><span class="id" title="lemma">strict_spec_alt</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? <span class="id" title="var">Heq</span>]; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Exists"><span class="id" title="inductive">Exists</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">ix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[[<span class="id" title="var">i</span> <span class="id" title="var">x</span>] [?%<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> ?]]%<a class="idref" href="stdpp.list.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">Hm</span>%(<a class="idref" href="stdpp.list.html#not_Exists_Forall"><span class="id" title="lemma">not_Exists_Forall</span></a> <span class="id" title="var">_</span>)]; [<span class="id" title="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#anti_symm"><span class="id" title="definition">anti_symm</span></a> <span class="id" title="var">_</span>), <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> (<a class="idref" href="stdpp.list.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">Hm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>), <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#lookup_weaken_inv"><span class="id" title="lemma">lookup_weaken_inv</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x'</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [? (<span class="id" title="var">i</span>&amp;?&amp;<span class="id" title="var">x</span>&amp;?)]; <span class="id" title="tactic">split</span>; [<span class="id" title="var">done</span>|]. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab67"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="projection">partial_alter</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_ext"><span class="id" title="lemma">partial_alter_ext</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ii</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ii</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_commute"><span class="id" title="lemma">partial_alter_commute</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">jj</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">jj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">jj</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_self_alt"><span class="id" title="lemma">partial_alter_self_alt</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">ii</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ii</span>)) <span class="id" title="keyword">as</span> [-&gt;|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_self"><span class="id" title="lemma">partial_alter_self</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_self_alt"><span class="id" title="lemma">partial_alter_self_alt</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_subseteq"><span class="id" title="lemma">partial_alter_subseteq</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_subset"><span class="id" title="lemma">partial_alter_subset</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hfi</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_subset_alt"><span class="id" title="lemma">map_subset_alt</span></a>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_subseteq"><span class="id" title="lemma">partial_alter_subseteq</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab68"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#alter"><span class="id" title="projection">alter</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_alter"><span class="id" title="lemma">lookup_alter</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_ext"><span class="id" title="lemma">alter_ext</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_ext"><span class="id" title="lemma">partial_alter_ext</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span>|] ?; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_compose"><span class="id" title="lemma">alter_compose</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_alter"><span class="id" title="instance">map_alter</span></a>. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_ext"><span class="id" title="lemma">partial_alter_ext</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [?|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_commute"><span class="id" title="lemma">alter_commute</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_commute"><span class="id" title="lemma">partial_alter_commute</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_alter_Some"><span class="id" title="lemma">lookup_alter_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a>. <span class="id" title="var">naive_solver</span> (<span class="id" title="var">simplify_option_eq</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_alter_None"><span class="id" title="lemma">lookup_alter_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a>, ?<a class="idref" href="stdpp.option.html#fmap_None"><span class="id" title="lemma">fmap_None</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_alter_is_Some"><span class="id" title="lemma">lookup_alter_is_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-!<a class="idref" href="stdpp.option.html#not_eq_None_Some"><span class="id" title="lemma">not_eq_None_Some</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_alter_None"><span class="id" title="lemma">lookup_alter_None</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_id"><span class="id" title="lemma">alter_id</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span>); <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_mono"><span class="id" title="lemma">alter_mono</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">j</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_alter_Some"><span class="id" title="lemma">lookup_alter_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_strict_mono"><span class="id" title="lemma">alter_strict_mono</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">f</span> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subset_alt"><span class="id" title="lemma">map_subset_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? (<span class="id" title="var">j</span>&amp;?&amp;?)]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#alter_mono"><span class="id" title="lemma">alter_mono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter_None"><span class="id" title="lemma">lookup_alter_None</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_alter_is_Some"><span class="id" title="lemma">lookup_alter_is_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab69"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#delete"><span class="id" title="projection">delete</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_delete"><span class="id" title="lemma">lookup_delete</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_delete"><span class="id" title="lemma">lookup_total_delete</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> : <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_delete_ne"><span class="id" title="lemma">lookup_total_delete_ne</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [??]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_delete_is_Some"><span class="id" title="lemma">lookup_delete_is_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_delete_None"><span class="id" title="lemma">lookup_delete_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_empty"><span class="id" title="lemma">delete_empty</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#partial_alter_self"><span class="id" title="lemma">partial_alter_self</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>) <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_commute"><span class="id" title="lemma">delete_commute</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)). <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_commute"><span class="id" title="lemma">partial_alter_commute</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_insert_ne"><span class="id" title="lemma">delete_insert_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_commute"><span class="id" title="lemma">partial_alter_commute</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_notin"><span class="id" title="lemma">delete_notin</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_idemp"><span class="id" title="lemma">delete_idemp</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_partial_alter"><span class="id" title="lemma">delete_partial_alter</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">f</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_delete"><span class="id" title="instance">map_delete</span></a>. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_self_alt"><span class="id" title="lemma">partial_alter_self_alt</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_insert"><span class="id" title="lemma">delete_insert</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#delete_partial_alter"><span class="id" title="lemma">delete_partial_alter</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_insert_delete"><span class="id" title="lemma">delete_insert_delete</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_delete"><span class="id" title="lemma">insert_delete</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>)). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_subseteq"><span class="id" title="lemma">delete_subseteq</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_subset"><span class="id" title="lemma">delete_subset</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> ?]; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_subset_alt"><span class="id" title="lemma">map_subset_alt</span></a>; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#delete_subseteq"><span class="id" title="lemma">delete_subseteq</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_mono"><span class="id" title="lemma">delete_mono</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">j</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab70"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#insert"><span class="id" title="projection">insert</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#insert"><span class="id" title="definition">insert</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_insert"><span class="id" title="lemma">lookup_total_insert</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert_rev"><span class="id" title="lemma">lookup_insert_rev</span></a> {<span class="id" title="var">A</span>}  (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#insert"><span class="id" title="definition">insert</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_insert_ne"><span class="id" title="lemma">lookup_total_insert_ne</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_insert"><span class="id" title="lemma">insert_insert</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#insert"><span class="id" title="definition">insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_insert"><span class="id" title="instance">map_insert</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_commute"><span class="id" title="lemma">insert_commute</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_commute"><span class="id" title="lemma">partial_alter_commute</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[-&gt; -&gt;]|[??]]; [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>|]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert_is_Some"><span class="id" title="lemma">lookup_insert_is_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert_is_Some'"><span class="id" title="lemma">lookup_insert_is_Some'</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_is_Some"><span class="id" title="lemma">lookup_insert_is_Some</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><span class="id" title="var">j</span>)); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_insert_None"><span class="id" title="lemma">lookup_insert_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [??]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_id"><span class="id" title="lemma">insert_id</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_included"><span class="id" title="lemma">insert_included</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">R</span> `{!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_included"><span class="id" title="definition">map_included</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span>); <span class="id" title="tactic">simpl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_empty"><span class="id" title="lemma">insert_empty</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_non_empty"><span class="id" title="lemma">insert_non_empty</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>%(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">(.!!</span></a> <span class="id" title="var">i</span><a class="idref" href="stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_subseteq"><span class="id" title="lemma">insert_subseteq</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_subseteq"><span class="id" title="lemma">partial_alter_subseteq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_subset"><span class="id" title="lemma">insert_subset</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_subset"><span class="id" title="lemma">partial_alter_subset</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_mono"><span class="id" title="lemma">insert_mono</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_subseteq_r"><span class="id" title="lemma">insert_subseteq_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">trans</span> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">i</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">x</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <span class="id" title="var">m1</span>); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#insert_subseteq"><span class="id" title="lemma">insert_subseteq</span></a>, <a class="idref" href="stdpp.fin_maps.html#insert_mono"><span class="id" title="lemma">insert_mono</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_delete_subseteq"><span class="id" title="lemma">insert_delete_subseteq</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hix</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|]; [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hix</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_insert_subseteq"><span class="id" title="lemma">delete_insert_subseteq</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hix</span> <span class="id" title="var">Hi</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> <span class="id" title="var">Hj</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_delete_subset"><span class="id" title="lemma">insert_delete_subset</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? [<span class="id" title="var">Hm12</span> <span class="id" title="var">Hm21</span>]; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#insert_delete_subseteq"><span class="id" title="lemma">insert_delete_subseteq</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">Hm21</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#delete_insert_subseteq"><span class="id" title="lemma">delete_insert_subseteq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>, <span class="id" title="var">Hm12</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_subset_inv"><span class="id" title="lemma">insert_subset_inv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">m2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Hm1m2</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">i</span> <span class="id" title="var">m2</span>). <span class="id" title="var">split_and</span>?.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#insert_delete"><span class="id" title="lemma">insert_delete</span></a>, <a class="idref" href="stdpp.fin_maps.html#insert_id"><span class="id" title="lemma">insert_id</span></a>. <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>, <a class="idref" href="stdpp.orders.html#strict_include"><span class="id" title="lemma">strict_include</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#insert_delete_subset"><span class="id" title="lemma">insert_delete_subset</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab71"></a><h2 class="section">Properties of the singleton maps</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_singleton_Some"><span class="id" title="lemma">lookup_singleton_Some</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#insert_empty"><span class="id" title="lemma">insert_empty</span></a>,<a class="idref" href="stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_singleton_None"><span class="id" title="lemma">lookup_singleton_None</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#insert_empty"><span class="id" title="lemma">insert_empty</span></a>,<a class="idref" href="stdpp.fin_maps.html#lookup_insert_None"><span class="id" title="lemma">lookup_insert_None</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>; <span class="id" title="tactic">tauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_Some"><span class="id" title="lemma">lookup_singleton_Some</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_singleton"><span class="id" title="lemma">lookup_total_singleton</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_None"><span class="id" title="lemma">lookup_singleton_None</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_total_singleton_ne"><span class="id" title="lemma">lookup_total_singleton_ne</span></a> `{!<a class="idref" href="stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#5a6ec76419c81272088828e5026fff95"><span class="id" title="notation">!!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#inhabitant"><span class="id" title="method">inhabitant</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_non_empty_singleton"><span class="id" title="lemma">map_non_empty_singleton</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hix</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">(.!!</span></a> <span class="id" title="var">i</span><a class="idref" href="stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hix</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hix</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_singleton"><span class="id" title="lemma">insert_singleton</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_singleton"><span class="id" title="instance">map_singleton</span></a>, <a class="idref" href="stdpp.base.html#insert"><span class="id" title="definition">insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_insert"><span class="id" title="instance">map_insert</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_singleton"><span class="id" title="lemma">alter_singleton</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i'</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_singleton_ne"><span class="id" title="lemma">alter_singleton_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i'</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_non_empty"><span class="id" title="lemma">singleton_non_empty</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#insert_non_empty"><span class="id" title="lemma">insert_non_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_singleton"><span class="id" title="lemma">delete_singleton</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">setoid_rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#partial_alter_compose"><span class="id" title="lemma">partial_alter_compose</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#delete_empty"><span class="id" title="lemma">delete_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_singleton_ne"><span class="id" title="lemma">delete_singleton_ne</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> <span class="id" title="var">j</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#delete_notin"><span class="id" title="lemma">delete_notin</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab72"></a><h2 class="section">Properties of the map operations</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fmap_empty"><span class="id" title="lemma">fmap_empty</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_empty"><span class="id" title="lemma">map_empty</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="omap_empty"><span class="id" title="lemma">omap_empty</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_empty"><span class="id" title="lemma">map_empty</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="fmap_insert"><span class="id" title="lemma">fmap_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span>: <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>: <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="fmap_delete"><span class="id" title="lemma">fmap_delete</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span>: <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">m</span> <span class="id" title="var">i</span>: <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="omap_insert"><span class="id" title="lemma">omap_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_singleton"><span class="id" title="lemma">map_fmap_singleton</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_singleton"><span class="id" title="instance">map_singleton</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#fmap_insert"><span class="id" title="lemma">fmap_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_fmap_empty"><span class="id" title="lemma">map_fmap_empty</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="omap_singleton"><span class="id" title="lemma">omap_singleton</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_singleton"><span class="id" title="instance">map_singleton</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="stdpp.fin_maps.html#omap_insert"><span class="id" title="lemma">omap_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#omap_empty"><span class="id" title="lemma">omap_empty</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_id"><span class="id" title="lemma">map_fmap_id</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, <a class="idref" href="stdpp.option.html#option_fmap_id"><span class="id" title="lemma">option_fmap_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_compose"><span class="id" title="lemma">map_fmap_compose</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>,<a class="idref" href="stdpp.option.html#option_fmap_compose"><span class="id" title="lemma">option_fmap_compose</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_equiv_ext"><span class="id" title="lemma">map_fmap_equiv_ext</span></a> {<span class="id" title="var">A</span>} `{<a class="idref" href="stdpp.base.html#Equiv"><span class="id" title="class">Equiv</span></a> <span class="id" title="var">B</span>} (<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_ext"><span class="id" title="lemma">map_fmap_ext</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">erewrite</span> ?<span class="id" title="var">Hi</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="omap_ext"><span class="id" title="lemma">omap_ext</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f1</span> <span class="id" title="var">f2</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">erewrite</span> ?<span class="id" title="var">Hi</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_mono"><span class="id" title="lemma">map_fmap_mono</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.option.html#fmap_Some"><span class="id" title="lemma">fmap_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_strict_mono"><span class="id" title="lemma">map_fmap_strict_mono</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subset_alt"><span class="id" title="lemma">map_subset_alt</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [? (<span class="id" title="var">j</span>&amp;?&amp;?)]; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_fmap_mono"><span class="id" title="lemma">map_fmap_mono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, <a class="idref" href="stdpp.option.html#fmap_None"><span class="id" title="lemma">fmap_None</span></a>, <a class="idref" href="stdpp.option.html#fmap_is_Some"><span class="id" title="lemma">fmap_is_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_omap_mono"><span class="id" title="lemma">map_omap_mono</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a>, !<a class="idref" href="stdpp.option.html#bind_Some"><span class="id" title="lemma">bind_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab73"></a><h2 class="section">Properties of conversion to lists</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="elem_of_map_to_list'"><span class="id" title="lemma">elem_of_map_to_list'</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">ix</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a><a class="idref" href="stdpp.base.html#18385c18dcb8b3a70ec76a4d5bf90758"><span class="id" title="notation">.2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ix</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">x</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_unique"><span class="id" title="lemma">map_to_list_unique</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.list.html#NoDup_fmap_fst"><span class="id" title="lemma">NoDup_fmap_fst</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_unique"><span class="id" title="lemma">map_to_list_unique</span></a>, <a class="idref" href="stdpp.fin_maps.html#NoDup_map_to_list"><span class="id" title="method">NoDup_map_to_list</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_list_to_map_1'"><span class="id" title="lemma">elem_of_list_to_map_1'</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">j</span> <span class="id" title="var">y</span>] <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="var">csimpl</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_nil"><span class="id" title="lemma">elem_of_nil</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdup</span> [?|?]; <span class="id" title="var">simplify_eq</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_sym"><span class="id" title="lemma">eq_sym</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_list_to_map_1"><span class="id" title="lemma">elem_of_list_to_map_1</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hx</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_1'"><span class="id" title="lemma">elem_of_list_to_map_1'</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.list.html#NoDup_fmap_fst"><span class="id" title="lemma">NoDup_fmap_fst</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>; <span class="id" title="var">revert</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.list.html#elem_of_list_lookup"><span class="id" title="lemma">elem_of_list_lookup</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">i'</span> <span class="id" title="var">Hi'</span>] [<span class="id" title="var">j'</span> <span class="id" title="var">Hj'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j'</span>); [<span class="id" title="var">naive_solver</span>|]. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#NoDup_lookup"><span class="id" title="lemma">NoDup_lookup</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <span class="id" title="var">i</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.list.html#list_lookup_fmap"><span class="id" title="lemma">list_lookup_fmap</span></a>, ?<span class="id" title="var">Hi'</span>, ?<span class="id" title="var">Hj'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_list_to_map_2"><span class="id" title="lemma">elem_of_list_to_map_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">j</span> <span class="id" title="var">y</span>] <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_list_to_map'"><span class="id" title="lemma">elem_of_list_to_map'</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_1'"><span class="id" title="lemma">elem_of_list_to_map_1'</span></a>, <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_2"><span class="id" title="lemma">elem_of_list_to_map_2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_list_to_map"><span class="id" title="lemma">elem_of_list_to_map</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_1"><span class="id" title="lemma">elem_of_list_to_map_1</span></a>, <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_2"><span class="id" title="lemma">elem_of_list_to_map_2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="not_elem_of_list_to_map_1"><span class="id" title="lemma">not_elem_of_list_to_map_1</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>, <a class="idref" href="stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span> [<span class="id" title="var">x</span> ?]; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_2"><span class="id" title="lemma">elem_of_list_to_map_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="not_elem_of_list_to_map_2"><span class="id" title="lemma">not_elem_of_list_to_map_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">j</span> <span class="id" title="var">y</span>] <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="var">csimpl</span>; [<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_nil"><span class="id" title="lemma">elem_of_nil</span></a>; <span class="id" title="tactic">tauto</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="not_elem_of_list_to_map"><span class="id" title="lemma">not_elem_of_list_to_map</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#not_elem_of_list_to_map_1"><span class="id" title="lemma">not_elem_of_list_to_map_1</span></a>,<a class="idref" href="stdpp.fin_maps.html#not_elem_of_list_to_map_2"><span class="id" title="lemma">not_elem_of_list_to_map_2</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_proper"><span class="id" title="lemma">list_to_map_proper</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l1"><span class="id" title="variable">l1</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hperm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-!<a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map"><span class="id" title="lemma">elem_of_list_to_map</span></a>; <span class="id" title="tactic">rewrite</span> &lt;-?<span class="id" title="var">Hperm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_inj"><span class="id" title="lemma">list_to_map_inj</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l1"><span class="id" title="variable">l1</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hl1l2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#NoDup_Permutation"><span class="id" title="lemma">NoDup_Permutation</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> (<a class="idref" href="stdpp.list.html#NoDup_fmap_1"><span class="id" title="lemma">NoDup_fmap_1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">x</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map"><span class="id" title="lemma">elem_of_list_to_map</span></a>, <span class="id" title="var">Hl1l2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map"><span class="id" title="lemma">elem_of_list_to_map</span></a>, <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_to_map"><span class="id" title="lemma">map_to_list_to_map</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> (<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#list_to_map_inj"><span class="id" title="lemma">list_to_map_inj</span></a>, <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>, <a class="idref" href="stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_inj"><span class="id" title="lemma">map_to_list_inj</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a> <span class="id" title="var">m1</span>), &lt;-(<a class="idref" href="stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a> <span class="id" title="var">m2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#list_to_map_proper"><span class="id" title="lemma">list_to_map_proper</span></a>, <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_flip"><span class="id" title="lemma">list_to_map_flip</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">l2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l2"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a> <span class="id" title="var">m1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#list_to_map_proper"><span class="id" title="lemma">list_to_map_proper</span></a>, <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_nil"><span class="id" title="lemma">list_to_map_nil</span></a> {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_cons"><span class="id" title="lemma">list_to_map_cons</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="list_to_map_fmap"><span class="id" title="lemma">list_to_map_fmap</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">l</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">i</span> <span class="id" title="var">x</span>] <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="var">csimpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#fmap_empty"><span class="id" title="lemma">fmap_empty</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#list_to_map_cons"><span class="id" title="lemma">list_to_map_cons</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>, &lt;-<a class="idref" href="stdpp.fin_maps.html#fmap_insert"><span class="id" title="lemma">fmap_insert</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a> {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#elem_of_nil_inv"><span class="id" title="lemma">elem_of_nil_inv</span></a>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">x</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty_Some"><span class="id" title="lemma">lookup_empty_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#list_to_map_inj"><span class="id" title="lemma">list_to_map_inj</span></a>; <span class="id" title="var">csimpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>. <span class="id" title="tactic">intros</span> [[??] [? <span class="id" title="var">Hlookup</span>]]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlookup</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_singleton"><span class="id" title="lemma">map_to_list_singleton</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#Permutation_singleton"><span class="id" title="lemma">Permutation_singleton</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_singleton"><span class="id" title="instance">map_singleton</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_submseteq"><span class="id" title="lemma">map_to_list_submseteq</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.list.html#7c8530603f0f326b23aac89794299d5d"><span class="id" title="notation">⊆+</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#NoDup_submseteq"><span class="id" title="lemma">NoDup_submseteq</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_map_to_list"><span class="id" title="method">NoDup_map_to_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">x</span>]. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_fmap"><span class="id" title="lemma">map_to_list_fmap</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.base.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <span class="id" title="var">f</span> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a>)).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;-<a class="idref" href="stdpp.list.html#list_fmap_compose"><span class="id" title="lemma">list_fmap_compose</span></a>, (<a class="idref" href="stdpp.list.html#list_fmap_ext"><span class="id" title="lemma">list_fmap_ext</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#list_to_map_to_list"><span class="id" title="lemma">list_to_map_to_list</span></a> <span class="id" title="var">m</span>) <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#list_to_map_fmap"><span class="id" title="lemma">list_to_map_fmap</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_to_map"><span class="id" title="lemma">map_to_list_to_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_empty_inv_alt"><span class="id" title="lemma">map_to_list_empty_inv_alt</span></a> {<span class="id" title="var">A</span>}  (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_inj"><span class="id" title="lemma">map_to_list_inj</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_empty_inv"><span class="id" title="lemma">map_to_list_empty_inv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty_inv_alt"><span class="id" title="lemma">map_to_list_empty_inv_alt</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_empty'"><span class="id" title="lemma">map_to_list_empty'</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty_inv"><span class="id" title="lemma">map_to_list_empty_inv</span></a>. <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_insert_inv"><span class="id" title="lemma">map_to_list_insert_inv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hperm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_inj"><span class="id" title="lemma">map_to_list_inj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <span class="id" title="var">l</span><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<span class="id" title="var">l</span><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>)) <span class="id" title="keyword">as</span> [].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.list.html#NoDup_cons"><span class="id" title="lemma">NoDup_cons</span></a>. <span class="id" title="tactic">change</span> (<a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">).*1</span></a>)). <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">Hperm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hperm</span>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_to_map"><span class="id" title="lemma">map_to_list_to_map</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#not_elem_of_list_to_map_1"><span class="id" title="lemma">not_elem_of_list_to_map_1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_choose"><span class="id" title="lemma">map_choose</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hemp</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [|[<span class="id" title="var">i</span> <span class="id" title="var">x</span>] <span class="id" title="var">l</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hemp</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty_inv"><span class="id" title="lemma">map_to_list_empty_inv</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>, <span class="id" title="var">Hm</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="map_eq_dec_empty"><span class="id" title="instance">map_eq_dec_empty</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>) | 20.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="stdpp.decidable.html#cast_if"><span class="id" title="abbreviation">cast_if</span></a> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-?<a class="idref" href="stdpp.fin_maps.html#map_to_list_empty'"><span class="id" title="lemma">map_to_list_empty'</span></a> ..].<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Properties of the imap function 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="stdpp.base.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <span class="id" title="var">f</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hi</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map_1'"><span class="id" title="lemma">elem_of_list_to_map_1'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">y'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_omap"><span class="id" title="lemma">elem_of_list_omap</span></a>; <span class="id" title="tactic">intros</span> ([<span class="id" title="var">i'</span> <span class="id" title="var">x'</span>]&amp;<span class="id" title="var">Hi'</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi'</span>; <span class="id" title="var">simplify_option_eq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#elem_of_list_omap"><span class="id" title="lemma">elem_of_list_omap</span></a>; <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>|<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_option_eq</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#not_elem_of_list_to_map"><span class="id" title="lemma">not_elem_of_list_to_map</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ([<span class="id" title="var">i'</span> <span class="id" title="var">x</span>]&amp;-&gt;&amp;<span class="id" title="var">Hi'</span>); <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_omap"><span class="id" title="lemma">elem_of_list_omap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi'</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">j</span> <span class="id" title="var">y</span>]&amp;<span class="id" title="var">Hj</span>&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span>; <span class="id" title="var">simplify_option_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_imap_Some"><span class="id" title="lemma">map_imap_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>) <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_imap_insert"><span class="id" title="lemma">map_imap_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">v</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>   =&gt; <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">w</span> =&gt; <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">w</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">w</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hw</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Hk_not_i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|<span class="id" title="var">Hk_not_i</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_imap_ext"><span class="id" title="lemma">map_imap_ext</span></a> {<span class="id" title="var">A1</span> <span class="id" title="var">A2</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A1"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A2"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A1"><span class="id" title="variable">A1</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A2"><span class="id" title="variable">A2</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="stdpp.fin_maps.html#f1"><span class="id" title="variable">f1</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> <a class="idref" href="stdpp.fin_maps.html#f2"><span class="id" title="variable">f2</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HExt</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HExt</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab74"></a><h2 class="section">Properties of the size operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_size_empty"><span class="id" title="lemma">map_size_empty</span></a> {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_size"><span class="id" title="instance">map_size</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_size_empty_inv"><span class="id" title="lemma">map_size_empty_inv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_size"><span class="id" title="instance">map_size</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty'"><span class="id" title="lemma">map_to_list_empty'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_size_empty_iff"><span class="id" title="lemma">map_size_empty_iff</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_size_empty_inv"><span class="id" title="lemma">map_size_empty_inv</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_size_empty"><span class="id" title="lemma">map_size_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_size_non_empty_iff"><span class="id" title="lemma">map_size_non_empty_iff</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_size_empty_iff"><span class="id" title="lemma">map_size_empty_iff</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_size_singleton"><span class="id" title="lemma">map_size_singleton</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_size"><span class="id" title="instance">map_size</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_singleton"><span class="id" title="lemma">map_to_list_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_size_insert"><span class="id" title="lemma">map_size_insert</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">i</span> <span class="id" title="var">x</span> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_size"><span class="id" title="instance">map_size</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_size_fmap"><span class="id" title="lemma">map_size_fmap</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#size"><span class="id" title="definition">size</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_size"><span class="id" title="instance">map_size</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_fmap"><span class="id" title="lemma">map_to_list_fmap</span></a>, <a class="idref" href="stdpp.list.html#fmap_length"><span class="id" title="lemma">fmap_length</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab75"></a><h2 class="section">Properties of conversion from sets</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.set_to_map"><span class="id" title="section">set_to_map</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} `{<a class="idref" href="stdpp.base.html#FinSet"><span class="id" title="class">FinSet</span></a> <span class="id" title="var">B</span> <span class="id" title="var">C</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_set_to_map"><span class="id" title="lemma">lookup_set_to_map</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">Y</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.C"><span class="id" title="variable">C</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span> <span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">).1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#set_to_map"><span class="id" title="definition">set_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#Y"><span class="id" title="variable">Y</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hinj</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">f</span> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">Y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <span class="id" title="var">f</span> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.base.html#elements"><span class="id" title="definition">elements</span></a> <span class="id" title="var">Y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x'"><span class="id" title="variable">x'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">x'</span>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Hx</span>&amp;<span class="id" title="var">Hy</span>)%<a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a> (<span class="id" title="var">y'</span>&amp;<span class="id" title="var">Hx'</span>&amp;<span class="id" title="var">Hy'</span>)%<a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.base.html#elem_of_elements"><span class="id" title="method">elem_of_elements</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hy</span>, <span class="id" title="var">Hy'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">y'</span>); [<span class="id" title="tactic">congruence</span>|]. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hinj</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">Hx</span>, &lt;-<span class="id" title="var">Hx'</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#set_to_map"><span class="id" title="definition">set_to_map</span></a>; <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#elem_of_list_to_map'"><span class="id" title="lemma">elem_of_list_to_map'</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.base.html#elem_of_elements"><span class="id" title="method">elem_of_elements</span></a>; <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="elem_of_map_to_set"><span class="id" title="lemma">elem_of_map_to_set</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">y</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> (<span class="id" title="var">C</span>:=<a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.C"><span class="id" title="variable">C</span></a>) <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.sets.html#elem_of_list_to_set"><span class="id" title="lemma">elem_of_list_to_set</span></a>, <a class="idref" href="stdpp.list.html#elem_of_list_fmap"><span class="id" title="lemma">elem_of_list_fmap</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ([<span class="id" title="var">i</span> <span class="id" title="var">x</span>] &amp; ? &amp; ?%<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>&amp;<span class="id" title="var">x</span>&amp;?&amp;?). <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_to_set_empty"><span class="id" title="lemma">map_to_set_empty</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.C"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_to_set_insert"><span class="id" title="lemma">map_to_set_insert</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.B"><span class="id" title="variable">B</span></a>)(<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.base.html#dd37b431e739e6af49107f4345ce0aa7"><span class="id" title="notation">≡@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.C"><span class="id" title="variable">C</span></a><a class="idref" href="stdpp.base.html#dd37b431e739e6af49107f4345ce0aa7"><span class="id" title="notation">}</span></a> <a class="idref" href="stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_to_set_insert_L"><span class="id" title="lemma">map_to_set_insert_L</span></a> `{!<a class="idref" href="stdpp.base.html#LeibnizEquiv"><span class="id" title="class">LeibnizEquiv</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.C"><span class="id" title="variable">C</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map.C"><span class="id" title="variable">C</span></a><a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#bb8184054cdbc2cb76438a0b028fc3e8"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">unfold_leibniz</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_set_insert"><span class="id" title="lemma">map_to_set_insert</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.set_to_map"><span class="id" title="section">set_to_map</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_set_to_map_id"><span class="id" title="lemma">lookup_set_to_map_id</span></a> `{<a class="idref" href="stdpp.base.html#FinSet"><span class="id" title="class">FinSet</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">C</span>} (<span class="id" title="var">X</span> : <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">y</span> <span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#set_to_map"><span class="id" title="definition">set_to_map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a> <a class="idref" href="stdpp.fin_maps.html#X"><span class="id" title="variable">X</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#X"><span class="id" title="variable">X</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">etrans</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_set_to_map"><span class="id" title="lemma">lookup_set_to_map</span></a>|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] [] ???; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="elem_of_map_to_set_pair"><span class="id" title="lemma">elem_of_map_to_set_pair</span></a> `{<a class="idref" href="stdpp.base.html#FinSet"><span class="id" title="class">FinSet</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">C</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#32bdf1c61a13e8cb0e6ac97c698c267c"><span class="id" title="notation">∈@{</span></a><a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a><a class="idref" href="stdpp.base.html#32bdf1c61a13e8cb0e6ac97c698c267c"><span class="id" title="notation">}</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_set"><span class="id" title="definition">map_to_set</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_set"><span class="id" title="lemma">elem_of_map_to_set</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab76"></a><h2 class="section">Induction principles</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_ind"><span class="id" title="lemma">map_ind</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hins</span>. <span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="stdpp.base.html#5699004f90d3c9aa7b72c8644e5e3b1f"><span class="id" title="notation">.*1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">P</span> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">help</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">help</span> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span>)); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|[<span class="id" title="var">i</span> <span class="id" title="var">x</span>] <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hnodup</span> <span class="id" title="var">m</span> <span class="id" title="var">Hml</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty_inv_alt"><span class="id" title="lemma">map_to_list_empty_inv_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hml</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">subst</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert_inv"><span class="id" title="lemma">map_to_list_insert_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hml</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hins</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#not_elem_of_list_to_map_1"><span class="id" title="lemma">not_elem_of_list_to_map_1</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_to_map"><span class="id" title="lemma">map_to_list_to_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_to_list_length"><span class="id" title="lemma">map_to_list_length</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#ff89d5296558416ac76a8d47095e3621"><span class="id" title="notation">⊂</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">m1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span> ? <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Arith.Lt.html#neq_0_lt"><span class="id" title="lemma">neq_0_lt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hlen</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.list.html#nil_length_inv"><span class="id" title="lemma">nil_length_inv</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty_inv"><span class="id" title="lemma">map_to_list_empty_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hlen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlen</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#irreflexivity"><span class="id" title="definition">irreflexivity</span></a> <a class="idref" href="stdpp.base.html#cd7dc6e9fc521b0865ed36965f65c8fc"><span class="id" title="notation">(⊂)</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <span class="id" title="var">Hm2</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.fin_maps.html#insert_subset_inv"><span class="id" title="lemma">insert_subset_inv</span></a> <span class="id" title="var">m</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">m2'</span>&amp;?&amp;?&amp;?); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_wf"><span class="id" title="lemma">map_wf</span></a> {<span class="id" title="var">A</span>} : <a class="idref" href="stdpp.relations.html#wf"><span class="id" title="abbreviation">wf</span></a> <a class="idref" href="stdpp.base.html#6bb45f2585cc5e75350c916d17364564"><span class="id" title="notation">(⊂@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#6bb45f2585cc5e75350c916d17364564"><span class="id" title="notation">})</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.relations.html#wf_projected"><span class="id" title="lemma">wf_projected</span></a> <a class="idref" href="stdpp.numbers.html#2f153f82bef3eb7e60778916c1264591"><span class="id" title="notation">(&lt;)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_length"><span class="id" title="lemma">map_to_list_length</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Arith.Wf_nat.html#lt_wf"><span class="id" title="lemma">lt_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab77"></a><h2 class="section">The fold operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_fold_empty"><span class="id" title="lemma">map_fold_empty</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">b</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fold_insert"><span class="id" title="lemma">map_fold_insert</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) `{!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">b</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">j</span> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">j1</span> <span class="id" title="var">j2</span> <span class="id" title="var">z1</span> <span class="id" title="var">z2</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z1"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z2"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="stdpp.fin_maps.html#z1"><span class="id" title="variable">z1</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="stdpp.fin_maps.html#z2"><span class="id" title="variable">z2</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)) (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="stdpp.fin_maps.html#z2"><span class="id" title="variable">z2</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="stdpp.fin_maps.html#z1"><span class="id" title="variable">z1</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf_proper</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">kz</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <span class="id" title="var">f</span> <a class="idref" href="stdpp.fin_maps.html#kz"><span class="id" title="variable">kz</span></a>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">intros</span> []; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">b</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span>)); [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="stdpp.list.html#foldr_permutation"><span class="id" title="lemma">foldr_permutation</span></a> <span class="id" title="var">R</span> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">b</span>), <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j1</span> [<span class="id" title="var">k1</span> <span class="id" title="var">y1</span>] <span class="id" title="var">j2</span> [<span class="id" title="var">k2</span> <span class="id" title="var">y2</span>] <span class="id" title="var">c</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Hj1</span> <span class="id" title="var">Hj2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hj</span>, <a class="idref" href="stdpp.list.html#NoDup_lookup"><span class="id" title="lemma">NoDup_lookup</span></a>; [<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#NoDup_fst_map_to_list"><span class="id" title="lemma">NoDup_fst_map_to_list</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">i</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">x</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <span class="id" title="var">m</span>))| | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#list_lookup_fmap"><span class="id" title="lemma">list_lookup_fmap</span></a>, <span class="id" title="var">Hj1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#list_lookup_fmap"><span class="id" title="lemma">list_lookup_fmap</span></a>, <span class="id" title="var">Hj2</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>, <a class="idref" href="stdpp.list.html#elem_of_list_lookup_2"><span class="id" title="lemma">elem_of_list_lookup_2</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>, <a class="idref" href="stdpp.list.html#elem_of_list_lookup_2"><span class="id" title="lemma">elem_of_list_lookup_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fold_insert_L"><span class="id" title="lemma">map_fold_insert_L</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">b</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">j1</span> <span class="id" title="var">j2</span> <span class="id" title="var">z1</span> <span class="id" title="var">z2</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z1"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z2"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="stdpp.fin_maps.html#z1"><span class="id" title="variable">z1</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="stdpp.fin_maps.html#z2"><span class="id" title="variable">z2</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j2"><span class="id" title="variable">j2</span></a> <a class="idref" href="stdpp.fin_maps.html#z2"><span class="id" title="variable">z2</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#j1"><span class="id" title="variable">j1</span></a> <a class="idref" href="stdpp.fin_maps.html#z1"><span class="id" title="variable">z1</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_fold_insert"><span class="id" title="lemma">map_fold_insert</span></a>; <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fold_ind"><span class="id" title="lemma">map_fold_ind</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">b</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#r"><span class="id" title="variable">r</span></a>) (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_fold"><span class="id" title="definition">map_fold</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hemp</span> <span class="id" title="var">Hinsert</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">P</span> (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">b</span> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">help</span> ?. <span class="id" title="tactic">apply</span> <span class="id" title="var">help</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#NoDup_map_to_list"><span class="id" title="method">NoDup_map_to_list</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [|[<span class="id" title="var">i</span> <span class="id" title="var">x</span>] <span class="id" title="var">l</span> ?? <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">cut</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>); [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> -&gt;|]. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_empty"><span class="id" title="lemma">map_empty</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">x</span> []%<span class="id" title="var">Hm</span>%<a class="idref" href="stdpp.list.html#elem_of_nil"><span class="id" title="lemma">elem_of_nil</span></a>]. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#insert_id"><span class="id" title="lemma">insert_id</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>), &lt;-<a class="idref" href="stdpp.fin_maps.html#insert_delete"><span class="id" title="lemma">insert_delete</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hinsert</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>, <span class="id" title="var">Hm</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [? [[= ??]|?]%<a class="idref" href="stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intros</span> -&gt;|<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>). <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab78"></a><h2 class="section">The filter operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.map_filter"><span class="id" title="section">map_filter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>)}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#map_fold_ind"><span class="id" title="lemma">map_fold_ind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Eq</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span>. <span class="id" title="var">case_decide</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>))<span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> 2!<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eq</span>, <span class="id" title="var">Hm</span>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_lookup_None"><span class="id" title="lemma">map_filter_lookup_None</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_lookup_eq"><span class="id" title="lemma">map_filter_lookup_eq</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">k</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_insert"><span class="id" title="lemma">map_filter_insert</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>, !<a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_insert_not'"><span class="id" title="lemma">map_filter_insert_not'</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_eq"><span class="id" title="lemma">map_filter_lookup_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_insert_not"><span class="id" title="lemma">map_filter_insert_not</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_insert_not'"><span class="id" title="lemma">map_filter_insert_not'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_delete"><span class="id" title="lemma">map_filter_delete</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>, !<a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_delete_not"><span class="id" title="lemma">map_filter_delete_not</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_eq"><span class="id" title="lemma">map_filter_lookup_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_empty"><span class="id" title="lemma">map_filter_empty</span></a> : <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_fold_empty"><span class="id" title="lemma">map_fold_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_filter_alt"><span class="id" title="lemma">map_filter_alt</span></a> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#list_to_map_flip"><span class="id" title="lemma">list_to_map_flip</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">k</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span> ? <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_filter_empty"><span class="id" title="lemma">map_filter_empty</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_to_list_empty"><span class="id" title="lemma">map_to_list_empty</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>, <a class="idref" href="stdpp.list.html#filter_cons"><span class="id" title="lemma">filter_cons</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.map_filter.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_insert"><span class="id" title="lemma">map_filter_insert</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_to_list_insert"><span class="id" title="lemma">map_to_list_insert</span></a>, <span class="id" title="var">IH</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_None"><span class="id" title="lemma">map_filter_lookup_None</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_filter_insert_not'"><span class="id" title="lemma">map_filter_insert_not'</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.map_filter"><span class="id" title="section">map_filter</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab79"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall"><span class="id" title="section">map_Forall</span></a></span> predicate</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.map_Forall"><span class="id" title="section">map_Forall</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_to_list"><span class="id" title="lemma">map_Forall_to_list</span></a> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hforall</span> [<span class="id" title="var">i</span> <span class="id" title="var">x</span>]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hforall</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hforall</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hforall</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_empty"><span class="id" title="lemma">map_Forall_empty</span></a> : <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_impl"><span class="id" title="lemma">map_Forall_impl</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_insert_11"><span class="id" title="lemma">map_Forall_insert_11</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_insert_12"><span class="id" title="lemma">map_Forall_insert_12</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hm</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> ?; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_insert_2"><span class="id" title="lemma">map_Forall_insert_2</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">j</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_insert"><span class="id" title="lemma">map_Forall_insert</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall_insert_11"><span class="id" title="lemma">map_Forall_insert_11</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall_insert_12"><span class="id" title="lemma">map_Forall_insert_12</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_Forall_insert_2"><span class="id" title="lemma">map_Forall_insert_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_delete"><span class="id" title="lemma">map_Forall_delete</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_foldr_delete"><span class="id" title="lemma">map_Forall_foldr_delete</span></a> <span class="id" title="var">m</span> <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall_delete"><span class="id" title="lemma">map_Forall_delete</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_ind"><span class="id" title="lemma">map_Forall_ind</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hnil</span> <span class="id" title="var">Hinsert</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall_insert"><span class="id" title="lemma">map_Forall_insert</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">intros</span> [??]; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>)}.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="map_Forall_dec"><span class="id" title="instance">map_Forall_dec</span></a> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="stdpp.decidable.html#cast_if"><span class="id" title="abbreviation">cast_if</span></a> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="stdpp.fin_maps.html#map_to_list"><span class="id" title="definition">map_to_list</span></a> <span class="id" title="var">m</span>))));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall_to_list"><span class="id" title="lemma">map_Forall_to_list</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_not_Forall"><span class="id" title="lemma">map_not_Forall</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>&amp;<span class="id" title="var">x</span>&amp;?&amp;?) <span class="id" title="var">Hm</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall_to_list"><span class="id" title="lemma">map_Forall_to_list</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.list.html#not_Forall_Exists"><span class="id" title="lemma">not_Forall_Exists</span></a> <span class="id" title="var">_</span>), <a class="idref" href="stdpp.list.html#Exists_exists"><span class="id" title="lemma">Exists_exists</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> ([<span class="id" title="var">i</span> <span class="id" title="var">x</span>]&amp;?&amp;?). <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>, <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#elem_of_map_to_list"><span class="id" title="method">elem_of_map_to_list</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.map_Forall"><span class="id" title="section">map_Forall</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab80"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.merge"><span class="id" title="section">merge</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.merge"><span class="id" title="section">merge</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) `{!<a class="idref" href="stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>), <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, (<a class="idref" href="stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>), <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, (<a class="idref" href="stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#LeftAbsorb"><span class="id" title="class">LeftAbsorb</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#LeftAbsorb"><span class="id" title="class">LeftAbsorb</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>), <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, (<a class="idref" href="stdpp.base.html#left_absorb_L"><span class="id" title="lemma">left_absorb_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#RightAbsorb"><span class="id" title="class">RightAbsorb</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#RightAbsorb"><span class="id" title="class">RightAbsorb</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>), <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, (<a class="idref" href="stdpp.base.html#right_absorb_L"><span class="id" title="lemma">right_absorb_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_comm"><span class="id" title="lemma">merge_comm</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="merge_comm'"><span class="id" title="instance">merge_comm'</span></a> : <a class="idref" href="stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#merge_comm"><span class="id" title="lemma">merge_comm</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_assoc"><span class="id" title="lemma">merge_assoc</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="merge_assoc'"><span class="id" title="instance">merge_assoc'</span></a> : <a class="idref" href="stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ????. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#merge_assoc"><span class="id" title="lemma">merge_assoc</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_idemp"><span class="id" title="lemma">merge_idemp</span></a> <span class="id" title="var">m1</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="merge_idemp'"><span class="id" title="instance">merge_idemp'</span></a> : <a class="idref" href="stdpp.base.html#IdemP"><span class="id" title="class">IdemP</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#IdemP"><span class="id" title="class">IdemP</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#merge_idemp"><span class="id" title="lemma">merge_idemp</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#idemp"><span class="id" title="definition">idemp</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.merge.f"><span class="id" title="variable">f</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.merge"><span class="id" title="section">merge</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="theorems.more_merge"><span class="id" title="section">more_merge</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) `{!<a class="idref" href="stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_Some"><span class="id" title="lemma">merge_Some</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">intros</span> &lt;-; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>) ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hlookup</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlookup</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_empty"><span class="id" title="lemma">merge_empty</span></a> : <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a>), !<a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">g</span> <span class="id" title="var">g1</span> <span class="id" title="var">g2</span> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>), !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>), !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>, (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_merge_l"><span class="id" title="lemma">partial_alter_merge_l</span></a> <span class="id" title="var">g</span> <span class="id" title="var">g1</span> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>), !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>), !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>, (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="partial_alter_merge_r"><span class="id" title="lemma">partial_alter_merge_r</span></a> <span class="id" title="var">g</span> <span class="id" title="var">g2</span> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> (<a class="idref" href="stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>), !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>, !(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>), !<a class="idref" href="stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>, (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_merge"><span class="id" title="lemma">insert_merge</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_merge"><span class="id" title="lemma">delete_merge</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="merge_singleton"><span class="id" title="lemma">merge_singleton</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> &lt;-!<a class="idref" href="stdpp.fin_maps.html#insert_empty"><span class="id" title="lemma">insert_empty</span></a>, &lt;-<a class="idref" href="stdpp.fin_maps.html#insert_merge"><span class="id" title="lemma">insert_merge</span></a>, <a class="idref" href="stdpp.fin_maps.html#merge_empty"><span class="id" title="lemma">merge_empty</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_merge_l"><span class="id" title="lemma">insert_merge_l</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_merge_l"><span class="id" title="lemma">partial_alter_merge_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_merge_r"><span class="id" title="lemma">insert_merge_r</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#partial_alter_merge_r"><span class="id" title="lemma">partial_alter_merge_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.more_merge"><span class="id" title="section">more_merge</span></a>.<br/>

<br/>
</div>

<div class="doc">
Properties of the zip_with function 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_lookup_zip_with"><span class="id" title="lemma">map_lookup_zip_with</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="stdpp.base.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <span class="id" title="var">y</span> <a class="idref" href="stdpp.base.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">←</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#9da4aba7941cc4e4d0a41a64124b61db"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_lookup_zip_with_Some"><span class="id" title="lemma">map_lookup_zip_with_Some</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_lookup_zip_with"><span class="id" title="lemma">map_lookup_zip_with</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_empty"><span class="id" title="lemma">map_zip_with_empty</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#merge_empty"><span class="id" title="lemma">merge_empty</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_insert_zip_with"><span class="id" title="lemma">map_insert_zip_with</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="stdpp.fin_maps.html#insert_merge"><span class="id" title="lemma">insert_merge</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_delete_zip_with"><span class="id" title="lemma">map_delete_zip_with</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#delete_merge"><span class="id" title="lemma">delete_merge</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_singleton"><span class="id" title="lemma">map_zip_with_singleton</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> <a class="idref" href="stdpp.fin_maps.html#merge_singleton"><span class="id" title="lemma">merge_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_fmap"><span class="id" title="lemma">map_zip_with_fmap</span></a> {<span class="id" title="var">A'</span> <span class="id" title="var">A</span> <span class="id" title="var">B'</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g1</span> : <a class="idref" href="stdpp.fin_maps.html#A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">g2</span> : <a class="idref" href="stdpp.fin_maps.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A'"><span class="id" title="variable">A'</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B'"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_lookup_zip_with"><span class="id" title="lemma">map_lookup_zip_with</span></a>, !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_fmap_1"><span class="id" title="lemma">map_zip_with_fmap_1</span></a> {<span class="id" title="var">A'</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A'"><span class="id" title="variable">A'</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="stdpp.fin_maps.html#map_fmap_id"><span class="id" title="lemma">map_fmap_id</span></a> <span class="id" title="var">m2</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with_fmap"><span class="id" title="lemma">map_zip_with_fmap</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_fmap_2"><span class="id" title="lemma">map_zip_with_fmap_2</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B'</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B'"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="stdpp.fin_maps.html#map_fmap_id"><span class="id" title="lemma">map_fmap_id</span></a> <span class="id" title="var">m1</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with_fmap"><span class="id" title="lemma">map_zip_with_fmap</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_zip_with"><span class="id" title="lemma">map_fmap_zip_with</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#map_lookup_zip_with"><span class="id" title="lemma">map_lookup_zip_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_flip"><span class="id" title="lemma">map_zip_with_flip</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_lookup_zip_with"><span class="id" title="lemma">map_lookup_zip_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_zip_with_map_zip"><span class="id" title="lemma">map_zip_with_map_zip</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#C"><span class="id" title="variable">C</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#curry"><span class="id" title="abbreviation">curry</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip"><span class="id" title="abbreviation">map_zip</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>, !<a class="idref" href="stdpp.fin_maps.html#map_lookup_zip_with"><span class="id" title="lemma">map_lookup_zip_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_fmap_zip"><span class="id" title="lemma">map_fmap_zip</span></a> {<span class="id" title="var">A'</span> <span class="id" title="var">A</span> <span class="id" title="var">B'</span> <span class="id" title="var">B</span>} (<span class="id" title="var">g1</span> : <a class="idref" href="stdpp.fin_maps.html#A'"><span class="id" title="variable">A'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">g2</span> : <a class="idref" href="stdpp.fin_maps.html#B'"><span class="id" title="variable">B'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A'"><span class="id" title="variable">A'</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#B'"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_zip"><span class="id" title="abbreviation">map_zip</span></a> (<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#prod_map"><span class="id" title="definition">prod_map</span></a> <a class="idref" href="stdpp.fin_maps.html#g1"><span class="id" title="variable">g1</span></a> <a class="idref" href="stdpp.fin_maps.html#g2"><span class="id" title="variable">g2</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_zip"><span class="id" title="abbreviation">map_zip</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_zip_with_fmap"><span class="id" title="lemma">map_zip_with_fmap</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_zip_with_map_zip"><span class="id" title="lemma">map_zip_with_map_zip</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="stdpp.fin_maps.html#map_zip"><span class="id" title="abbreviation">map_zip</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">x1</span> <span class="id" title="var">x2</span>]|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab81"></a><h2 class="section">Properties on the <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a></span> relation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.Forall2"><span class="id" title="section">Forall2</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">R</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">Q</span> : <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>).<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)}.<br/>

<br/>
<span class="id" title="keyword">Let</span> <a name="theorems.Forall2.f"><span class="id" title="variable">f</span></a> (<span class="id" title="var">mx</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">my</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.B"><span class="id" title="variable">B</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="stdpp.fin_maps.html#mx"><span class="id" title="variable">mx</span></a>, <a class="idref" href="stdpp.fin_maps.html#my"><span class="id" title="variable">my</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.R"><span class="id" title="variable">R</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.P"><span class="id" title="variable">P</span></a> <span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.Q"><span class="id" title="variable">Q</span></a> <span class="id" title="var">y</span>))<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_relation_alt"><span class="id" title="lemma">map_relation_alt</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">P'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.decidable.html#bool_decide_pack"><span class="id" title="lemma">bool_decide_pack</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="stdpp.decidable.html#bool_decide_unpack"><span class="id" title="lemma">bool_decide_unpack</span></a>, <span class="id" title="var">Hm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="map_relation_dec"><span class="id" title="instance">map_relation_dec</span></a> : <a class="idref" href="stdpp.base.html#RelDecision"><span class="id" title="class">RelDecision</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a>) <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.Q"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.decidable.html#cast_if"><span class="id" title="abbreviation">cast_if</span></a> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a>) (<a class="idref" href="stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>))));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">abstract</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_relation_alt"><span class="id" title="lemma">map_relation_alt</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>

<div class="doc">
Due to the finiteness of finite maps, we can extract a witness if the
relation does not hold. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_not_Forall2"><span class="id" title="lemma">map_not_Forall2</span></a> (<span class="id" title="var">m1</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.R"><span class="id" title="variable">R</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_relation_alt"><span class="id" title="lemma">map_relation_alt</span></a>, (<a class="idref" href="stdpp.fin_maps.html#map_not_Forall"><span class="id" title="lemma">map_not_Forall</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>&amp;?&amp;<span class="id" title="var">Hm</span>&amp;?); <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">auto</span> 2 <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.decidable.html#bool_decide_pack"><span class="id" title="lemma">bool_decide_pack</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.fin_maps.html#map_relation"><span class="id" title="definition">map_relation</span></a>, <a class="idref" href="stdpp.option.html#option_relation"><span class="id" title="definition">option_relation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span>[(<span class="id" title="var">x</span>&amp;<span class="id" title="var">y</span>&amp;?&amp;?&amp;?)|[(<span class="id" title="var">x</span>&amp;?&amp;?&amp;?)|(<span class="id" title="var">y</span>&amp;?&amp;?&amp;?)]]] <span class="id" title="var">Hm</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>); <span class="id" title="var">simplify_option_eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.Forall2"><span class="id" title="section">Forall2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab82"></a><h2 class="section">Properties on the disjoint maps</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#c355ddcd7bc517c0d78bdc33e3c6747d"><span class="id" title="notation">False</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_alt"><span class="id" title="lemma">map_disjoint_alt</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1m2</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm1m2</span> <span class="id" title="var">i</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_not_disjoint"><span class="id" title="lemma">map_not_disjoint</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x2"><span class="id" title="variable">x2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#disjoint"><span class="id" title="definition">disjoint</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_not_Forall2"><span class="id" title="lemma">map_not_Forall2</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">solve_decision</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">naive_solver</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span>[(<span class="id" title="var">x</span>&amp;<span class="id" title="var">y</span>&amp;?&amp;?&amp;?)|[(<span class="id" title="var">x</span>&amp;?&amp;?&amp;[])|(<span class="id" title="var">y</span>&amp;?&amp;?&amp;[])]]]; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="map_disjoint_sym"><span class="id" title="instance">map_disjoint_sym</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_empty_l"><span class="id" title="lemma">map_disjoint_empty_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_empty_r"><span class="id" title="lemma">map_disjoint_empty_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_weaken"><span class="id" title="lemma">map_disjoint_weaken</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>, !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_weaken_l"><span class="id" title="lemma">map_disjoint_weaken_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2</span>  : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_weaken"><span class="id" title="lemma">map_disjoint_weaken</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_weaken_r"><span class="id" title="lemma">map_disjoint_weaken_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_weaken"><span class="id" title="lemma">map_disjoint_weaken</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_Some_l"><span class="id" title="lemma">map_disjoint_Some_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>, <a class="idref" href="stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>. <span class="id" title="tactic">intros</span> ?? [??]; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_Some_r"><span class="id" title="lemma">map_disjoint_Some_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>). <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_Some_l"><span class="id" title="lemma">map_disjoint_Some_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span>: <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#map_disjoint_Some_l"><span class="id" title="lemma">map_disjoint_Some_l</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><span class="id" title="var">i</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">x</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ? <span class="id" title="var">j</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_singleton_r"><span class="id" title="lemma">map_disjoint_singleton_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>), <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_singleton_l_2"><span class="id" title="lemma">map_disjoint_singleton_l_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_singleton_r_2"><span class="id" title="lemma">map_disjoint_singleton_r_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_r"><span class="id" title="lemma">map_disjoint_singleton_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_delete_l"><span class="id" title="lemma">map_disjoint_delete_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_alt"><span class="id" title="lemma">map_disjoint_alt</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hdisjoint</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hdisjoint</span> <span class="id" title="var">j</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_None"><span class="id" title="lemma">lookup_delete_None</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_delete_r"><span class="id" title="lemma">map_disjoint_delete_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_delete_l"><span class="id" title="lemma">map_disjoint_delete_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_filter"><span class="id" title="lemma">map_disjoint_filter</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>)} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab83"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.union_with"><span class="id" title="section">union_with</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.union_with"><span class="id" title="section">union_with</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_with"><span class="id" title="lemma">lookup_union_with</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_with_Some"><span class="id" title="lemma">lookup_union_with_Some</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_with"><span class="id" title="lemma">lookup_union_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union_with"><span class="id" title="instance">map_union_with</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union_with"><span class="id" title="instance">map_union_with</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="union_with_comm"><span class="id" title="lemma">union_with_comm</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_comm"><span class="id" title="lemma">merge_comm</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#union_with_comm"><span class="id" title="lemma">union_with_comm</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="union_with_idemp"><span class="id" title="lemma">union_with_idemp</span></a> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_idemp"><span class="id" title="lemma">merge_idemp</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_union_with"><span class="id" title="lemma">alter_union_with</span></a> (<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_union_with_l"><span class="id" title="lemma">alter_union_with_l</span></a> (<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge_l"><span class="id" title="lemma">partial_alter_merge_l</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_union_with_r"><span class="id" title="lemma">alter_union_with_r</span></a> (<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge_r"><span class="id" title="lemma">partial_alter_merge_r</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">f_equal</span>/=; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_union_with"><span class="id" title="lemma">delete_union_with</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_union_with"><span class="id" title="lemma">foldr_delete_union_with</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>) (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHis</span>, <a class="idref" href="stdpp.fin_maps.html#delete_union_with"><span class="id" title="lemma">delete_union_with</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_with"><span class="id" title="lemma">insert_union_with</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_with_l"><span class="id" title="lemma">insert_union_with_l</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union_with"><span class="id" title="instance">map_union_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="stdpp.fin_maps.html#insert_merge_l"><span class="id" title="lemma">insert_merge_l</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_with_r"><span class="id" title="lemma">insert_union_with_r</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union_with"><span class="id" title="instance">map_union_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="stdpp.fin_maps.html#insert_merge_r"><span class="id" title="lemma">insert_merge_r</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm1</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.union_with"><span class="id" title="section">union_with</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab84"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#union"><span class="id" title="projection">union</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a> := <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#RightId"><span class="id" title="class">RightId</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a> := <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#union"><span class="id" title="definition">union</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union"><span class="id" title="instance">map_union</span></a>, <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union_with"><span class="id" title="instance">map_union_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_assoc"><span class="id" title="lemma">merge_assoc</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m3</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#IdemP"><span class="id" title="class">IdemP</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#union_with_idemp"><span class="id" title="lemma">union_with_idemp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union"><span class="id" title="lemma">lookup_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_with"><span class="id" title="lemma">lookup_union_with</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_r"><span class="id" title="lemma">lookup_union_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union"><span class="id" title="lemma">lookup_union</span></a>, <span class="id" title="var">Hi</span>, (<a class="idref" href="stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union"><span class="id" title="lemma">lookup_union</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_None"><span class="id" title="lemma">lookup_union_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union"><span class="id" title="lemma">lookup_union</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_positive_l"><span class="id" title="lemma">map_positive_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_empty"><span class="id" title="lemma">map_empty</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">(.!!</span></a> <span class="id" title="var">i</span><a class="idref" href="stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_union_None"><span class="id" title="lemma">lookup_union_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_positive_l_alt"><span class="id" title="lemma">map_positive_l_alt</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_positive_l"><span class="id" title="lemma">map_positive_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdisjoint</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_Some_r"><span class="id" title="lemma">map_disjoint_Some_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_Some_l"><span class="id" title="lemma">lookup_union_Some_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>; <span class="id" title="tactic">intuition</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_union_Some_r"><span class="id" title="lemma">lookup_union_Some_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a>; <span class="id" title="tactic">intuition</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_comm"><span class="id" title="lemma">map_union_comm</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hdisjoint</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_comm"><span class="id" title="lemma">merge_comm</span></a> (<a class="idref" href="stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdisjoint</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_subseteq_union"><span class="id" title="lemma">map_subseteq_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1m2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intuition</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm1m2</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span>|]; [| <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hm1m2</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_subseteq_l"><span class="id" title="lemma">map_union_subseteq_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">i</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>. <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_subseteq_r"><span class="id" title="lemma">map_union_subseteq_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_subseteq_l"><span class="id" title="lemma">map_union_subseteq_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_subseteq_l_alt"><span class="id" title="lemma">map_union_subseteq_l_alt</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">trans</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_union_subseteq_l"><span class="id" title="lemma">map_union_subseteq_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_subseteq_r_alt"><span class="id" title="lemma">map_union_subseteq_r_alt</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">trans</span> <span class="id" title="var">m3</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_union_subseteq_r"><span class="id" title="lemma">map_union_subseteq_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_mono_l"><span class="id" title="lemma">map_union_mono_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> ???.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_mono_r"><span class="id" title="lemma">map_union_mono_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m3</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_weaken_l"><span class="id" title="lemma">map_disjoint_weaken_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_mono_l"><span class="id" title="lemma">map_union_mono_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_reflecting_l"><span class="id" title="lemma">map_union_reflecting_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm31</span> <span class="id" title="var">Hm32</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> ?. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm31</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hm31</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_reflecting_r"><span class="id" title="lemma">map_union_reflecting_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> !(<a class="idref" href="stdpp.fin_maps.html#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m3</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_reflecting_l"><span class="id" title="lemma">map_union_reflecting_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_cancel_l"><span class="id" title="lemma">map_union_cancel_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#anti_symm"><span class="id" title="definition">anti_symm</span></a> <a class="idref" href="stdpp.base.html#5f07ce23a79afecbb5a4cd6ad9f00f5d"><span class="id" title="notation">(⊆)</span></a>); <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_reflecting_l"><span class="id" title="lemma">map_union_reflecting_l</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> (<a class="idref" href="stdpp.orders.html#reflexive_eq"><span class="id" title="lemma">reflexive_eq</span></a> (<span class="id" title="var">R</span>:=<a class="idref" href="stdpp.base.html#40b8d1ad8493c44b056a74186806c302"><span class="id" title="notation">(⊆@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#40b8d1ad8493c44b056a74186806c302"><span class="id" title="notation">})</span></a>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_cancel_r"><span class="id" title="lemma">map_union_cancel_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#anti_symm"><span class="id" title="definition">anti_symm</span></a> <a class="idref" href="stdpp.base.html#5f07ce23a79afecbb5a4cd6ad9f00f5d"><span class="id" title="notation">(⊆)</span></a>); <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_reflecting_r"><span class="id" title="lemma">map_union_reflecting_r</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> (<a class="idref" href="stdpp.orders.html#reflexive_eq"><span class="id" title="lemma">reflexive_eq</span></a> (<span class="id" title="var">R</span>:=<a class="idref" href="stdpp.base.html#40b8d1ad8493c44b056a74186806c302"><span class="id" title="notation">(⊆@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#40b8d1ad8493c44b056a74186806c302"><span class="id" title="notation">})</span></a>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_alt"><span class="id" title="lemma">map_disjoint_alt</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_None"><span class="id" title="lemma">lookup_union_None</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_r"><span class="id" title="lemma">map_disjoint_union_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#map_disjoint_alt"><span class="id" title="lemma">map_disjoint_alt</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_None"><span class="id" title="lemma">lookup_union_None</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_l_2"><span class="id" title="lemma">map_disjoint_union_l_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_r_2"><span class="id" title="lemma">map_disjoint_union_r_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m3"><span class="id" title="variable">m3</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_r"><span class="id" title="lemma">map_disjoint_union_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_singleton_r"><span class="id" title="lemma">insert_union_singleton_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a>; [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_insert_l"><span class="id" title="lemma">map_disjoint_insert_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_insert_r"><span class="id" title="lemma">map_disjoint_insert_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_r"><span class="id" title="lemma">map_disjoint_union_r</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_r"><span class="id" title="lemma">map_disjoint_singleton_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_insert_l_2"><span class="id" title="lemma">map_disjoint_insert_l_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_l"><span class="id" title="lemma">map_disjoint_insert_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_insert_r_2"><span class="id" title="lemma">map_disjoint_insert_r_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_r"><span class="id" title="lemma">map_disjoint_insert_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_l"><span class="id" title="lemma">insert_union_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a>, (<a class="idref" href="stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a> <a class="idref" href="stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_union_r"><span class="id" title="lemma">insert_union_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a>, !(<a class="idref" href="stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a> <a class="idref" href="stdpp.base.html#8742fd8c92c3528c3c12cbbbb7d5e051"><span class="id" title="notation">(∪)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#map_union_comm"><span class="id" title="lemma">map_union_comm</span></a> <span class="id" title="var">m1</span>); [<span class="id" title="var">done</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_r"><span class="id" title="lemma">map_disjoint_singleton_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_insert_union"><span class="id" title="lemma">foldr_insert_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">l</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">.1</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="stdpp.base.html#18385c18dcb8b3a70ec76a4d5bf90758"><span class="id" title="notation">.2</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>) <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>, <a class="idref" href="stdpp.fin_maps.html#insert_union_l"><span class="id" title="lemma">insert_union_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_union"><span class="id" title="lemma">delete_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#delete_union_with"><span class="id" title="lemma">delete_union_with</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_union_11"><span class="id" title="lemma">map_Forall_union_11</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">HP</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> ?. <span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>, <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_union_12"><span class="id" title="lemma">map_Forall_union_12</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">HP</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> ?. <span class="id" title="tactic">apply</span> <span class="id" title="var">HP</span>, <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_union_2"><span class="id" title="lemma">map_Forall_union_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???? [|[]]%<a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_Forall_union"><span class="id" title="lemma">map_Forall_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#map_Forall"><span class="id" title="definition">map_Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_Forall_union_11"><span class="id" title="lemma">map_Forall_union_11</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_Forall_union_12"><span class="id" title="lemma">map_Forall_union_12</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_Forall_union_2"><span class="id" title="lemma">map_Forall_union_2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_union_filter"><span class="id" title="lemma">map_union_filter</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) `{!<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.base.html#Decision"><span class="id" title="class">Decision</span></a> (<a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>)} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.base.html#filter"><span class="id" title="definition">filter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a> <a class="idref" href="stdpp.fin_maps.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.fin_maps.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some"><span class="id" title="lemma">lookup_union_Some</span></a>, !<a class="idref" href="stdpp.fin_maps.html#map_filter_lookup_Some"><span class="id" title="lemma">map_filter_lookup_Some</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_filter"><span class="id" title="lemma">map_disjoint_filter</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">P</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab85"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#union_list"><span class="id" title="definition">union_list</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_list_l"><span class="id" title="lemma">map_disjoint_union_list_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">ms</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">ms</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_empty_l"><span class="id" title="lemma">map_disjoint_empty_l</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_list_r"><span class="id" title="lemma">map_disjoint_union_list_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">ms</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>), <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_l"><span class="id" title="lemma">map_disjoint_union_list_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_list_l_2"><span class="id" title="lemma">map_disjoint_union_list_l_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">ms</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_l"><span class="id" title="lemma">map_disjoint_union_list_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_union_list_r_2"><span class="id" title="lemma">map_disjoint_union_list_r_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">ms</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>)) (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <a class="idref" href="stdpp.fin_maps.html#ms"><span class="id" title="variable">ms</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_r"><span class="id" title="lemma">map_disjoint_union_list_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab86"></a><h2 class="section">Properties of the folding the <span class="inlinecode"><a class="idref" href="stdpp.base.html#delete"><span class="id" title="projection">delete</span></a></span> function</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_foldr_delete"><span class="id" title="lemma">lookup_foldr_delete</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="keyword">is</span>]; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>, ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_foldr_delete_not_elem_of"><span class="id" title="lemma">lookup_foldr_delete_not_elem_of</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_foldr_delete_Some"><span class="id" title="lemma">lookup_foldr_delete_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#lookup_delete_Some"><span class="id" title="lemma">lookup_delete_Some</span></a>; <span class="id" title="var">set_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_notin"><span class="id" title="lemma">foldr_delete_notin</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#delete_notin"><span class="id" title="lemma">delete_notin</span></a>; <span class="id" title="tactic">congruence</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_commute"><span class="id" title="lemma">foldr_delete_commute</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span> <span class="id" title="keyword">as</span> [|?? <span class="id" title="var">IH</span>]; [<span class="id" title="var">done</span>| ]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#delete_commute"><span class="id" title="lemma">delete_commute</span></a>, <span class="id" title="var">IH</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_insert"><span class="id" title="lemma">foldr_delete_insert</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#2a78afea1eeed082be084d2a55e1605c"><span class="id" title="notation">∈</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="keyword">is</span>|<span class="id" title="var">j</span> <span class="id" title="var">i</span> <span class="id" title="keyword">is</span> ? <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#foldr_delete_commute"><span class="id" title="lemma">foldr_delete_commute</span></a>, <a class="idref" href="stdpp.fin_maps.html#delete_insert_delete"><span class="id" title="lemma">delete_insert_delete</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_insert_ne"><span class="id" title="lemma">foldr_delete_insert_ne</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#j"><span class="id" title="variable">j</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="var">done</span> |]. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#elem_of_cons"><span class="id" title="lemma">elem_of_cons</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHis</span>, <a class="idref" href="stdpp.fin_maps.html#delete_insert_ne"><span class="id" title="lemma">delete_insert_ne</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_foldr_delete_l"><span class="id" title="lemma">map_disjoint_foldr_delete_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_delete_l"><span class="id" title="lemma">map_disjoint_delete_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_foldr_delete_r"><span class="id" title="lemma">map_disjoint_foldr_delete_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_delete_r"><span class="id" title="lemma">map_disjoint_delete_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_union"><span class="id" title="lemma">foldr_delete_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#foldr_delete_union_with"><span class="id" title="lemma">foldr_delete_union_with</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab87"></a><h2 class="section">Properties on disjointness of conversion to lists</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_list_to_map_l"><span class="id" title="lemma">map_disjoint_list_to_map_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">ixs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#ixs"><span class="id" title="variable">ixs</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">ix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#ixs"><span class="id" title="variable">ixs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">ixs</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_l"><span class="id" title="lemma">map_disjoint_insert_l</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_empty_l"><span class="id" title="lemma">map_disjoint_empty_l</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_l"><span class="id" title="lemma">map_disjoint_insert_l</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_list_to_map_r"><span class="id" title="lemma">map_disjoint_list_to_map_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">ixs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <a class="idref" href="stdpp.fin_maps.html#ixs"><span class="id" title="variable">ixs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">ix</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#ix"><span class="id" title="variable">ix</span></a><a class="idref" href="stdpp.base.html#c018306e07f84266a36e8b4cc29a0f81"><span class="id" title="notation">.1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#ixs"><span class="id" title="variable">ixs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>), <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_l"><span class="id" title="lemma">map_disjoint_list_to_map_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_list_to_map_zip_l"><span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>) <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_l"><span class="id" title="lemma">map_disjoint_list_to_map_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.list.html#fst_zip"><span class="id" title="lemma">fst_zip</span></a> <span class="id" title="keyword">is</span> <span class="id" title="var">xs</span>) <span class="id" title="tactic">at</span> 2 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#Forall_fmap"><span class="id" title="lemma">Forall_fmap</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_list_to_map_zip_r"><span class="id" title="lemma">map_disjoint_list_to_map_zip_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="stdpp.fin_maps.html#map_disjoint"><span class="id" title="definition">map_disjoint</span></a>), <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_zip_l"><span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_list_to_map_zip_l_2"><span class="id" title="lemma">map_disjoint_list_to_map_zip_l_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>) <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_zip_l"><span class="id" title="lemma">map_disjoint_list_to_map_zip_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_list_to_map_zip_r_2"><span class="id" title="lemma">map_disjoint_list_to_map_zip_r_2</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> (<a class="idref" href="stdpp.base.html#zip"><span class="id" title="abbreviation">zip</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_zip_r"><span class="id" title="lemma">map_disjoint_list_to_map_zip_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab88"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with"><span class="id" title="section">intersection_with</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="theorems.intersection_with"><span class="id" title="section">intersection_with</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> (<span class="id" title="var">m</span>: <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Global Instance</span> : <a class="idref" href="stdpp.base.html#LeftAbsorb"><span class="id" title="class">LeftAbsorb</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_intersection_with"><span class="id" title="instance">map_intersection_with</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#RightAbsorb"><span class="id" title="class">RightAbsorb</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_intersection_with"><span class="id" title="instance">map_intersection_with</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_intersection_with"><span class="id" title="lemma">lookup_intersection_with</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-(<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_intersection_with_Some"><span class="id" title="lemma">lookup_intersection_with_Some</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_intersection_with"><span class="id" title="lemma">lookup_intersection_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="intersection_with_comm"><span class="id" title="lemma">intersection_with_comm</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_comm"><span class="id" title="lemma">merge_comm</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#Comm"><span class="id" title="class">Comm</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ???. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#intersection_with_comm"><span class="id" title="lemma">intersection_with_comm</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="intersection_with_idemp"><span class="id" title="lemma">intersection_with_idemp</span></a> <span class="id" title="var">m</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_idemp"><span class="id" title="lemma">merge_idemp</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alter_intersection_with"><span class="id" title="lemma">alter_intersection_with</span></a> (<span class="id" title="var">g</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="stdpp.fin_maps.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_intersection_with"><span class="id" title="lemma">delete_intersection_with</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_delete_intersection_with"><span class="id" title="lemma">foldr_delete_intersection_with</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.A"><span class="id" title="variable">A</span></a>) <span class="id" title="keyword">is</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>) (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.fin_maps.html#is"><span class="id" title="variable">is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="keyword">is</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHis</span>, <a class="idref" href="stdpp.fin_maps.html#delete_intersection_with"><span class="id" title="lemma">delete_intersection_with</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_intersection_with"><span class="id" title="lemma">insert_intersection_with</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#partial_alter_merge"><span class="id" title="lemma">partial_alter_merge</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems.intersection_with"><span class="id" title="section">intersection_with</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab89"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#intersection"><span class="id" title="projection">intersection</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#LeftAbsorb"><span class="id" title="class">LeftAbsorb</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.base.html#9f77787bed3db00759a135afea689379"><span class="id" title="notation">(∩)</span></a> := <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#RightAbsorb"><span class="id" title="class">RightAbsorb</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.base.html#9f77787bed3db00759a135afea689379"><span class="id" title="notation">(∩)</span></a> := <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#Assoc"><span class="id" title="class">Assoc</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#9f77787bed3db00759a135afea689379"><span class="id" title="notation">(∩)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#intersection"><span class="id" title="definition">intersection</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_intersection"><span class="id" title="instance">map_intersection</span></a>, <a class="idref" href="stdpp.base.html#intersection_with"><span class="id" title="definition">intersection_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_intersection_with"><span class="id" title="instance">map_intersection_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#merge_assoc"><span class="id" title="lemma">merge_assoc</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m3</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span>: <a class="idref" href="stdpp.base.html#IdemP"><span class="id" title="class">IdemP</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a> <a class="idref" href="stdpp.base.html#9f77787bed3db00759a135afea689379"><span class="id" title="notation">(∩)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> ?. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#intersection_with_idemp"><span class="id" title="lemma">intersection_with_idemp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_intersection_Some"><span class="id" title="lemma">lookup_intersection_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#a4f6c5e5e719bc44a813bfc51b4d70b8"><span class="id" title="notation">∩</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#intersection"><span class="id" title="definition">intersection</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_intersection"><span class="id" title="instance">map_intersection</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_intersection_with"><span class="id" title="lemma">lookup_intersection_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_intersection_None"><span class="id" title="lemma">lookup_intersection_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#a4f6c5e5e719bc44a813bfc51b4d70b8"><span class="id" title="notation">∩</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#intersection"><span class="id" title="definition">intersection</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_intersection"><span class="id" title="instance">map_intersection</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_intersection_with"><span class="id" title="lemma">lookup_intersection_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab90"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="projection">difference_with</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_difference_with"><span class="id" title="lemma">lookup_difference_with</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="definition">difference_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="definition">difference_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> &lt;-<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_difference_with_Some"><span class="id" title="lemma">lookup_difference_with_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="definition">difference_with</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.fin_maps.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_difference_with"><span class="id" title="lemma">lookup_difference_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab91"></a><h2 class="section">Properties of the <span class="inlinecode"><a class="idref" href="stdpp.base.html#difference"><span class="id" title="projection">difference</span></a></span> operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="lookup_difference_Some"><span class="id" title="lemma">lookup_difference_Some</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#difference"><span class="id" title="definition">difference</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_difference"><span class="id" title="instance">map_difference</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_difference_with"><span class="id" title="lemma">lookup_difference_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_difference_None"><span class="id" title="lemma">lookup_difference_None</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#difference"><span class="id" title="definition">difference</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_difference"><span class="id" title="instance">map_difference</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_difference_with"><span class="id" title="lemma">lookup_difference_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_difference_l"><span class="id" title="lemma">map_disjoint_difference_l</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#difference"><span class="id" title="definition">difference</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_difference"><span class="id" title="instance">map_difference</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_difference_with"><span class="id" title="lemma">lookup_difference_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_disjoint_difference_r"><span class="id" title="lemma">map_disjoint_difference_r</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_difference_l"><span class="id" title="lemma">map_disjoint_difference_l</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_difference_union"><span class="id" title="lemma">map_difference_union</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="stdpp.fin_maps.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_subseteq_spec"><span class="id" title="lemma">map_subseteq_spec</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hm1m2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm1m2</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.base.html#difference"><span class="id" title="definition">difference</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_difference"><span class="id" title="instance">map_difference</span></a>, <a class="idref" href="stdpp.base.html#difference_with"><span class="id" title="definition">difference_with</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_difference_with"><span class="id" title="instance">map_difference_with</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_raw"><span class="id" title="lemma">lookup_union_Some_raw</span></a>, (<a class="idref" href="stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x'</span>|], (<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm1m2</span> <span class="id" title="var">x'</span>); <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="map_difference_diag"><span class="id" title="lemma">map_difference_diag</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">m</span> : <a class="idref" href="stdpp.fin_maps.html#theorems.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="stdpp.fin_maps.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_empty"><span class="id" title="lemma">map_empty</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_difference_None"><span class="id" title="lemma">lookup_difference_None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#theorems"><span class="id" title="section">theorems</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab92"></a><h2 class="section">The seq operation</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="map_seq"><span class="id" title="section">map_seq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="stdpp.fin_maps.html#FinMap"><span class="id" title="class">FinMap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <span class="id" title="var">M</span>} {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">xs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_map_seq_Some_inv"><span class="id" title="lemma">lookup_map_seq_Some_inv</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">start</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x'</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">start</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>, <a class="idref" href="stdpp.list.html#lookup_nil"><span class="id" title="lemma">lookup_nil</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>, <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">IH</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">start</span>)), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_map_seq_Some"><span class="id" title="lemma">lookup_map_seq_Some</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">start</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">Hsi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_map_seq_Some_inv"><span class="id" title="lemma">lookup_map_seq_Some_inv</span></a> <span class="id" title="var">start</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">start</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <span class="id" title="var">start</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">i</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">naive_solver</span>]. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">start</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x'</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">start</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_Some"><span class="id" title="lemma">lookup_insert_Some</span></a>; <span class="id" title="tactic">intros</span> [[-&gt; -&gt;]|[? ?%<span class="id" title="var">IH</span>]]; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_map_seq_None"><span class="id" title="lemma">lookup_map_seq_None</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">trans</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><span class="id" title="var">start</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8.html#3ccab6e0e5cec5d8305913b11c2aa678"><span class="id" title="notation">≤</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">xs</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a> <span class="id" title="var">start</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>, &lt;-<a class="idref" href="stdpp.decidable.html#not_and_l"><span class="id" title="lemma">not_and_l</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_map_seq_Some"><span class="id" title="lemma">lookup_map_seq_Some</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#lookup_lt_is_Some"><span class="id" title="lemma">lookup_lt_is_Some</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_map_seq_0"><span class="id" title="lemma">lookup_map_seq_0</span></a> <span class="id" title="var">xs</span> <span class="id" title="var">i</span> : <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) 0 <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#i"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.option.html#option_eq"><span class="id" title="lemma">option_eq</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_map_seq_Some_inv"><span class="id" title="lemma">lookup_map_seq_Some_inv</span></a> 0). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_singleton"><span class="id" title="lemma">map_seq_singleton</span></a> <span class="id" title="var">start</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_app_disjoint"><span class="id" title="lemma">map_seq_app_disjoint</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs1</span> <span class="id" title="var">xs2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs1"><span class="id" title="variable">xs1</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs1"><span class="id" title="variable">xs1</span></a>) <a class="idref" href="stdpp.fin_maps.html#xs2"><span class="id" title="variable">xs2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_spec"><span class="id" title="lemma">map_disjoint_spec</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="stdpp.fin_maps.html#lookup_map_seq_Some"><span class="id" title="lemma">lookup_map_seq_Some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [??%<a class="idref" href="stdpp.list.html#lookup_lt_Some"><span class="id" title="lemma">lookup_lt_Some</span></a>] [??%<a class="idref" href="stdpp.list.html#lookup_lt_Some"><span class="id" title="lemma">lookup_lt_Some</span></a>]; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_app"><span class="id" title="lemma">map_seq_app</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs1</span> <span class="id" title="var">xs2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> (<a class="idref" href="stdpp.fin_maps.html#xs1"><span class="id" title="variable">xs1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="stdpp.fin_maps.html#xs2"><span class="id" title="variable">xs2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs1"><span class="id" title="variable">xs1</span></a> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs1"><span class="id" title="variable">xs1</span></a>) <a class="idref" href="stdpp.fin_maps.html#xs2"><span class="id" title="variable">xs2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">start</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x1</span> <span class="id" title="var">xs1</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">start</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Numbers.Natural.Peano.NPeano.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>, !<a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_l"><span class="id" title="lemma">insert_union_singleton_l</span></a>, (<a class="idref" href="stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_cons_disjoint"><span class="id" title="lemma">map_seq_cons_disjoint</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a>) <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_map_seq_None"><span class="id" title="lemma">lookup_map_seq_None</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_cons"><span class="id" title="lemma">map_seq_cons</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> (<a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>) <a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a>) <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_snoc_disjoint"><span class="id" title="lemma">map_seq_snoc_disjoint</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_map_seq_None"><span class="id" title="lemma">lookup_map_seq_None</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="map_seq_snoc"><span class="id" title="lemma">map_seq_snoc</span></a> <span class="id" title="var">start</span> <span class="id" title="var">xs</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> (<a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="stdpp.fin_maps.html#map_seq.M"><span class="id" title="variable">M</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a><a class="idref" href="stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="stdpp.fin_maps.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_seq_app"><span class="id" title="lemma">map_seq_app</span></a>, <a class="idref" href="stdpp.fin_maps.html#map_seq_singleton"><span class="id" title="lemma">map_seq_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#insert_union_singleton_r"><span class="id" title="lemma">insert_union_singleton_r</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#map_seq_snoc_disjoint"><span class="id" title="lemma">map_seq_snoc_disjoint</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fmap_map_seq"><span class="id" title="lemma">fmap_map_seq</span></a> {<span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="stdpp.fin_maps.html#map_seq.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.fin_maps.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">start</span> <span class="id" title="var">xs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="definition">map_seq</span></a> <a class="idref" href="stdpp.fin_maps.html#start"><span class="id" title="variable">start</span></a> (<a class="idref" href="stdpp.fin_maps.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <a class="idref" href="stdpp.fin_maps.html#xs"><span class="id" title="variable">xs</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">start</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">xs</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">start</span>; <span class="id" title="var">csimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#fmap_empty"><span class="id" title="lemma">fmap_empty</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#fmap_insert"><span class="id" title="lemma">fmap_insert</span></a>, <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="stdpp.fin_maps.html#map_seq"><span class="id" title="section">map_seq</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab93"></a><h1 class="section">Tactics</h1>
 The tactic <span class="inlinecode"><span class="id" title="var">decompose_map_disjoint</span></span> simplifies occurrences of <span class="inlinecode"><a class="idref" href="stdpp.base.html#disjoint"><span class="id" title="projection">disjoint</span></a></span>
in the hypotheses that involve the empty map <span class="inlinecode">∅</span>, the union <span class="inlinecode">(∪)</span> or insert
<span class="inlinecode">&lt;[<span class="id" title="var">_</span>:=<span class="id" title="var">_</span>]&gt;</span> operation, the singleton <span class="inlinecode">{[<span class="id" title="var">_</span>:=</span> <span class="inlinecode"><span class="id" title="var">_</span>]}</span> map, and disjointness of lists of
maps. This tactic does not yield any information loss as all simplifications
performed are reversible. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">decompose_map_disjoint</span> := <span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_l"><span class="id" title="lemma">map_disjoint_union_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_r"><span class="id" title="lemma">map_disjoint_union_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> |- <span class="id" title="var">_</span> =&gt;  <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_r"><span class="id" title="lemma">map_disjoint_singleton_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_l"><span class="id" title="lemma">map_disjoint_insert_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_r"><span class="id" title="lemma">map_disjoint_insert_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_l"><span class="id" title="lemma">map_disjoint_union_list_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_r"><span class="id" title="lemma">map_disjoint_union_list_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.vector.html#Forall_vlookup"><span class="id" title="lemma">Forall_vlookup</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#Forall_cons"><span class="id" title="lemma">Forall_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">(.##ₘ</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.fin_maps.html#24d2a61684c4add4876d73aeee2c93ba"><span class="id" title="notation">)</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.list.html#Forall_app"><span class="id" title="lemma">Forall_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
To prove a disjointness property, we first decompose all hypotheses, and
then use an auto database to prove the required property. 
</div>
<div class="code">
<span class="id" title="var">Create</span> <span class="id" title="var">HintDb</span> <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_map_disjoint</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span> [<span class="id" title="var">decompose_map_disjoint</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map_disjoint</span>].<br/>

<br/>
</div>

<div class="doc">
We declare these hints using <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Extern</span></span> instead of <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Resolve</span></span> as
<span class="inlinecode"><span class="id" title="tactic">eauto</span></span> works badly with hints parametrized by type class constraints. 
</div>
<div class="code">
<span class="id" title="keyword">Hint Extern</span> 1 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="var">done</span> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_empty_l"><span class="id" title="lemma">map_disjoint_empty_l</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_empty_r"><span class="id" title="lemma">map_disjoint_empty_r</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l_2"><span class="id" title="lemma">map_disjoint_singleton_l_2</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_r_2"><span class="id" title="lemma">map_disjoint_singleton_r_2</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_l_2"><span class="id" title="lemma">map_disjoint_union_l_2</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_r_2"><span class="id" title="lemma">map_disjoint_union_r_2</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_l"><span class="id" title="lemma">map_disjoint_singleton_l</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_singleton_r"><span class="id" title="lemma">map_disjoint_singleton_r</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_l_2"><span class="id" title="lemma">map_disjoint_insert_l_2</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_insert_r_2"><span class="id" title="lemma">map_disjoint_insert_r_2</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_delete_l"><span class="id" title="lemma">map_disjoint_delete_l</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_delete_r"><span class="id" title="lemma">map_disjoint_delete_r</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_zip_l_2"><span class="id" title="lemma">map_disjoint_list_to_map_zip_l_2</span></a> : <span class="id" title="var">mem_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.fin_maps.html#list_to_map"><span class="id" title="definition">list_to_map</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_list_to_map_zip_r_2"><span class="id" title="lemma">map_disjoint_list_to_map_zip_r_2</span></a> : <span class="id" title="var">mem_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_l_2"><span class="id" title="lemma">map_disjoint_union_list_l_2</span></a> : <span class="id" title="var">mem_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.base.html#f624b1fecfad640bcd841e0631c13575"><span class="id" title="notation">⋃</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_union_list_r_2"><span class="id" title="lemma">map_disjoint_union_list_r_2</span></a> : <span class="id" title="var">mem_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_foldr_delete_l"><span class="id" title="lemma">map_disjoint_foldr_delete_l</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 2 (<span class="id" title="var">_</span> <a class="idref" href="stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="stdpp.list.html#foldr"><span class="id" title="abbreviation">foldr</span></a> <a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_disjoint_foldr_delete_r"><span class="id" title="lemma">map_disjoint_foldr_delete_r</span></a> : <span class="id" title="var">map_disjoint</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">simpl_map</span></span> <span class="inlinecode"><span class="id" title="tactic">by</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> simplifies occurrences of finite map look
ups. It uses <span class="inlinecode"><span class="id" title="var">tac</span></span> to discharge generated inequalities. Look ups in unions do
not have nice equational properties, hence it invokes <span class="inlinecode"><span class="id" title="var">tac</span></span> to prove that such
look ups yield <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "simpl_map" "by" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac</span>) := <span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span>] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) ?<span class="id" title="var">i</span> (?<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> ?<span class="id" title="var">m2</span>) ] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">evar</span> (<span class="id" title="var">x</span>:<span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">E</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">m2</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter"><span class="id" title="lemma">lookup_alter</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_alter_ne"><span class="id" title="lemma">lookup_alter_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> || <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#2eea06883886179dcc86cdc5a1870594"><span class="id" title="notation">&lt;$&gt;</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[ <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <a class="idref" href="stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> (<span class="id" title="var">A</span>:=?<span class="id" title="var">A</span>) ?<span class="id" title="var">i</span> ?<span class="id" title="var">m</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">evar</span> (<span class="id" title="var">x</span>:<span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x'</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">E</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">Create</span> <span class="id" title="var">HintDb</span> <span class="id" title="var">simpl_map</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simpl_map" := <span class="id" title="var">simpl_map</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">simpl_map</span> <span class="id" title="var">map_disjoint</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Extern</span> 80 (<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_l"><span class="id" title="lemma">lookup_union_Some_l</span></a> : <span class="id" title="var">simpl_map</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 81 (<a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_union_Some_r"><span class="id" title="lemma">lookup_union_Some_r</span></a> : <span class="id" title="var">simpl_map</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 80 (<a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> : <span class="id" title="var">simpl_map</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 80 (<a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">_</span><a class="idref" href="stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> : <span class="id" title="var">simpl_map</span>.<br/>

<br/>
</div>

<div class="doc">
Now we take everything together and also discharge conflicting look ups,
simplify overlapping look ups, and perform cancellations of equalities
involving unions. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "simplify_map_eq" "by" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">decompose_map_disjoint</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simpl_map</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simplify_eq</span>/=<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simpl_option</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_None"><span class="id" title="lemma">lookup_singleton_None</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="stdpp.fin_maps.html#lookup_singleton_Some"><span class="id" title="lemma">lookup_singleton_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H1</span> : ?<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> ?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">x</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> ?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H3</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">feed</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_weaken_inv"><span class="id" title="lemma">lookup_weaken_inv</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H3</span>; [<span class="id" title="var">done</span>|<span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>|<span class="id" title="var">done</span>|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H1</span> : ?<span class="id" title="var">m1</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> ?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">x</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">m2</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> ?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H3</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.fin_maps.html#lookup_weaken"><span class="id" title="lemma">lookup_weaken</span></a> <span class="id" title="var">_</span> <span class="id" title="var">m2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; [<span class="id" title="tactic">congruence</span>|<span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>]<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_cancel_l"><span class="id" title="lemma">map_union_cancel_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>|<span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>]<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> ?<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> ?<span class="id" title="var">m</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.fin_maps.html#map_union_cancel_r"><span class="id" title="lemma">map_union_cancel_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>|<span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>]<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a>?<span class="id" title="var">i</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> ?<span class="id" title="var">x</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.fin_maps.html#map_non_empty_singleton"><span class="id" title="lemma">map_non_empty_singleton</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a>?<span class="id" title="var">i</span> <a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> ?<span class="id" title="var">x</span><a class="idref" href="stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="stdpp.fin_maps.html#map_non_empty_singleton"><span class="id" title="lemma">map_non_empty_singleton</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> ?<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">m</span> <a class="idref" href="stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> ?<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unless</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">j</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">done</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">j</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?; <span class="id" title="var">simplify_eq</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simplify_map_eq" "/=" "by" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">progress</span> <span class="id" title="var">csimpl</span> <span class="id" title="tactic">in</span> * || <span class="id" title="var">simplify_map_eq</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "simplify_map_eq" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">simpl_map</span> <span class="id" title="var">map_disjoint</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simplify_map_eq" "/=" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span>/= <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">simpl_map</span> <span class="id" title="var">map_disjoint</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
