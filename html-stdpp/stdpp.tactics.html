<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">stdpp.tactics</h1>

<div class="code">
</div>

<div class="doc">
This file collects general purpose tactics that are used throughout
the development. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="stdpp.decidable.html#"><span class="id" title="library">decidable</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="f_equal_dep"><span class="id" title="lemma">f_equal_dep</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> : <a class="idref" href="stdpp.tactics.html#A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.tactics.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="var">x</span> : <a class="idref" href="stdpp.tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt;; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="f_equal_help"><span class="id" title="lemma">f_equal_help</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="stdpp.tactics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.tactics.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="stdpp.tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.tactics.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.tactics.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="stdpp.tactics.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="stdpp.tactics.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> -&gt; -&gt;; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="tactic">f_equal</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.tactics.html#f_equal_help"><span class="id" title="lemma">f_equal_help</span></a>; [<span class="id" title="var">go</span>|<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">g</span> ?<span class="id" title="var">x</span> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.tactics.html#f_equal_dep"><span class="id" title="lemma">f_equal_dep</span></a> <span class="id" title="var">f</span> <span class="id" title="var">g</span>); <span class="id" title="var">go</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">go</span>.<br/>

<br/>
</div>

<div class="doc">
We declare hint databases <span class="inlinecode"><span class="id" title="tactic">f_equal</span></span>, <span class="inlinecode"><span class="id" title="tactic">congruence</span></span> and <span class="inlinecode"><span class="id" title="var">lia</span></span> and containing
solely the tactic corresponding to its name. These hint database are useful in
to be combined in combination with other hint database. 
</div>
<div class="code">
<span class="id" title="keyword">Hint Extern</span> 998 (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">f_equal</span> : <span class="id" title="tactic">f_equal</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 999 =&gt; <span class="id" title="tactic">congruence</span> : <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 1000 =&gt; <span class="id" title="var">lia</span> : <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 1000 =&gt; <span class="id" title="tactic">omega</span> : <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Hint Extern</span> 1001 =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">subst</span> : <span class="id" title="tactic">subst</span>. </div>

<div class="doc">
backtracking on this one will
be very bad, so use with care! 
<div class="paragraph"> </div>

 The tactic <span class="inlinecode"><span class="id" title="tactic">intuition</span></span> expands to <span class="inlinecode"><span class="id" title="tactic">intuition</span></span> <span class="inlinecode"><span class="id" title="tactic">auto</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span></span> <span class="inlinecode">*</span> by default. This
is rather efficient when having big hint databases, or expensive <span class="inlinecode"><span class="id" title="keyword">Hint</span></span> <span class="inlinecode"><span class="id" title="keyword">Extern</span></span>
declarations as the ones above. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "intuition" := <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">done</span></span> can get slow as it calls "trivial". <span class="inlinecode"><span class="id" title="var">fast_done</span></span> can solve way less
goals, but it will also always finish quickly.  We do 'reflexivity' last because
for goals of the form ?x = y, if we have x = y in the context, we will typically
want to use the assumption and not reflexivity 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fast_done</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">symmetry</span>; <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#not_symmetry"><span class="id" title="lemma">not_symmetry</span></a>; <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">reflexivity</span> ].<br/>
<span class="id" title="keyword">Tactic Notation</span> "fast_by" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tac</span>; <span class="id" title="var">fast_done</span>.<br/>

<br/>
</div>

<div class="doc">
A slightly modified version of Ssreflect's finishing tactic <span class="inlinecode"><span class="id" title="var">done</span></span>. It
also performs <span class="inlinecode"><span class="id" title="tactic">reflexivity</span></span> and uses symmetry of negated equalities. Compared
to Ssreflect's <span class="inlinecode"><span class="id" title="var">done</span></span>, it does not compute the goal's <span class="inlinecode"><span class="id" title="tactic">hnf</span></span> so as to avoid
unfolding setoid equalities. Note that this tactic performs much better than
Coq's <span class="inlinecode"><span class="id" title="var">easy</span></span> tactic as it does not perform <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">done</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span><br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">first</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">fast_done</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">trivial</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;the&nbsp;tactics&nbsp;below&nbsp;will&nbsp;introduce&nbsp;themselves&nbsp;anyway,&nbsp;or&nbsp;make&nbsp;no&nbsp;sense<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;goals&nbsp;of&nbsp;product&nbsp;type.&nbsp;So&nbsp;this&nbsp;is&nbsp;a&nbsp;good&nbsp;place&nbsp;for&nbsp;us&nbsp;to&nbsp;do&nbsp;it.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">progress</span> <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">trivial</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#not_symmetry"><span class="id" title="lemma">not_symmetry</span></a>; <span class="id" title="tactic">trivial</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">contradiction</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">fast_done</span> <span class="id" title="keyword">end</span> ]<br/>
&nbsp;&nbsp;].<br/>
<span class="id" title="keyword">Tactic Notation</span> "by" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">tac</span>; <span class="id" title="var">done</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">done_if</span> <span class="id" title="var">b</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <span class="id" title="var">done</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Aliases for trans and etrans that are easier to type 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "trans" <span class="id" title="keyword">constr</span>(<span class="id" title="var">A</span>) := <span class="id" title="tactic">transitivity</span> <span class="id" title="var">A</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "etrans" := <span class="id" title="var">etransitivity</span>.<br/>

<br/>
</div>

<div class="doc">
Tactics for splitting conjunctions:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">split_and</span></span> : split the goal if is syntactically of the shape <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">_</span></span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">split_and</span>?</span> : split the goal repeatedly (perhaps zero times) while it is
  of the shape <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">_</span></span>.

</li>
<li> <span class="inlinecode"><span class="id" title="var">split_and</span>!</span> : works similarly, but at least one split should succeed. In
  order to do so, it will head normalize the goal first to possibly expose a
  conjunction.

</li>
</ul>

<div class="paragraph"> </div>

Note that <span class="inlinecode"><span class="id" title="var">split_and</span></span> differs from <span class="inlinecode"><span class="id" title="tactic">split</span></span> by only splitting conjunctions. The
<span class="inlinecode"><span class="id" title="tactic">split</span></span> tactic splits any inductive with one constructor.

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">destruct_and</span>?</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> : destruct assumption <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> repeatedly (perhaps zero times)
  while it is of the shape <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="var">_</span></span>.

</li>
<li> <span class="inlinecode"><span class="id" title="var">destruct_and</span>!</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> : works similarly, but at least one destruct should succeed.
  In order to do so, it will head normalize the goal first to possibly expose a
  conjunction.

</li>
<li> <span class="inlinecode"><span class="id" title="var">destruct_and</span>?</span> iterates <span class="inlinecode"><span class="id" title="var">destruct_or</span>?</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> on every matching assumption <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span>.

</li>
<li> <span class="inlinecode"><span class="id" title="var">destruct_and</span>!</span> works similarly, but at least one destruct should succeed.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "split_and" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#andb_True"><span class="id" title="lemma">andb_True</span></a>; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "split_and" "?" := <span class="id" title="tactic">repeat</span> <span class="id" title="var">split_and</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "split_and" "!" := <span class="id" title="tactic">hnf</span>; <span class="id" title="var">split_and</span>; <span class="id" title="var">split_and</span>?.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_and_go</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and_go</span> <span class="id" title="var">H1</span>; <span class="id" title="var">destruct_and_go</span> <span class="id" title="var">H2</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.decidable.html#bool_decide_unpack"><span class="id" title="lemma">bool_decide_unpack</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and_go</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#andb_True"><span class="id" title="lemma">andb_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_and_go</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_and" "?" <span class="id" title="var">ident</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_and_go</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_and" "!" <span class="id" title="var">ident</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">progress</span> (<span class="id" title="var">destruct_and</span>? <span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_and" "?" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> (<span class="id" title="var">destruct_and</span>? <span class="id" title="var">H</span>) <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_and" "!" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="var">destruct_and</span>?.<br/>

<br/>
</div>

<div class="doc">
Tactics for splitting disjunctions in an assumption:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">destruct_or</span>?</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> : destruct the assumption <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> repeatedly (perhaps zero times)
  while it is of the shape <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">∨</span> <span class="inlinecode"><span class="id" title="var">_</span></span>.

</li>
<li> <span class="inlinecode"><span class="id" title="var">destruct_or</span>!</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> : works similarly, but at least one destruct should succeed.
  In order to do so, it will head normalize the goal first to possibly
  expose a disjunction.

</li>
<li> <span class="inlinecode"><span class="id" title="var">destruct_or</span>?</span> iterates <span class="inlinecode"><span class="id" title="var">destruct_or</span>?</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> on every matching assumption <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span>.

</li>
<li> <span class="inlinecode"><span class="id" title="var">destruct_or</span>!</span> works similarly, but at least one destruct should succeed.

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "destruct_or" "?" <span class="id" title="var">ident</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#c355ddcd7bc517c0d78bdc33e3c6747d"><span class="id" title="notation">False</span></a> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.decidable.html#bool_decide_unpack"><span class="id" title="lemma">bool_decide_unpack</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#orb_True"><span class="id" title="lemma">orb_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_or" "!" <span class="id" title="var">ident</span>(<span class="id" title="var">H</span>) := <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">progress</span> (<span class="id" title="var">destruct_or</span>? <span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_or" "?" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> (<span class="id" title="var">destruct_or</span>? <span class="id" title="var">H</span>) <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "destruct_or" "!" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="var">destruct_or</span>?.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">case_match</span></span> destructs an arbitrary match in the conclusion or
assumptions, and generates a corresponding equality. This tactic is best used
together with the <span class="inlinecode"><span class="id" title="tactic">repeat</span></span> tactical. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">case_match</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [ <span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span> ] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>:?<br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>:?<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">unless</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#T"><span class="id" title="variable">T</span></a></span> <span class="inlinecode"><span class="id" title="tactic">by</span></span> <span class="inlinecode"><span class="id" title="var">tac_fail</span></span> succeeds if <span class="inlinecode"><a class="idref" href="stdpp.vector.html#T"><span class="id" title="variable">T</span></a></span> is not provable by
the tactic <span class="inlinecode"><span class="id" title="var">tac_fail</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "unless" <span class="id" title="keyword">constr</span>(<span class="id" title="var">T</span>) "by" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac_fail</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<span class="id" title="tactic">assert</span> <span class="id" title="var">T</span> <span class="id" title="tactic">by</span> <span class="id" title="var">tac_fail</span>; <span class="id" title="tactic">fail</span> 1 | <span class="id" title="tactic">idtac</span>].<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">repeat_on_hyps</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> repeatedly applies <span class="inlinecode"><span class="id" title="var">tac</span></span> in unspecified
order on all hypotheses until it cannot be applied to any hypothesis anymore. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "repeat_on_hyps" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">tac</span> <span class="id" title="var">H</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="tactic">clear</span></span> <span class="inlinecode"><span class="id" title="tactic">dependent</span></span> <span class="inlinecode"><a class="idref" href="stdpp.fin.html#H1"><span class="id" title="variable">H1</span></a></span> <span class="inlinecode">...</span> <span class="inlinecode"><span class="id" title="var">Hn</span></span> clears the hypotheses <span class="inlinecode"><span class="id" title="var">Hi</span></span> and
their dependencies. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H4</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">hyp</span>(<span class="id" title="var">H5</span>) := <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H5</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H5</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">hyp</span> (<span class="id" title="var">H6</span>) := <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H6</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H5</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">hyp</span> (<span class="id" title="var">H6</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H7</span>) := <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H7</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H5</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">hyp</span> (<span class="id" title="var">H6</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H7</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H8</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H8</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H5</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">hyp</span> (<span class="id" title="var">H6</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H7</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H8</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H9</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H9</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "clear" "dependent" <span class="id" title="var">hyp</span>(<span class="id" title="var">H1</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H2</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H3</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H4</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H5</span>)<br/>
&nbsp;&nbsp;<span class="id" title="var">hyp</span> (<span class="id" title="var">H6</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H7</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H8</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H9</span>) <span class="id" title="var">hyp</span>(<span class="id" title="var">H10</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span> <span class="id" title="var">H8</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">clear</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">H10</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">is_non_dependent</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> determines whether the goal's conclusion or
hypotheses depend on <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "is_non_dependent" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> : <span class="id" title="keyword">context</span> [ <span class="id" title="var">H</span> ] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">H</span> ] =&gt; <span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">var_eq</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a></span> fails if <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="stdpp.vector.html#y"><span class="id" title="variable">y</span></a></span> are unequal, and <span class="inlinecode"><span class="id" title="var">var_neq</span></span>
does the converse. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">var_eq</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x2</span> =&gt; <span class="id" title="tactic">idtac</span> | <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 1 <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">var_neq</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x2</span> =&gt; <span class="id" title="tactic">fail</span> 1 | <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">idtac</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Operational type class projections in recursive calls are not folded back
appropriately by <span class="inlinecode"><span class="id" title="tactic">simpl</span></span>. The tactic <span class="inlinecode"><span class="id" title="var">csimpl</span></span> uses the <span class="inlinecode"><span class="id" title="var">fold_classes</span></span> tactics
to refold recursive calls of <span class="inlinecode"><a class="idref" href="stdpp.list.html#fmap"><span class="id" title="section">fmap</span></a></span>, <span class="inlinecode"><a class="idref" href="stdpp.base.html#mbind"><span class="id" title="projection">mbind</span></a></span>, <span class="inlinecode"><a class="idref" href="stdpp.list.html#omap"><span class="id" title="section">omap</span></a></span> and <span class="inlinecode"><a class="idref" href="stdpp.base.html#alter"><span class="id" title="projection">alter</span></a></span>. A
self-contained example explaining the problem can be found in the following
Coq-club message:

<div class="paragraph"> </div>

https://sympa.inria.fr/sympa/arc/coq-club/2012-10/msg00147.html 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_classes</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ ?<span class="id" title="var">F</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#FMap"><span class="id" title="class">FMap</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#MBind"><span class="id" title="class">MBind</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#OMap"><span class="id" title="class">OMap</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#Alter"><span class="id" title="class">Alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fold_classes_hyps</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">context</span> [ ?<span class="id" title="var">F</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">progress</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#FMap"><span class="id" title="class">FMap</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#MBind"><span class="id" title="class">MBind</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#mbind"><span class="id" title="definition">mbind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#OMap"><span class="id" title="class">OMap</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="stdpp.base.html#Alter"><span class="id" title="class">Alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="var">F</span> <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">change</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>)) <span class="id" title="keyword">with</span> (@<a class="idref" href="stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">F</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "csimpl" "in" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">progress</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">fold_classes_hyps</span> <span class="id" title="var">H</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "csimpl" := <span class="id" title="tactic">try</span> (<span class="id" title="tactic">progress</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="var">fold_classes</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "csimpl" "in" "*" :=<br/>
&nbsp;&nbsp;<span class="id" title="var">repeat_on_hyps</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="var">csimpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>); <span class="id" title="var">csimpl</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">simplify_eq</span></span> repeatedly substitutes, discriminates,
and injects equalities, and tries to contradict impossible inequalities. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "simplify_eq" := <span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="stdpp.base.html#c355ddcd7bc517c0d78bdc33e3c6747d"><span class="id" title="notation">False</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">x</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.base.html#inj2"><span class="id" title="definition">inj2</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;before&nbsp;<span class="inlinecode"><span class="id" title="tactic">injection</span></span>&nbsp;to&nbsp;circumvent&nbsp;bug&nbsp;2939 in some situations *)</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;first&nbsp;hyp&nbsp;will&nbsp;be&nbsp;named&nbsp;<span class="inlinecode"><span class="id" title="var">H</span></span>,&nbsp;subsequent&nbsp;hyps&nbsp;will&nbsp;be&nbsp;given&nbsp;fresh&nbsp;names&nbsp;*)</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">x</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;unclear&nbsp;how&nbsp;to&nbsp;generalize&nbsp;the&nbsp;below&nbsp;*)</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H1</span> : ?<span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">x</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H1</span> : ?<span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">x</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> ?<span class="id" title="var">A</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Logic.Eqdep_dec.html#inj_pair2_eq_dec"><span class="id" title="lemma">Eqdep_dec.inj_pair2_eq_dec</span></a> <span class="id" title="var">_</span> (<a class="idref" href="stdpp.base.html#decide_rel"><span class="id" title="definition">decide_rel</span></a> <a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">(=@{</span></a><span class="id" title="var">A</span><a class="idref" href="stdpp.base.html#004e1afed1cd7c7c13e065ebaf1bfeff"><span class="id" title="notation">})</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "simplify_eq" "/=" :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">progress</span> <span class="id" title="var">csimpl</span> <span class="id" title="tactic">in</span> * || <span class="id" title="var">simplify_eq</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "f_equal" "/=" := <span class="id" title="var">csimpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">f_equal</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">setoid_subst_aux</span> <span class="id" title="var">R</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">R</span> <span class="id" title="var">x</span> ?<span class="id" title="var">y</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_var</span> <span class="id" title="var">x</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">fail</span> 2 <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [ <span class="id" title="var">x</span> ] =&gt; <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H'</span> : <span class="id" title="keyword">context</span> [ <span class="id" title="var">x</span> ] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="keyword">match</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span> =&gt; <span class="id" title="tactic">fail</span> 2 <span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">setoid_subst</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simplify_eq</span>/=<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : @<a class="idref" href="stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">e</span> ?<span class="id" title="var">x</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">setoid_subst_aux</span> (@<a class="idref" href="stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>) <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : @<a class="idref" href="stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> ?<span class="id" title="var">A</span> ?<span class="id" title="var">e</span> <span class="id" title="var">_</span> ?<span class="id" title="var">x</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">setoid_subst_aux</span> (@<a class="idref" href="stdpp.base.html#equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span>) <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
f_equiv works on goals of the form <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><span class="id" title="var">_</span></span>, for any relation and any
number of arguments. It looks for an appropriate <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span> instance, and applies
it. The tactic is somewhat limited, since it cannot be used to backtrack on
the Proper instances that has been found. To that end, we try to avoid the
trivial instance in which the resulting goals have an <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a></span>. More generally,
we try to "maintain" the relation of the current goal. For example,
when having <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span> <span class="inlinecode">(<a class="idref" href="stdpp.base.html#equiv"><span class="id" title="projection">equiv</span></a></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">dist</span>)</span> <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span> and <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a></span> <span class="inlinecode">(<span class="id" title="var">dist</span></span> <span class="inlinecode">==&gt;</span> <span class="inlinecode"><span class="id" title="var">dist</span>)</span> <span class="inlinecode"><a class="idref" href="stdpp.fin_maps.html#theorems.Forall2.f"><span class="id" title="variable">f</span></a></span>, it will
favor the second because the relation (dist) stays the same. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">f_equiv</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">intros</span> ?<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;support&nbsp;matches&nbsp;on&nbsp;both&nbsp;sides,&nbsp;*if*&nbsp;they&nbsp;concern&nbsp;the&nbsp;same&nbsp;variable,&nbsp;or<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables&nbsp;in&nbsp;some&nbsp;relation.&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>) (<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">R</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span> |- ?<span class="id" title="var">R2</span> (<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>) (<span class="id" title="keyword">match</span> ?<span class="id" title="var">y</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;First&nbsp;assume&nbsp;that&nbsp;the&nbsp;arguments&nbsp;need&nbsp;the&nbsp;same&nbsp;relation&nbsp;as&nbsp;the&nbsp;result&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;the&nbsp;case&nbsp;in&nbsp;which&nbsp;R&nbsp;is&nbsp;polymorphic,&nbsp;or&nbsp;an&nbsp;operational&nbsp;type&nbsp;class,<br/>
&nbsp;&nbsp;like&nbsp;equiv.&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- (?<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Next,&nbsp;try&nbsp;to&nbsp;infer&nbsp;the&nbsp;relation.&nbsp;Unfortunately,&nbsp;very&nbsp;often,&nbsp;it&nbsp;will&nbsp;turn<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;goal&nbsp;into&nbsp;a&nbsp;Leibniz&nbsp;equality&nbsp;so&nbsp;we&nbsp;get&nbsp;stuck.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;Can&nbsp;we&nbsp;exclude&nbsp;that&nbsp;instance?&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> (<span class="id" title="var">_</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">R</span>) <span class="id" title="var">f</span>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;In&nbsp;case&nbsp;the&nbsp;function&nbsp;symbol&nbsp;differs,&nbsp;but&nbsp;the&nbsp;arguments&nbsp;are&nbsp;the&nbsp;same,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maybe&nbsp;we&nbsp;have&nbsp;a&nbsp;pointwise_relation&nbsp;in&nbsp;our&nbsp;context.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;If&nbsp;only&nbsp;some&nbsp;of&nbsp;the&nbsp;arguments&nbsp;are&nbsp;the&nbsp;same,&nbsp;we&nbsp;could&nbsp;also<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;for&nbsp;"pointwise_relation"'s.&nbsp;But&nbsp;that&nbsp;leads&nbsp;to&nbsp;a&nbsp;combinatorial<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explosion&nbsp;about&nbsp;which&nbsp;arguments&nbsp;are&nbsp;and&nbsp;which&nbsp;are&nbsp;not&nbsp;the&nbsp;same.&nbsp;*)</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">R</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">g</span> |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span>) (?<span class="id" title="var">g</span> ?<span class="id" title="var">x</span>) =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">R</span>) ?<span class="id" title="var">f</span> ?<span class="id" title="var">g</span> |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) (?<span class="id" title="var">g</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>) =&gt; <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">simple</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "f_equiv" "/=" := <span class="id" title="var">csimpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">f_equiv</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">solve_proper_unfold</span></span> unfolds the first head symbol, so that
we proceed by repeatedly using <span class="inlinecode"><span class="id" title="var">f_equiv</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_proper_unfold</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Try&nbsp;unfolding&nbsp;the&nbsp;head&nbsp;symbol,&nbsp;which&nbsp;is&nbsp;the&nbsp;one&nbsp;we&nbsp;are&nbsp;proving&nbsp;a&nbsp;new&nbsp;property&nbsp;about&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) (?<span class="id" title="var">f</span> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">unfold</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">solve_proper_prepare</span></span> does some preparation work before the main
<span class="inlinecode"><span class="id" title="var">solve_proper</span></span> loop.  Having this as a separate tactic is useful for debugging
<span class="inlinecode"><span class="id" title="var">solve_proper</span></span> failure. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_proper_prepare</span> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Introduce&nbsp;everything&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">intros</span> ???<br/>
&nbsp;&nbsp;| |- (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">signature</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">intros</span> ???<br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">intros</span> ?<br/>
&nbsp;&nbsp;| |- ?<span class="id" title="var">R</span> ?<span class="id" title="var">f</span> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Deal&nbsp;with&nbsp;other&nbsp;cases&nbsp;where&nbsp;we&nbsp;have&nbsp;an&nbsp;equivalence&nbsp;relation&nbsp;on&nbsp;functions<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(e.g.&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">pointwise_relation</span></span>&nbsp;that&nbsp;is&nbsp;hidden&nbsp;in&nbsp;some&nbsp;form&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">R</span></span>).&nbsp;We&nbsp;do<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;by&nbsp;checking&nbsp;if&nbsp;the&nbsp;arguments&nbsp;of&nbsp;the&nbsp;relation&nbsp;are&nbsp;actually&nbsp;functions,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;then&nbsp;forcefully&nbsp;introduce&nbsp;one&nbsp;∀&nbsp;and&nbsp;introduce&nbsp;the&nbsp;remaining&nbsp;∀s&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;show&nbsp;up&nbsp;in&nbsp;the&nbsp;goal.&nbsp;To&nbsp;check&nbsp;that&nbsp;we&nbsp;actually&nbsp;have&nbsp;an&nbsp;equivalence&nbsp;relation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;functions,&nbsp;we&nbsp;try&nbsp;to&nbsp;eta&nbsp;expand&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>,&nbsp;which&nbsp;will&nbsp;only&nbsp;succeed&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">f</span></span>&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actually&nbsp;a&nbsp;function.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f'</span> := <span class="id" title="keyword">constr</span>:(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">f</span> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;forcefully&nbsp;introduce&nbsp;the&nbsp;first&nbsp;∀&nbsp;and&nbsp;other&nbsp;∀s&nbsp;that&nbsp;show&nbsp;up&nbsp;in&nbsp;the<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goal&nbsp;afterwards.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?; <span class="id" title="tactic">intros</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="var">simplify_eq</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;We&nbsp;try&nbsp;with&nbsp;and&nbsp;without&nbsp;unfolding.&nbsp;We&nbsp;have&nbsp;to&nbsp;backtrack&nbsp;on<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;because&nbsp;unfolding&nbsp;may&nbsp;succeed,&nbsp;but&nbsp;then&nbsp;the&nbsp;proof&nbsp;may&nbsp;fail.&nbsp;*)</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">solve_proper_unfold</span> + <span class="id" title="tactic">idtac</span>); <span class="id" title="tactic">simpl</span>.<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">solve_proper_core</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> solves goals of the form "Proper (R1 ==&gt; R2)", for
any number of relations. The actual work is done by repeatedly applying
<span class="inlinecode"><span class="id" title="var">tac</span></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_proper_core</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">solve_proper_prepare</span>;<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Now&nbsp;do&nbsp;the&nbsp;job.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">solve</span> [<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">first</span> [<span class="id" title="var">eassumption</span> | <span class="id" title="var">tac</span> ()] ].<br/>

<br/>
</div>

<div class="doc">
Finally, <span class="inlinecode"><span class="id" title="var">solve_proper</span></span> tries to apply <span class="inlinecode"><span class="id" title="var">f_equiv</span></span> in a loop. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_proper</span> := <span class="id" title="var">solve_proper_core</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">f_equiv</span>).<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">intros_revert</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> introduces all foralls/arrows, performs tac,
and then reverts them. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intros_revert</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="var">intros_revert</span> <span class="id" title="var">tac</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Given a tactic <span class="inlinecode"><span class="id" title="var">tac2</span></span> generating a list of terms, <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Arith.PeanoNat.html#Nat.iter"><span class="id" title="definition">iter</span></a></span> <span class="inlinecode"><span class="id" title="var">tac1</span></span> <span class="inlinecode"><span class="id" title="var">tac2</span></span>
runs <span class="inlinecode"><span class="id" title="var">tac</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span> for each element <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span> until <span class="inlinecode"><span class="id" title="var">tac</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#x"><span class="id" title="variable">x</span></a></span> succeeds. If it does not
suceed for any element of the generated list, the whole tactic wil fail. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "iter" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) <span class="id" title="var">tactic</span>(<span class="id" title="var">l</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span> ?<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">l</span> =&gt; <span class="id" title="var">tac</span> <span class="id" title="var">x</span> || <span class="id" title="var">go</span> <span class="id" title="var">l</span> <span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">l</span>.<br/>

<br/>
</div>

<div class="doc">
Given <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">A_1</span></span> <span class="inlinecode">→</span> <span class="inlinecode">...</span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">A_n</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a></span> (where each <span class="inlinecode"><span class="id" title="var">A_i</span></span> is non-dependent), the
tactic <span class="inlinecode"><span class="id" title="var">feed</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> <span class="inlinecode"><span class="id" title="var">tac_by</span></span> creates a subgoal for each <span class="inlinecode"><span class="id" title="var">A_i</span></span> and calls <span class="inlinecode"><span class="id" title="var">tac</span></span> <span class="inlinecode"><a class="idref" href="stdpp.coPset.html#p"><span class="id" title="variable">p</span></a></span>
with the generated proof <span class="inlinecode"><a class="idref" href="stdpp.coPset.html#p"><span class="id" title="variable">p</span></a></span> of <span class="inlinecode"><a class="idref" href="stdpp.vector.html#B"><span class="id" title="variable">B</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "feed" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">T2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Use&nbsp;a&nbsp;separate&nbsp;counter&nbsp;for&nbsp;fresh&nbsp;names&nbsp;to&nbsp;make&nbsp;it&nbsp;more&nbsp;likely&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;generated&nbsp;name&nbsp;is&nbsp;"fresh"&nbsp;with&nbsp;respect&nbsp;to&nbsp;those&nbsp;generated&nbsp;before<br/>
&nbsp;&nbsp;&nbsp;&nbsp;calling&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">feed</span></span>&nbsp;tactic.&nbsp;In&nbsp;particular,&nbsp;this&nbsp;hack&nbsp;makes&nbsp;sure&nbsp;that<br/>
&nbsp;&nbsp;&nbsp;&nbsp;tactics&nbsp;like&nbsp;<span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">H'</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="tactic">fresh</span></span> <span class="inlinecode"><span class="id" title="tactic">in</span></span> <span class="inlinecode"><span class="id" title="var">feed</span></span> <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">=&gt;</span> <span class="inlinecode"><span class="id" title="tactic">pose</span></span> <span class="inlinecode"><span class="id" title="var">proof</span></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode"><span class="id" title="keyword">as</span></span> <span class="inlinecode"><span class="id" title="var">H'</span>)</span> <span class="inlinecode"><span class="id" title="var">H</span></span>&nbsp;do<br/>
&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;break.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HT1</span> := <span class="id" title="tactic">fresh</span> "feed" <span class="id" title="tactic">in</span> <span class="id" title="tactic">assert</span> <span class="id" title="var">T1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HT1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="var">go</span> (<span class="id" title="var">H</span> <span class="id" title="var">HT1</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">HT1</span> ]<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> =&gt; <span class="id" title="var">tac</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">H</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">efeed</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> is similar to <span class="inlinecode"><span class="id" title="var">feed</span></span>, but it also instantiates
dependent premises of <span class="inlinecode"><a class="idref" href="stdpp.vector.html#H"><span class="id" title="variable">H</span></a></span> with evars. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "efeed" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "using" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac</span>) "by" <span class="id" title="var">tactic3</span> (<span class="id" title="var">bytac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="tactic">eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">T2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HT1</span> := <span class="id" title="tactic">fresh</span> "feed" <span class="id" title="tactic">in</span> <span class="id" title="tactic">assert</span> <span class="id" title="var">T1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HT1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">bytac</span> | <span class="id" title="var">go</span> (<span class="id" title="var">H</span> <span class="id" title="var">HT1</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">HT1</span> ]<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e</span> := <span class="id" title="tactic">fresh</span> "feed" <span class="id" title="tactic">in</span> <span class="id" title="tactic">evar</span> (<span class="id" title="var">e</span>:<span class="id" title="var">T1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">e'</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">e</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">e</span>; <span class="id" title="var">go</span> (<span class="id" title="var">H</span> <span class="id" title="var">e'</span>)<br/>
&nbsp;&nbsp;| ?<span class="id" title="var">T1</span> =&gt; <span class="id" title="var">tac</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "efeed" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "using" <span class="id" title="var">tactic3</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">efeed</span> <span class="id" title="var">H</span> <span class="id" title="keyword">using</span> <span class="id" title="var">tac</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">idtac</span>.<br/>

<br/>
</div>

<div class="doc">
The following variants of <span class="inlinecode"><span class="id" title="tactic">pose</span></span> <span class="inlinecode"><span class="id" title="var">proof</span></span>, <span class="inlinecode"><span class="id" title="tactic">specialize</span></span>, <span class="inlinecode"><span class="id" title="tactic">inversion</span></span>, and
<span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, use the <span class="inlinecode"><span class="id" title="var">feed</span></span> tactic before invoking the actual tactic. 
</div>
<div class="code">
<span class="id" title="keyword">Tactic Notation</span> "feed" "pose" "proof" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "as" <span class="id" title="var">ident</span>(<span class="id" title="var">H'</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>) <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "feed" "pose" "proof" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span>) <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "efeed" "pose" "proof" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "as" <span class="id" title="var">ident</span>(<span class="id" title="var">H'</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">efeed</span> <span class="id" title="var">H</span> <span class="id" title="keyword">using</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>).<br/>
<span class="id" title="keyword">Tactic Notation</span> "efeed" "pose" "proof" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">efeed</span> <span class="id" title="var">H</span> <span class="id" title="keyword">using</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "feed" "specialize" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="tactic">specialize</span> <span class="id" title="var">p</span>) <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "efeed" "specialize" <span class="id" title="var">hyp</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">efeed</span> <span class="id" title="var">H</span> <span class="id" title="keyword">using</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="tactic">specialize</span> <span class="id" title="var">p</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "feed" "inversion" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">H'</span>:=<span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H'</span>) <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "feed" "inversion" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "as" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">IP</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">H'</span>:=<span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">IP</span>) <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "feed" "destruct" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">H'</span>:=<span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span>) <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "feed" "destruct" <span class="id" title="keyword">constr</span>(<span class="id" title="var">H</span>) "as" <span class="id" title="var">simple_intropattern</span>(<span class="id" title="var">IP</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> =&gt; <span class="id" title="keyword">let</span> <span class="id" title="var">H'</span>:=<span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span> <span class="id" title="keyword">as</span> <span class="id" title="var">IP</span>) <span class="id" title="var">H</span>.<br/>

<br/>
</div>

<div class="doc">
The block definitions are taken from <span class="inlinecode"><span class="id" title="var">Coq.Program.Equality</span></span> and can be used
by tactics to separate their goal from hypotheses they generalize over. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="block"><span class="id" title="definition">block</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">a</span> : <a class="idref" href="stdpp.tactics.html#A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="stdpp.tactics.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">block_goal</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> [ |- ?<span class="id" title="var">T</span> ] =&gt; <span class="id" title="tactic">change</span> (<a class="idref" href="stdpp.tactics.html#block"><span class="id" title="definition">block</span></a> <span class="id" title="var">T</span>) <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">unblock_goal</span> := <span class="id" title="tactic">unfold</span> <a class="idref" href="stdpp.tactics.html#block"><span class="id" title="definition">block</span></a> <span class="id" title="tactic">in</span> *.<br/>

<br/>
</div>

<div class="doc">
The following tactic can be used to add support for patterns to tactic notation:
It will search for the first subterm of the goal matching <span class="inlinecode"><span class="id" title="var">pat</span></span>, and then call <span class="inlinecode"><span class="id" title="var">tac</span></span>
with that subterm. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">find_pat</span> <span class="id" title="var">pat</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [?<span class="id" title="var">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unify</span> <span class="id" title="var">pat</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typeclass_instances</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryif</span> <span class="id" title="var">tac</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> <span class="id" title="tactic">idtac</span> <span class="id" title="keyword">else</span> <span class="id" title="tactic">fail</span> 2<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Coq's <span class="inlinecode"><span class="id" title="tactic">firstorder</span></span> tactic fails or loops on rather small goals already. In
particular, on those generated by the tactic <span class="inlinecode"><span class="id" title="var">unfold_elem_ofs</span></span> which is used
to solve propositions on sets. The <span class="inlinecode"><span class="id" title="var">naive_solver</span></span> tactic implements an
ad-hoc and incomplete <span class="inlinecode"><span class="id" title="tactic">firstorder</span></span>-like solver using Ltac's backtracking
mechanism. The tactic suffers from the following limitations:
<ul class="doclist">
<li> It might leave unresolved evars as Ltac provides no way to detect that.

</li>
<li> To avoid the tactic becoming too slow, we allow a universally quantified
  hypothesis to be instantiated only once during each search path.

</li>
<li> It does not perform backtracking on instantiation of universally quantified
  assumptions.

</li>
</ul>

<div class="paragraph"> </div>

We use a counter to make the search breath first. Breath first search ensures
that a minimal number of hypotheses is instantiated, and thus reduced the
posibility that an evar remains unresolved.

<div class="paragraph"> </div>

Despite these limitations, it works much better than Coq's <span class="inlinecode"><span class="id" title="tactic">firstorder</span></span> tactic
for the purposes of this development. This tactic either fails or proves the
goal. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="forall_and_distr"><span class="id" title="lemma">forall_and_distr</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="stdpp.tactics.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="stdpp.tactics.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.tactics.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="stdpp.tactics.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="stdpp.tactics.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The tactic <span class="inlinecode"><span class="id" title="var">no_new_unsolved_evars</span></span> <span class="inlinecode"><span class="id" title="var">tac</span></span> executes <span class="inlinecode"><span class="id" title="var">tac</span></span> and fails if it
creates any new evars. This trick is by Jonathan Leivent, see:
https://coq.inria.fr/bugs/show_bug.cgi?id=3872 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">no_new_unsolved_evars</span> <span class="id" title="var">tac</span> := <span class="id" title="tactic">exact</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tac</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "naive_solver" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#not"><span class="id" title="definition">not</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> ] |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="stdpp.tactics.html#forall_and_distr"><span class="id" title="lemma">forall_and_distr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">revert</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;solve&nbsp;the&nbsp;goal&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">fast_done</span><br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;intros&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">intro</span><br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;simplification&nbsp;of&nbsp;assumptions&nbsp;*)</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="stdpp.base.html#c355ddcd7bc517c0d78bdc33e3c6747d"><span class="id" title="notation">False</span></a> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Work&nbsp;around&nbsp;bug&nbsp;https://coq.inria.fr/bugs/show_bug.cgi?id=2901&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">H2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span>  |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">Hx</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : ?<span class="id" title="var">P</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> ?<span class="id" title="var">Q</span>, <span class="id" title="var">H2</span> : ?<span class="id" title="var">P</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">H2</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.decidable.html#bool_decide_unpack"><span class="id" title="lemma">bool_decide_unpack</span></a> <span class="id" title="var">_</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#andb_True"><span class="id" title="lemma">andb_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;simplify&nbsp;and&nbsp;solve&nbsp;equalities&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simplify_eq</span>/=<br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;operations&nbsp;that&nbsp;generate&nbsp;more&nbsp;subgoals&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<a class="idref" href="stdpp.decidable.html#bool_decide"><span class="id" title="definition">bool_decide</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> (<a class="idref" href="stdpp.decidable.html#bool_decide_pack"><span class="id" title="lemma">bool_decide_pack</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#andb_True"><span class="id" title="lemma">andb_True</span></a>; <span class="id" title="tactic">split</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span>|<span class="id" title="var">H1</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#orb_True"><span class="id" title="lemma">orb_True</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span>|<span class="id" title="var">H1</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;solve&nbsp;the&nbsp;goal&nbsp;using&nbsp;the&nbsp;user&nbsp;supplied&nbsp;tactic&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">solve</span> [<span class="id" title="var">tac</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;use&nbsp;recursion&nbsp;to&nbsp;enable&nbsp;backtracking&nbsp;on&nbsp;the&nbsp;following&nbsp;clauses.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;<span class="comment">(**i&nbsp;instantiation&nbsp;of&nbsp;the&nbsp;conclusion&nbsp;*)</span><br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">no_new_unsolved_evars</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">eexists</span>; <span class="id" title="var">go</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">first</span> [<span class="id" title="tactic">left</span>; <span class="id" title="var">go</span> <span class="id" title="var">n</span> | <span class="id" title="tactic">right</span>; <span class="id" title="var">go</span> <span class="id" title="var">n</span>]<br/>
&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#Is_true"><span class="id" title="definition">Is_true</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <span class="id" title="var">_</span>) =&gt; <span class="id" title="tactic">apply</span> <a class="idref" href="stdpp.base.html#orb_True"><span class="id" title="lemma">orb_True</span></a>; <span class="id" title="tactic">first</span> [<span class="id" title="tactic">left</span>; <span class="id" title="var">go</span> <span class="id" title="var">n</span> | <span class="id" title="tactic">right</span>; <span class="id" title="var">go</span> <span class="id" title="var">n</span>]<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(**i&nbsp;instantiations&nbsp;of&nbsp;assumptions.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">n'</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(**i&nbsp;we&nbsp;give&nbsp;priority&nbsp;to&nbsp;assumptions&nbsp;that&nbsp;fit&nbsp;on&nbsp;the&nbsp;conclusion.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_non_dependent</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">no_new_unsolved_evars</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">first</span> [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="var">efeed</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span>]; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">go</span> <span class="id" title="var">n'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">iter</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n'</span> =&gt; <span class="id" title="var">go</span> <span class="id" title="var">n'</span>) (<span class="id" title="tactic">eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#seq"><span class="id" title="definition">seq</span></a> 1 6)).<br/>
<span class="id" title="keyword">Tactic Notation</span> "naive_solver" := <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
