<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">iris.base_logic.lib.gen_heap</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="../html-stdpp/stdpp.namespaces.html#"><span class="id" title="library">namespaces</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.bi.lib.fractional.html#"><span class="id" title="library">fractional</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.algebra.auth.html#"><span class="id" title="library">auth</span></a> <a class="idref" href="iris.algebra.gmap.html#"><span class="id" title="library">gmap</span></a> <a class="idref" href="iris.algebra.frac.html#"><span class="id" title="library">frac</span></a> <a class="idref" href="iris.algebra.agree.html#"><span class="id" title="library">agree</span></a> <a class="idref" href="iris.algebra.namespace_map.html#"><span class="id" title="library">namespace_map</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic.lib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.base_logic.lib.own.html#"><span class="id" title="library">own</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">uPred</span>.<br/>

<br/>
</div>

<div class="doc">
This file provides a generic mechanism for a point-to connective <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">↦{<a class="idref" href="iris.proofmode.monpred.html#q"><span class="id" title="variable">q</span></a>}</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.proph_map.html#v"><span class="id" title="variable">v</span></a></span>
with fractional permissions (where <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a></span> and <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.proph_map.html#v"><span class="id" title="variable">v</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#V"><span class="id" title="variable">V</span></a></span> over some abstract type
<span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a></span> for locations and <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#V"><span class="id" title="variable">V</span></a></span> for values). This mechanism can be plugged into a
language by using the heap invariant <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a></span> <span class="inlinecode">σ</span> where <span class="inlinecode">σ</span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="iris.algebra.big_op.html#big_op.gmap"><span class="id" title="section">gmap</span></a></span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#V"><span class="id" title="variable">V</span></a></span>. See
heap-lang for an example.

<div class="paragraph"> </div>

Next to the point-to connective <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">↦{<a class="idref" href="iris.proofmode.monpred.html#q"><span class="id" title="variable">q</span></a>}</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.proph_map.html#v"><span class="id" title="variable">v</span></a></span>, which keeps track of the value <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.proph_map.html#v"><span class="id" title="variable">v</span></a></span>
of a location <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span>, this mechanism allows one to attach "meta" or "ghost" data to
locations. This is done as follows:

<div class="paragraph"> </div>

<ul class="doclist">
<li> When one allocates a location, in addition to the point-to connective <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">↦</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.proph_map.html#v"><span class="id" title="variable">v</span></a></span>,
  one also obtains the token <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> <span class="inlinecode">⊤</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span>. This token is an exclusive
  resource that denotes that no meta data has been associated with the
  namespaces in the mask <span class="inlinecode">⊤</span> for the location <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span>.

</li>
<li> Meta data tokens can be split w.r.t. namespace masks, i.e.
  <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.proofmode.monpred.html#E1"><span class="id" title="variable">E1</span></a></span> <span class="inlinecode">∪</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#E2"><span class="id" title="variable">E2</span></a>)</span> <span class="inlinecode">⊣⊢</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#E1"><span class="id" title="variable">E1</span></a></span> <span class="inlinecode">∗</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#E2"><span class="id" title="variable">E2</span></a></span> if <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#E1"><span class="id" title="variable">E1</span></a></span> <span class="inlinecode">##</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#E2"><span class="id" title="variable">E2</span></a></span>.

</li>
<li> Meta data can be set using the update <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.class_instances_sbi.html#E"><span class="id" title="variable">E</span></a></span> <span class="inlinecode">==∗</span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> provided
  <span class="inlinecode">↑<a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> <span class="inlinecode">⊆</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.class_instances_sbi.html#E"><span class="id" title="variable">E</span></a></span>, and <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="iris.algebra.cofe_solver.html#solver.A"><span class="id" title="abbreviation">A</span></a></span> for any countable <span class="inlinecode"><a class="idref" href="iris.algebra.cofe_solver.html#solver.A"><span class="id" title="abbreviation">A</span></a></span>. The <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> connective is
  persistent and denotes the knowledge that the meta data <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> has been
  associated with namespace <span class="inlinecode"><a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> to the location <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span>.

</li>
</ul>

<div class="paragraph"> </div>

To make the mechanism as flexible as possible, the <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="iris.algebra.cofe_solver.html#solver.A"><span class="id" title="abbreviation">A</span></a></span> in <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> can
be of any countable type <span class="inlinecode"><a class="idref" href="iris.algebra.cofe_solver.html#solver.A"><span class="id" title="abbreviation">A</span></a></span>. This means that you can associate e.g. single
ghost names, but also tuples of ghost names, etc.

<div class="paragraph"> </div>

To further increase flexibility, the <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#x"><span class="id" title="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.frame_instances.html#l"><span class="id" title="variable">l</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.class_instances_sbi.html#E"><span class="id" title="variable">E</span></a></span>
connectives are annotated with a namespace <span class="inlinecode"><a class="idref" href="iris.heap_lang.lib.spin_lock.html#proof.N"><span class="id" title="variable">N</span></a></span> and mask <span class="inlinecode"><a class="idref" href="iris.proofmode.class_instances_sbi.html#E"><span class="id" title="variable">E</span></a></span>. That way, one can
assign a map of meta information to a location. This is particularly useful when
building abstractions, then one can gradually assign more ghost information to a
location instead of having to do all of this at once. We use namespaces so that
these can be matched up with the invariant namespaces. 
<div class="paragraph"> </div>

 To implement this mechanism, we use three resource algebras:

<div class="paragraph"> </div>

<ul class="doclist">
<li> An authoritative RA over <span class="inlinecode"><a class="idref" href="iris.algebra.big_op.html#big_op.gmap"><span class="id" title="section">gmap</span></a></span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.algebra.frac.html#fracR"><span class="id" title="definition">fracR</span></a></span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#V"><span class="id" title="variable">V</span></a>)</span>, which keeps track of the
  values of locations.

</li>
<li> An authoritative RA over <span class="inlinecode"><a class="idref" href="iris.algebra.big_op.html#big_op.gmap"><span class="id" title="section">gmap</span></a></span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.algebra.agree.html#agree"><span class="id" title="section">agree</span></a></span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>)</span>, which keeps track of the meta
  information of locations. This RA introduces an indirection, it keeps track of
  a ghost name for each location.

</li>
<li> The ghost names in the aforementioned authoritative RA refer to namespace maps
  <span class="inlinecode"><a class="idref" href="iris.algebra.namespace_map.html#namespace_map"><span class="id" title="record">namespace_map</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.algebra.agree.html#agree"><span class="id" title="section">agree</span></a></span> <span class="inlinecode"><a class="idref" href="iris.algebra.cmra.html#positive"><span class="id" title="section">positive</span></a>)</span>, which store the actual meta information.
  This indirection is needed because we cannot perform frame preserving updates
  in an authoritative fragment without owning the full authoritative element
  (in other words, without the indirection <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_set"><span class="id" title="lemma">meta_set</span></a></span> would need <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a></span>
  as a premise).

</li>
</ul>

<div class="paragraph"> </div>

Note that in principle we could have used one big authoritative RA to keep track
of both values and ghost names for meta information, for example:
<span class="inlinecode"><a class="idref" href="iris.algebra.big_op.html#big_op.gmap"><span class="id" title="section">gmap</span></a></span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.algebra.updates.html#option"><span class="id" title="section">option</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.algebra.frac.html#fracR"><span class="id" title="definition">fracR</span></a></span> <span class="inlinecode">*</span> <span class="inlinecode"><a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.monpred.html#V"><span class="id" title="variable">V</span></a>)</span> <span class="inlinecode">∗</span> <span class="inlinecode"><a class="idref" href="iris.algebra.updates.html#option"><span class="id" title="section">option</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.algebra.agree.html#agree"><span class="id" title="section">agree</span></a></span> <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>)</span>. Due to the <span class="inlinecode"><a class="idref" href="iris.algebra.updates.html#option"><span class="id" title="section">option</span></a></span>s,
this RA would be quite inconvenient to deal with. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="gen_heapUR"><span class="id" title="definition">gen_heapUR</span></a> (<span class="id" title="var">L</span> <span class="id" title="var">V</span> : <span class="id" title="keyword">Type</span>) `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} : <a class="idref" href="iris.algebra.cmra.html#ucmraT"><span class="id" title="record">ucmraT</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#gmapUR"><span class="id" title="definition">gmapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="iris.algebra.cmra.html#prodR"><span class="id" title="definition">prodR</span></a> <a class="idref" href="iris.algebra.frac.html#fracR"><span class="id" title="definition">fracR</span></a> (<a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a> (<a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a>))).<br/>
<span class="id" title="keyword">Definition</span> <a name="gen_metaUR"><span class="id" title="definition">gen_metaUR</span></a> (<span class="id" title="var">L</span> : <span class="id" title="keyword">Type</span>) `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} : <a class="idref" href="iris.algebra.cmra.html#ucmraT"><span class="id" title="record">ucmraT</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#gmapUR"><span class="id" title="definition">gmapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> (<a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#gnameO"><span class="id" title="definition">gnameO</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> {<span class="id" title="var">L</span> <span class="id" title="var">V</span>} `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapUR"><span class="id" title="definition">gen_heapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">Qp</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">L</span>} : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_metaUR"><span class="id" title="definition">gen_metaUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a>.<br/>

<br/>
</div>

<div class="doc">
The CMRA we need. 
</div>
<div class="code">
<span class="id" title="keyword">Class</span> <a name="gen_heapG"><span class="id" title="record">gen_heapG</span></a> (<span class="id" title="var">L</span> <span class="id" title="var">V</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">Σ</span> : <a class="idref" href="iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="definition">gFunctors</span></a>) `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} := <a name="GenHeapG"><span class="id" title="constructor">GenHeapG</span></a> {<br/>
&nbsp;&nbsp;<a name="gen_heap_inG"><span class="id" title="projection">gen_heap_inG</span></a> :&gt; <a class="idref" href="iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapUR"><span class="id" title="definition">gen_heapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a>));<br/>
&nbsp;&nbsp;<a name="gen_meta_inG"><span class="id" title="projection">gen_meta_inG</span></a> :&gt; <a class="idref" href="iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_metaUR"><span class="id" title="definition">gen_metaUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>));<br/>
&nbsp;&nbsp;<a name="gen_meta_data_inG"><span class="id" title="projection">gen_meta_data_inG</span></a> :&gt; <a class="idref" href="iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="iris.algebra.namespace_map.html#namespace_mapR"><span class="id" title="definition">namespace_mapR</span></a> (<a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a> <a class="idref" href="iris.algebra.ofe.html#positiveO"><span class="id" title="definition">positiveO</span></a>));<br/>
&nbsp;&nbsp;<a name="gen_heap_name"><span class="id" title="projection">gen_heap_name</span></a> : <a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>;<br/>
&nbsp;&nbsp;<a name="gen_meta_name"><span class="id" title="projection">gen_meta_name</span></a> : <a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a><br/>
}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_name"><span class="id" title="method">gen_heap_name</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> : <span class="id" title="tactic">assert</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_meta_name"><span class="id" title="method">gen_meta_name</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> : <span class="id" title="tactic">assert</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="gen_heapPreG"><span class="id" title="record">gen_heapPreG</span></a> (<span class="id" title="var">L</span> <span class="id" title="var">V</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="var">Σ</span> : <a class="idref" href="iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="definition">gFunctors</span></a>) `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} := {<br/>
&nbsp;&nbsp;<a name="gen_heap_preG_inG"><span class="id" title="projection">gen_heap_preG_inG</span></a> :&gt; <a class="idref" href="iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapUR"><span class="id" title="definition">gen_heapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a>));<br/>
&nbsp;&nbsp;<a name="gen_meta_preG_inG"><span class="id" title="projection">gen_meta_preG_inG</span></a> :&gt; <a class="idref" href="iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_metaUR"><span class="id" title="definition">gen_metaUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>));<br/>
&nbsp;&nbsp;<a name="gen_meta_data_preG_inG"><span class="id" title="projection">gen_meta_data_preG_inG</span></a> :&gt; <a class="idref" href="iris.base_logic.lib.own.html#inG"><span class="id" title="class">inG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="iris.algebra.namespace_map.html#namespace_mapR"><span class="id" title="definition">namespace_mapR</span></a> (<a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a> <a class="idref" href="iris.algebra.ofe.html#positiveO"><span class="id" title="definition">positiveO</span></a>));<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> (<span class="id" title="var">L</span> <span class="id" title="var">V</span> : <span class="id" title="keyword">Type</span>) `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} : <a class="idref" href="iris.base_logic.lib.iprop.html#gFunctors"><span class="id" title="definition">gFunctors</span></a> := <a class="idref" href="iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">#[</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.iprop.html#GFunctor"><span class="id" title="constructor">GFunctor</span></a> (<a class="idref" href="iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapUR"><span class="id" title="definition">gen_heapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a>))<a class="idref" href="iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.iprop.html#GFunctor"><span class="id" title="constructor">GFunctor</span></a> (<a class="idref" href="iris.algebra.auth.html#authR"><span class="id" title="definition">authR</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_metaUR"><span class="id" title="definition">gen_metaUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>))<a class="idref" href="iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.iprop.html#GFunctor"><span class="id" title="constructor">GFunctor</span></a> (<a class="idref" href="iris.algebra.namespace_map.html#namespace_mapR"><span class="id" title="definition">namespace_mapR</span></a> (<a class="idref" href="iris.algebra.agree.html#agreeR"><span class="id" title="definition">agreeR</span></a> <a class="idref" href="iris.algebra.ofe.html#positiveO"><span class="id" title="definition">positiveO</span></a>))<br/>
<a class="idref" href="iris.base_logic.lib.iprop.html#8ed86267cb76025deed5ef60f2c33991"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="subG_gen_heapPreG"><span class="id" title="instance">subG_gen_heapPreG</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">L</span> <span class="id" title="var">V</span>} `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.iprop.html#subG"><span class="id" title="class">subG</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#c31aa0e97544fe574310f89b0832e58f"><span class="id" title="definition">gen_heapΣ</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a>) <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapPreG"><span class="id" title="class">gen_heapPreG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_inG</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="definitions"><span class="id" title="section">definitions</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">L</span>, <span class="id" title="var">hG</span> : !<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapG"><span class="id" title="class">gen_heapG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="var">V</span> <span class="id" title="var">Σ</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> (σ : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.V"><span class="id" title="variable">V</span></a>) : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#eed89adbadd537e6f335b055deb22ab5"><span class="id" title="variable">Σ</span></a> := (<a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">m</span><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;<span class="inlinecode">⊆</span>&nbsp;is&nbsp;used&nbsp;to&nbsp;avoid&nbsp;assigning&nbsp;ghost&nbsp;information&nbsp;to&nbsp;the&nbsp;locations&nbsp;in<br/>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;initial&nbsp;heap&nbsp;(see&nbsp;<span class="inlinecode"><span class="id" title="var">gen_heap_init</span></span>).&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">_</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.L"><span class="id" title="variable">L</span></a>) <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_name"><span class="id" title="method">gen_heap_name</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.hG"><span class="id" title="variable">hG</span></a>) (<a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">●</span></a> <a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">)</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_meta_name"><span class="id" title="method">gen_meta_name</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.hG"><span class="id" title="variable">hG</span></a>) (<a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">●</span></a> <a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">)</span></a>))%<span class="id" title="var">I</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mapsto_def"><span class="id" title="definition">mapsto_def</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.L"><span class="id" title="variable">L</span></a>) (<span class="id" title="var">q</span> : <a class="idref" href="../html-stdpp/stdpp.numbers.html#Qp"><span class="id" title="record">Qp</span></a>) (<span class="id" title="var">v</span>: <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.V"><span class="id" title="variable">V</span></a>) : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#eed89adbadd537e6f335b055deb22ab5"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_name"><span class="id" title="method">gen_heap_name</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.hG"><span class="id" title="variable">hG</span></a>) (<a class="idref" href="iris.algebra.auth.html#a90cdbbdd48c6371236cd642d46fd3ac"><span class="id" title="notation">◯</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.V"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mapsto_aux"><span class="id" title="definition">mapsto_aux</span></a> : <a class="idref" href="../html-stdpp/stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mapsto"><span class="id" title="definition">mapsto</span></a> := <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_aux"><span class="id" title="definition">mapsto_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> : @<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto"><span class="id" title="definition">mapsto</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a> := <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_aux"><span class="id" title="definition">mapsto_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_token_def"><span class="id" title="definition">meta_token_def</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.L"><span class="id" title="variable">L</span></a>) (<span class="id" title="var">E</span> : <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a>) : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#eed89adbadd537e6f335b055deb22ab5"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">γm</span><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_meta_name"><span class="id" title="method">gen_meta_name</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.hG"><span class="id" title="variable">hG</span></a>) (<a class="idref" href="iris.algebra.auth.html#a90cdbbdd48c6371236cd642d46fd3ac"><span class="id" title="notation">◯</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#8ceb489a5dd08741910f5945c9cd7cfe"><span class="id" title="variable">γm</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#8ceb489a5dd08741910f5945c9cd7cfe"><span class="id" title="variable">γm</span></a> (<a class="idref" href="iris.algebra.namespace_map.html#namespace_map_token"><span class="id" title="definition">namespace_map_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E"><span class="id" title="variable">E</span></a>))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_token_aux"><span class="id" title="definition">meta_token_aux</span></a> : <a class="idref" href="../html-stdpp/stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_token"><span class="id" title="definition">meta_token</span></a> := <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_aux"><span class="id" title="definition">meta_token_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_token_eq"><span class="id" title="definition">meta_token_eq</span></a> : @<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a> := <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_aux"><span class="id" title="definition">meta_token_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_def"><span class="id" title="definition">meta_def</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">A</span>} (<span class="id" title="var">l</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.L"><span class="id" title="variable">L</span></a>) (<span class="id" title="var">N</span> : <a class="idref" href="../html-stdpp/stdpp.namespaces.html#namespace"><span class="id" title="definition">namespace</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#eed89adbadd537e6f335b055deb22ab5"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">γm</span><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_meta_name"><span class="id" title="method">gen_meta_name</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions.hG"><span class="id" title="variable">hG</span></a>) (<a class="idref" href="iris.algebra.auth.html#a90cdbbdd48c6371236cd642d46fd3ac"><span class="id" title="notation">◯</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#8ceb489a5dd08741910f5945c9cd7cfe"><span class="id" title="variable">γm</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.own.html#own"><span class="id" title="definition">own</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#8ceb489a5dd08741910f5945c9cd7cfe"><span class="id" title="variable">γm</span></a> (<a class="idref" href="iris.algebra.namespace_map.html#namespace_map_data"><span class="id" title="definition">namespace_map_data</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#N"><span class="id" title="variable">N</span></a> (<a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> (<a class="idref" href="../html-stdpp/stdpp.countable.html#encode"><span class="id" title="method">encode</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x"><span class="id" title="variable">x</span></a>))))%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_aux"><span class="id" title="definition">meta_aux</span></a> : <a class="idref" href="../html-stdpp/stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_def"><span class="id" title="definition">meta_def</span></a>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta"><span class="id" title="definition">meta</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">dA</span> <span class="id" title="var">cA</span>} := <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_aux"><span class="id" title="definition">meta_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>) <a class="idref" href="iris.base_logic.lib.gen_heap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#dA"><span class="id" title="variable">dA</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cA"><span class="id" title="variable">cA</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="meta_eq"><span class="id" title="definition">meta_eq</span></a> : @<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_def"><span class="id" title="definition">meta_def</span></a> := <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_aux"><span class="id" title="definition">meta_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#definitions"><span class="id" title="section">definitions</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "l ↦{ q } v" := (<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto"><span class="id" title="definition">mapsto</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "l  ↦{ q }  v") : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "l ↦ v" := (<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto"><span class="id" title="definition">mapsto</span></a> <span class="id" title="var">l</span> 1 <span class="id" title="var">v</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20) : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "l ↦{ q } -" := (<a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><span class="id" title="var">q</span><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">I</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="var">q</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="var">format</span> "l  ↦{ q }  -") : <span class="id" title="var">bi_scope</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "l ↦ -" := (<span class="id" title="var">l</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">↦{</span></a>1<a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">-</span></a>)%<span class="id" title="var">I</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20) : <span class="id" title="var">bi_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="to_gen_heap"><span class="id" title="section">to_gen_heap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">L</span> <span class="id" title="var">V</span> : <span class="id" title="keyword">Type</span>) `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> σ : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap.L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap.V"><span class="id" title="variable">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap.L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>.<br/>

<br/>
</div>

<div class="doc">
Conversion to heaps and back 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="to_gen_heap_valid"><span class="id" title="lemma">to_gen_heap_valid</span></a> σ : <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (σ <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">l</span>). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_to_gen_heap_None"><span class="id" title="lemma">lookup_to_gen_heap_None</span></a> σ <span class="id" title="var">l</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>=&gt; -&gt;. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="gen_heap_singleton_included"><span class="id" title="lemma">gen_heap_singleton_included</span></a> σ <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#singleton_included_l"><span class="id" title="lemma">singleton_included_l</span></a>=&gt; -[[<span class="id" title="var">q'</span> <span class="id" title="var">av</span>] []].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> <a class="idref" href="../html-stdpp/stdpp.option.html#fmap_Some_equiv"><span class="id" title="lemma">fmap_Some_equiv</span></a> =&gt; -[<span class="id" title="var">v'</span> [<span class="id" title="var">Hl</span> [/= -&gt; -&gt;]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="iris.algebra.cmra.html#Some_pair_included_total_2"><span class="id" title="lemma">Some_pair_included_total_2</span></a> [<span class="id" title="var">_</span>] /<a class="idref" href="iris.algebra.agree.html#to_agree_included"><span class="id" title="lemma">to_agree_included</span></a> /<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv_iff"><span class="id" title="lemma">leibniz_equiv_iff</span></a> -&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="to_gen_heap_insert"><span class="id" title="lemma">to_gen_heap_insert</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">Qp</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a><a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap.V"><span class="id" title="variable">V</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#fmap_insert"><span class="id" title="lemma">fmap_insert</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="to_gen_meta_valid"><span class="id" title="lemma">to_gen_meta_valid</span></a> <span class="id" title="var">m</span> : <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> (<span class="id" title="var">m</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">l</span>). <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_to_gen_meta_None"><span class="id" title="lemma">lookup_to_gen_meta_None</span></a> <span class="id" title="var">m</span> <span class="id" title="var">l</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>=&gt; -&gt;. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="to_gen_meta_insert"><span class="id" title="lemma">to_gen_meta_insert</span></a> <span class="id" title="var">l</span> <span class="id" title="var">m</span> <span class="id" title="var">γm</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#8ceb489a5dd08741910f5945c9cd7cfe"><span class="id" title="variable">γm</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#8ceb489a5dd08741910f5945c9cd7cfe"><span class="id" title="variable">γm</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#m"><span class="id" title="variable">m</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#fmap_insert"><span class="id" title="lemma">fmap_insert</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="section">to_gen_heap</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gen_heap_init"><span class="id" title="lemma">gen_heap_init</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">L</span>, !<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapPreG"><span class="id" title="class">gen_heapPreG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="var">V</span> <span class="id" title="var">Σ</span>} σ :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">_</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapG"><span class="id" title="class">gen_heapG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="iris.base_logic.lib.own.html#own_alloc"><span class="id" title="lemma">own_alloc</span></a> (<a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">●</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> σ)) <span class="id" title="keyword">as</span> (<span class="id" title="var">γh</span>) "Hh".<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.auth.html#auth_auth_valid"><span class="id" title="lemma">auth_auth_valid</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap_valid"><span class="id" title="lemma">to_gen_heap_valid</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="iris.base_logic.lib.own.html#own_alloc"><span class="id" title="lemma">own_alloc</span></a> (<a class="idref" href="iris.algebra.auth.html#7981e4e059142a780e33f94ac62f7355"><span class="id" title="notation">●</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta"><span class="id" title="definition">to_gen_meta</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">γm</span>) "Hm".<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.auth.html#auth_auth_valid"><span class="id" title="lemma">auth_auth_valid</span></a>. <span class="id" title="tactic">exact</span>: <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta_valid"><span class="id" title="lemma">to_gen_meta_valid</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#GenHeapG"><span class="id" title="constructor">GenHeapG</span></a> <span class="id" title="var">L</span> <span class="id" title="var">V</span> <span class="id" title="var">Σ</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">γh</span> <span class="id" title="var">γm</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iExists</span> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">iFrame</span> "Hh Hm". <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#dom_empty_L"><span class="id" title="lemma">dom_empty_L</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="gen_heap"><span class="id" title="section">gen_heap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">L</span> <span class="id" title="var">V</span>} `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a>, !<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapG"><span class="id" title="class">gen_heapG</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#V"><span class="id" title="variable">V</span></a> <span class="id" title="var">Σ</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#431013a05f84e0873af9a66cba1947ec"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#431013a05f84e0873af9a66cba1947ec"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> σ : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.V"><span class="id" title="variable">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#gname"><span class="id" title="definition">gname</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">h</span> <span class="id" title="var">g</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heapUR"><span class="id" title="definition">gen_heapUR</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.L"><span class="id" title="variable">L</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.V"><span class="id" title="variable">V</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">l</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.L"><span class="id" title="variable">L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
</div>

<div class="doc">
General properties of mapsto 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="mapsto_timeless"><span class="id" title="instance">mapsto_timeless</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="mapsto_fractional"><span class="id" title="instance">mapsto_fractional</span></a> <span class="id" title="var">l</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.bi.lib.fractional.html#Fractional"><span class="id" title="class">Fractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a> -<a class="idref" href="iris.base_logic.lib.own.html#own_op"><span class="id" title="lemma">own_op</span></a> -<a class="idref" href="iris.algebra.auth.html#auth_frag_op"><span class="id" title="lemma">auth_frag_op</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#singleton_op"><span class="id" title="lemma">singleton_op</span></a> -<a class="idref" href="iris.algebra.cmra.html#pair_op"><span class="id" title="lemma">pair_op</span></a> <a class="idref" href="iris.algebra.agree.html#agree_idemp"><span class="id" title="lemma">agree_idemp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="mapsto_as_fractional"><span class="id" title="instance">mapsto_as_fractional</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.lib.fractional.html#AsFractional"><span class="id" title="class">AsFractional</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mapsto_agree"><span class="id" title="lemma">mapsto_agree</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q1"><span class="id" title="variable">q1</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q2"><span class="id" title="variable">q2</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.wand_intro_r"><span class="id" title="lemma">wand_intro_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a> -<a class="idref" href="iris.base_logic.lib.own.html#own_op"><span class="id" title="lemma">own_op</span></a> -<a class="idref" href="iris.algebra.auth.html#auth_frag_op"><span class="id" title="lemma">auth_frag_op</span></a> <a class="idref" href="iris.base_logic.lib.own.html#own_valid"><span class="id" title="lemma">own_valid</span></a> <a class="idref" href="iris.base_logic.bi.html#uPred.discrete_valid"><span class="id" title="lemma">discrete_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f_equiv</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.auth.html#auth_frag_valid"><span class="id" title="lemma">auth_frag_valid</span></a> <a class="idref" href="iris.algebra.gmap.html#singleton_op"><span class="id" title="lemma">singleton_op</span></a> <a class="idref" href="iris.algebra.gmap.html#singleton_valid"><span class="id" title="lemma">singleton_valid</span></a> -<a class="idref" href="iris.algebra.cmra.html#pair_op"><span class="id" title="lemma">pair_op</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">_</span> ?%<a class="idref" href="iris.algebra.agree.html#agree_op_invL'"><span class="id" title="lemma">agree_op_invL'</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mapsto_combine"><span class="id" title="lemma">mapsto_combine</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q1"><span class="id" title="variable">q1</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q2"><span class="id" title="variable">q2</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q1"><span class="id" title="variable">q1</span></a> <a class="idref" href="../html-stdpp/stdpp.numbers.html#b2e70b7e3bf4cfb65246e1f73628ee8d"><span class="id" title="notation">+</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#q2"><span class="id" title="variable">q2</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hl1 Hl2". <span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_agree"><span class="id" title="lemma">mapsto_agree</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hl1 Hl2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iCombine</span> "Hl1 Hl2" <span class="id" title="keyword">as</span> "Hl". <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ex_mapsto_fractional"><span class="id" title="instance">ex_mapsto_fractional</span></a> <span class="id" title="var">l</span> : <a class="idref" href="iris.bi.lib.fractional.html#Fractional"><span class="id" title="class">Fractional</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">-</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>. <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">v</span>) "[H1 H2]". <span class="id" title="var">iSplitL</span> "H1"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> "[H1 H2]". <span class="id" title="var">iDestruct</span> "H1" <span class="id" title="keyword">as</span> (<span class="id" title="var">v1</span>) "H1". <span class="id" title="var">iDestruct</span> "H2" <span class="id" title="keyword">as</span> (<span class="id" title="var">v2</span>) "H2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_agree"><span class="id" title="lemma">mapsto_agree</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H1 H2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %-&gt;. <span class="id" title="var">iExists</span> <span class="id" title="var">v2</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ex_mapsto_as_fractional"><span class="id" title="instance">ex_mapsto_as_fractional</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.lib.fractional.html#AsFractional"><span class="id" title="class">AsFractional</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">-</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3bc001b4cea7e23249add88df8b37745"><span class="id" title="notation">-</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mapsto_valid"><span class="id" title="lemma">mapsto_valid</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a> <a class="idref" href="iris.base_logic.lib.own.html#own_valid"><span class="id" title="lemma">own_valid</span></a> !<a class="idref" href="iris.base_logic.bi.html#uPred.discrete_valid"><span class="id" title="lemma">discrete_valid</span></a> -<a class="idref" href="iris.algebra.auth.html#auth_frag_valid"><span class="id" title="lemma">auth_frag_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_mono"><span class="id" title="lemma">pure_mono</span></a>=&gt; /<a class="idref" href="iris.algebra.gmap.html#singleton_valid"><span class="id" title="lemma">singleton_valid</span></a> [??].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mapsto_valid_2"><span class="id" title="lemma">mapsto_valid_2</span></a> <span class="id" title="var">l</span> <span class="id" title="var">q1</span> <span class="id" title="var">q2</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q1"><span class="id" title="variable">q1</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q2"><span class="id" title="variable">q2</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#q1"><span class="id" title="variable">q1</span></a> <a class="idref" href="../html-stdpp/stdpp.numbers.html#b2e70b7e3bf4cfb65246e1f73628ee8d"><span class="id" title="notation">+</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#q2"><span class="id" title="variable">q2</span></a>)%<span class="id" title="var">Qp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1 H2". <span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_agree"><span class="id" title="lemma">mapsto_agree</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H1 H2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_valid"><span class="id" title="lemma">mapsto_valid</span></a> <span class="id" title="var">l</span> <span class="id" title="var">_</span> <span class="id" title="var">v2</span>). <span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
General properties of <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a></span> and <span class="inlinecode"><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="meta_token_timeless"><span class="id" title="instance">meta_token_timeless</span></a> <span class="id" title="var">l</span> <span class="id" title="var">N</span> : <a class="idref" href="iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#N"><span class="id" title="variable">N</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_eq"><span class="id" title="definition">meta_token_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="meta_timeless"><span class="id" title="instance">meta_timeless</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">l</span> <span class="id" title="var">N</span> (<span class="id" title="var">x</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="iris.bi.derived_connectives.html#Timeless"><span class="id" title="class">Timeless</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#N"><span class="id" title="variable">N</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_eq"><span class="id" title="definition">meta_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_def"><span class="id" title="definition">meta_def</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="meta_persistent"><span class="id" title="instance">meta_persistent</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">l</span> <span class="id" title="var">N</span> (<span class="id" title="var">x</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="iris.bi.derived_connectives.html#Persistent"><span class="id" title="class">Persistent</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#N"><span class="id" title="variable">N</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_eq"><span class="id" title="definition">meta_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_def"><span class="id" title="definition">meta_def</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="meta_token_union_1"><span class="id" title="lemma">meta_token_union_1</span></a> <span class="id" title="var">l</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_eq"><span class="id" title="definition">meta_token_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γm1</span>) "[#Hγm Hm]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.namespace_map.html#namespace_map_token_union"><span class="id" title="lemma">namespace_map_token_union</span></a> //. <span class="id" title="var">iDestruct</span> "Hm" <span class="id" title="keyword">as</span> "[Hm1 Hm2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iSplitL</span> "Hm1"; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="meta_token_union_2"><span class="id" title="lemma">meta_token_union_2</span></a> <span class="id" title="var">l</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_eq"><span class="id" title="definition">meta_token_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γm1</span>) "[#Hγm1 Hm1]". <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γm2</span>) "[#Hγm2 Hm2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <span class="id" title="var">γm1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">γm2</span> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>%<span class="id" title="var">I</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hγm1 Hγm2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hγ</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hγ</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.auth.html#auth_frag_op"><span class="id" title="lemma">auth_frag_op</span></a> <a class="idref" href="iris.algebra.gmap.html#singleton_op"><span class="id" title="lemma">singleton_op</span></a>=&gt; /<a class="idref" href="iris.algebra.auth.html#auth_frag_valid"><span class="id" title="lemma">auth_frag_valid</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#singleton_valid"><span class="id" title="lemma">singleton_valid</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.agree.html#agree_op_invL'"><span class="id" title="lemma">agree_op_invL'</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hm1 Hm2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %?%<a class="idref" href="iris.algebra.namespace_map.html#namespace_map_token_valid_op"><span class="id" title="lemma">namespace_map_token_valid_op</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> <span class="id" title="var">γm2</span>. <span class="id" title="var">iFrame</span> "Hγm2". <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.namespace_map.html#namespace_map_token_union"><span class="id" title="lemma">namespace_map_token_union</span></a> //. <span class="id" title="tactic">by</span> <span class="id" title="var">iSplitL</span> "Hm1".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="meta_token_union"><span class="id" title="lemma">meta_token_union</span></a> <span class="id" title="var">l</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#3866d0c63613c88d80a7220a09df936b"><span class="id" title="notation">##</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_union_1"><span class="id" title="lemma">meta_token_union_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "[Hm1 Hm2]". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_union_2"><span class="id" title="lemma">meta_token_union_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hm1 Hm2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="meta_token_difference"><span class="id" title="lemma">meta_token_difference</span></a> <span class="id" title="var">l</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6fa969a5703669b9015488eb9949c7f4"><span class="id" title="notation">∖</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E1"><span class="id" title="variable">E1</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> {1}(<a class="idref" href="../html-stdpp/stdpp.sets.html#union_difference_L"><span class="id" title="lemma">union_difference_L</span></a> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_union"><span class="id" title="lemma">meta_token_union</span></a>; <span class="id" title="var">last</span> <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="meta_agree"><span class="id" title="lemma">meta_agree</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">l</span> <span class="id" title="var">i</span> (<span class="id" title="var">x1</span> <span class="id" title="var">x2</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x2"><span class="id" title="variable">x2</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x2"><span class="id" title="variable">x2</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_eq"><span class="id" title="definition">meta_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_def"><span class="id" title="definition">meta_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γm1</span>) "[Hγm1 Hm1]"; <span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γm2</span>) "[Hγm2 Hm2]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a> <span class="id" title="var">γm1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">γm2</span> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>%<span class="id" title="var">I</span> <span class="id" title="keyword">as</span> %-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hγm1 Hγm2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hγ</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hγ</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.auth.html#auth_frag_op"><span class="id" title="lemma">auth_frag_op</span></a> <a class="idref" href="iris.algebra.gmap.html#singleton_op"><span class="id" title="lemma">singleton_op</span></a>=&gt; /<a class="idref" href="iris.algebra.auth.html#auth_frag_valid"><span class="id" title="lemma">auth_frag_valid</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#singleton_valid"><span class="id" title="lemma">singleton_valid</span></a>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.agree.html#agree_op_invL'"><span class="id" title="lemma">agree_op_invL'</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hm1 Hm2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> %<span class="id" title="var">Hγ</span>; <span class="id" title="var">iPureIntro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hγ</span>. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.namespace_map.html#namespace_map_data_op"><span class="id" title="lemma">namespace_map_data_op</span></a> <a class="idref" href="iris.algebra.namespace_map.html#namespace_map_data_valid"><span class="id" title="lemma">namespace_map_data_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="iris.algebra.agree.html#agree_op_invL'"><span class="id" title="lemma">agree_op_invL'</span></a>. <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="meta_set"><span class="id" title="lemma">meta_set</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">A</span>} <span class="id" title="var">E</span> <span class="id" title="var">l</span> (<span class="id" title="var">x</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">N</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#dd9f1db366d5503b67fa5e258849f459"><span class="id" title="notation">↑</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#N"><span class="id" title="variable">N</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.updates.html#978156496a632d1434132892b1e662aa"><span class="id" title="notation">==∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta"><span class="id" title="definition">meta</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#N"><span class="id" title="variable">N</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_eq"><span class="id" title="definition">meta_token_eq</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_eq"><span class="id" title="definition">meta_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_def"><span class="id" title="definition">meta_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">γm</span>) "[Hγm Hm]". <span class="id" title="var">iExists</span> <span class="id" title="var">γm</span>. <span class="id" title="var">iFrame</span> "Hγm".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_update"><span class="id" title="lemma">own_update</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hm"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.namespace_map.html#namespace_map_alloc_update"><span class="id" title="lemma">namespace_map_alloc_update</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Update lemmas 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="gen_heap_alloc"><span class="id" title="lemma">gen_heap_alloc</span></a> σ <span class="id" title="var">l</span> <span class="id" title="var">v</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.bi.updates.html#978156496a632d1434132892b1e662aa"><span class="id" title="notation">==∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">H</span>σ<span class="id" title="var">l</span>). <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_eq"><span class="id" title="definition">meta_token_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token_def"><span class="id" title="definition">meta_token_def</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> <span class="id" title="var">H</span>σ<span class="id" title="var">m</span>) "[Hσ Hm]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_update"><span class="id" title="lemma">own_update</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hσ Hl]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.auth.html#auth_update_alloc"><span class="id" title="lemma">auth_update_alloc</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.algebra.gmap.html#alloc_singleton_local_update"><span class="id" title="lemma">alloc_singleton_local_update</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">Qp</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> (<span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a><a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#lookup_to_gen_heap_None"><span class="id" title="lemma">lookup_to_gen_heap_None</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<a class="idref" href="iris.base_logic.lib.own.html#own_alloc"><span class="id" title="lemma">own_alloc</span></a> (<a class="idref" href="iris.algebra.namespace_map.html#namespace_map_token"><span class="id" title="definition">namespace_map_token</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">γm</span>) "Hγm".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.namespace_map.html#namespace_map_token_valid"><span class="id" title="lemma">namespace_map_token_valid</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_update"><span class="id" title="lemma">own_update</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hm"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hm Hlm]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.auth.html#auth_update_alloc"><span class="id" title="lemma">auth_update_alloc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="iris.algebra.gmap.html#alloc_singleton_local_update"><span class="id" title="lemma">alloc_singleton_local_update</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> (<a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> <span class="id" title="var">γm</span>))=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#lookup_to_gen_meta_None"><span class="id" title="lemma">lookup_to_gen_meta_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">H</span>σ<span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> -!(<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#not_elem_of_dom"><span class="id" title="lemma">not_elem_of_dom</span></a> (<span class="id" title="var">D</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.L"><span class="id" title="variable">L</span></a>)). <span class="id" title="var">set_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hl". <span class="id" title="var">iSplitL</span> "Hσ Hm"; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iExists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">l</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">γm</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap_insert"><span class="id" title="lemma">to_gen_heap_insert</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_meta_insert"><span class="id" title="lemma">to_gen_meta_insert</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#dom_insert_L"><span class="id" title="lemma">dom_insert_L</span></a>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="gen_heap_alloc_gen"><span class="id" title="lemma">gen_heap_alloc_gen</span></a> σ σ' :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#bd641d187ea4ba68b47f8b0c87b46c41"><span class="id" title="notation">##ₘ</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.bi.updates.html#978156496a632d1434132892b1e662aa"><span class="id" title="notation">==∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> (<a class="idref" href="iris.base_logic.lib.gen_heap.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <span class="id" title="var">l</span> <a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a> <span class="id" title="var">v</span> <a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">[∗</span></a> <a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">map</span></a><a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">]</span></a> <span class="id" title="var">l</span> <a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">↦</span></a> <span class="id" title="var">_</span> <a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a><a class="idref" href="iris.bi.big_op.html#264a02242b2109f2f20d5966cde814b4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#meta_token"><span class="id" title="definition">meta_token</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> σ; <span class="id" title="tactic">induction</span> σ' <span class="id" title="keyword">as</span> [| <span class="id" title="var">l</span> <span class="id" title="var">v</span> σ' <span class="id" title="var">Hl</span> <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>; <span class="id" title="var">iIntros</span> (σ <span class="id" title="var">Hdisj</span>) "Hσ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">IH</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hσ'σ Hσ']"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_disjoint_insert_l"><span class="id" title="lemma">map_disjoint_insert_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decompose_map_disjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.big_op.html#big_opM_insert"><span class="id" title="lemma">big_opM_insert</span></a> // -<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#insert_union_l"><span class="id" title="lemma">insert_union_l</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_alloc"><span class="id" title="lemma">gen_heap_alloc</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ'σ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "($ &amp; $ &amp; $)";<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_union_None"><span class="id" title="lemma">lookup_union_None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="gen_heap_valid"><span class="id" title="lemma">gen_heap_valid</span></a> σ <span class="id" title="var">l</span> <span class="id" title="var">q</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">↦{</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#cef1a1f68ad9f7c43249f50e8ee3ceae"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> <span class="id" title="var">H</span>σ<span class="id" title="var">m</span>) "[Hσ _]". <span class="id" title="var">iIntros</span> "Hl".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ Hl"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> %[<span class="id" title="var">Hl</span>%<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_singleton_included"><span class="id" title="lemma">gen_heap_singleton_included</span></a> <span class="id" title="var">_</span>]%<a class="idref" href="iris.algebra.auth.html#auth_both_valid"><span class="id" title="lemma">auth_both_valid</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="gen_heap_update"><span class="id" title="lemma">gen_heap_update</span></a> σ <span class="id" title="var">l</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="iris.bi.updates.html#04b855eff9d58bf18fcc1fd1ead61e24"><span class="id" title="notation">==∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.base_logic.lib.gen_heap.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#db9bde1508f348dd1f9d24e9d4ead804"><span class="id" title="notation">↦</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#v2"><span class="id" title="variable">v2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> 1 <span class="id" title="keyword">as</span> (<span class="id" title="var">m</span> <span class="id" title="var">H</span>σ<span class="id" title="var">m</span>) "[Hσ Hm]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hl". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_ctx"><span class="id" title="definition">gen_heap_ctx</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_eq"><span class="id" title="definition">mapsto_eq</span></a> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#mapsto_def"><span class="id" title="definition">mapsto_def</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_valid_2"><span class="id" title="lemma">own_valid_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ Hl"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> %[<span class="id" title="var">Hl</span>%<a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap_singleton_included"><span class="id" title="lemma">gen_heap_singleton_included</span></a> <span class="id" title="var">_</span>]%<a class="idref" href="iris.algebra.auth.html#auth_both_valid"><span class="id" title="lemma">auth_both_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.base_logic.lib.own.html#own_update_2"><span class="id" title="lemma">own_update_2</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ Hl"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[Hσ Hl]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.auth.html#auth_update"><span class="id" title="lemma">auth_update</span></a>, <a class="idref" href="iris.algebra.gmap.html#singleton_local_update"><span class="id" title="lemma">singleton_local_update</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.algebra.local_updates.html#exclusive_local_update"><span class="id" title="lemma">exclusive_local_update</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>1%<span class="id" title="var">Qp</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.agree.html#to_agree"><span class="id" title="definition">to_agree</span></a> (<span class="id" title="var">v2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a><a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <span class="id" title="var">_</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)=&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap"><span class="id" title="definition">to_gen_heap</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> <span class="id" title="var">Hl</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hl". <span class="id" title="var">iExists</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#to_gen_heap_insert"><span class="id" title="lemma">to_gen_heap_insert</span></a>. <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#elem_of_dom_2"><span class="id" title="lemma">elem_of_dom_2</span></a> (<span class="id" title="var">D</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap.L"><span class="id" title="variable">L</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#dom_insert_L"><span class="id" title="lemma">dom_insert_L</span></a>. <span class="id" title="var">set_solver</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.base_logic.lib.gen_heap.html#gen_heap"><span class="id" title="section">gen_heap</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
