<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">iris.program_logic.total_adequacy</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.bi.big_op.html#"><span class="id" title="library">big_op</span></a> <a class="idref" href="iris.bi.lib.fixpoint.html#"><span class="id" title="library">fixpoint</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.algebra.gmap.html#"><span class="id" title="library">gmap</span></a> <a class="idref" href="iris.algebra.auth.html#"><span class="id" title="library">auth</span></a> <a class="idref" href="iris.algebra.agree.html#"><span class="id" title="library">agree</span></a> <a class="idref" href="iris.algebra.gset.html#"><span class="id" title="library">gset</span></a> <a class="idref" href="iris.algebra.coPset.html#"><span class="id" title="library">coPset</span></a> <a class="idref" href="iris.algebra.list.html#"><span class="id" title="library">list</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#"><span class="id" title="library">total_weakestpre</span></a> <a class="idref" href="iris.program_logic.adequacy.html#"><span class="id" title="library">adequacy</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">uPred</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="adequacy"><span class="id" title="section">adequacy</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#2289e4f0692abff008e780da6eb91015"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="twptp_pre"><span class="id" title="definition">twptp_pre</span></a> (<span class="id" title="var">twptp</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#2289e4f0692abff008e780da6eb91015"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#129f143bdb7679a3b17a798e186cddef"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t1</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#2289e4f0692abff008e780da6eb91015"><span class="id" title="variable">Λ</span></a>)) : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#129f143bdb7679a3b17a798e186cddef"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">t2</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> σ2 <span class="id" title="var">n</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.program_logic.language.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.weakestpre.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#1b0775b101386f5dc074447cf6c77aa8"><span class="id" title="variable">κs</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a> <span class="id" title="var">n'</span><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.program_logic.weakestpre.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#1b0775b101386f5dc074447cf6c77aa8"><span class="id" title="variable">κs</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#n'"><span class="id" title="variable">n'</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="variable">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t2"><span class="id" title="variable">t2</span></a>)%<span class="id" title="var">I</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twptp_pre_mono"><span class="id" title="lemma">twptp_pre_mono</span></a> (<span class="id" title="var">twptp1</span> <span class="id" title="var">twptp2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#2289e4f0692abff008e780da6eb91015"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#129f143bdb7679a3b17a798e186cddef"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">&lt;</span></a><a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">pers</span></a><a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">t</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp1"><span class="id" title="variable">twptp1</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp2"><span class="id" title="variable">twptp2</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">t</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp1"><span class="id" title="variable">twptp1</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp2"><span class="id" title="variable">twptp2</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#H"; <span class="id" title="var">iIntros</span> (<span class="id" title="var">t</span>) "Hwp". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">t2</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> σ2 <span class="id" title="var">n1</span>) "Hstep Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hwp" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$] [$]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">n2</span>) "($ &amp; Hσ &amp; ?)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">n2</span>. <span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="twptp_pre_mono'"><span class="id" title="instance">twptp_pre_mono'</span></a> : <a class="idref" href="iris.bi.lib.fixpoint.html#BiMonoPred"><span class="id" title="class">BiMonoPred</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre_mono"><span class="id" title="lemma">twptp_pre_mono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">wp</span> <span class="id" title="var">Hwp</span> <span class="id" title="var">n</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> ?%(<a class="idref" href="iris.algebra.ofe.html#discrete_iff"><span class="id" title="lemma">discrete_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a>; <span class="id" title="var">solve_proper</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="twptp"><span class="id" title="definition">twptp</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#2289e4f0692abff008e780da6eb91015"><span class="id" title="variable">Λ</span></a>)) : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#129f143bdb7679a3b17a798e186cddef"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.lib.fixpoint.html#bi_least_fixpoint"><span class="id" title="definition">bi_least_fixpoint</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twptp_unfold"><span class="id" title="lemma">twptp_unfold</span></a> <span class="id" title="var">t</span> : <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.bi.lib.fixpoint.html#least_fixpoint_unfold"><span class="id" title="lemma">least_fixpoint_unfold</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twptp_ind"><span class="id" title="lemma">twptp_ind</span></a> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">t</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">t</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#IH" (<span class="id" title="var">t</span>) "H".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> <span class="id" title="var">Ψ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> ?? -&gt;%(<a class="idref" href="iris.algebra.ofe.html#discrete_iff"><span class="id" title="lemma">discrete_iff</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)%<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.lib.fixpoint.html#least_fixpoint_strong_ind"><span class="id" title="lemma">least_fixpoint_strong_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Ψ</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">t'</span>) "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="twptp_Permutation"><span class="id" title="instance">twptp_Permutation</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="../html-stdpp/stdpp.list.html#a7358ce06a60f2a977d9a5d43747ed72"><span class="id" title="notation">(≡ₚ)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t1'</span> <span class="id" title="var">Ht</span>) "Ht1". <span class="id" title="var">iRevert</span> (<span class="id" title="var">t1'</span> <span class="id" title="var">Ht</span>); <span class="id" title="var">iRevert</span> (<span class="id" title="var">t1</span>) "Ht1".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_ind"><span class="id" title="lemma">twptp_ind</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">t1</span>) "IH"; <span class="id" title="var">iIntros</span> (<span class="id" title="var">t1'</span> <span class="id" title="var">Ht</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_unfold"><span class="id" title="lemma">twptp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">t2</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> σ2 <span class="id" title="var">n</span> <span class="id" title="var">Hstep</span>) "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#step_Permutation"><span class="id" title="lemma">step_Permutation</span></a> <span class="id" title="var">t1'</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">κ</span> σ1 σ2) <span class="id" title="keyword">as</span> (<span class="id" title="var">t2'</span>&amp;?&amp;?); [<span class="id" title="var">done</span>..|].<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">t2'</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[% //] Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">n2</span>) "($ &amp; Hσ &amp; IH &amp; _)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">n2</span>. <span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twptp_app"><span class="id" title="lemma">twptp_app</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> (<a class="idref" href="iris.program_logic.total_adequacy.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t2"><span class="id" title="variable">t2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H1". <span class="id" title="var">iRevert</span> (<span class="id" title="var">t2</span>). <span class="id" title="var">iRevert</span> (<span class="id" title="var">t1</span>) "H1".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_ind"><span class="id" title="lemma">twptp_ind</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">t1</span>) "IH1". <span class="id" title="var">iIntros</span> (<span class="id" title="var">t2</span>) "H2".<br/>
&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">t1</span>) "IH1"; <span class="id" title="var">iRevert</span> (<span class="id" title="var">t2</span>) "H2".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_ind"><span class="id" title="lemma">twptp_ind</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">t2</span>) "IH2". <span class="id" title="var">iIntros</span> (<span class="id" title="var">t1</span>) "IH1".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_unfold"><span class="id" title="lemma">twptp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">t1''</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> σ2 <span class="id" title="var">n</span> <span class="id" title="var">Hstep</span>) "Hσ1".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> σ1' <span class="id" title="var">e2</span> σ2' <span class="id" title="var">efs'</span> <span class="id" title="var">t1'</span> <span class="id" title="var">t2'</span> [=<span class="id" title="var">Ht</span> ?] ? <span class="id" title="var">Hstep</span>]; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.list.html#app_eq_inv"><span class="id" title="lemma">app_eq_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">t</span>&amp;?&amp;?)|(<span class="id" title="var">t</span>&amp;?&amp;?)]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">e1'</span> ?]; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH2" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%] Hσ1"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">n2</span>) "($ &amp; Hσ &amp; IH2 &amp; _)".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.program_logic.language.html#step_atomic"><span class="id" title="constructor">step_atomic</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">t1</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">n2</span>. <span class="id" title="var">iFrame</span> "Hσ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -{2}(<a class="idref" href="../html-stdpp/stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="../html-stdpp/stdpp.list.html#7770bdd5b9dc991889cccd513e8a2006"><span class="id" title="notation">(++)</span></a> (<span class="id" title="var">e2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>)). <span class="id" title="var">iApply</span> "IH2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="../html-stdpp/stdpp.list.html#7770bdd5b9dc991889cccd513e8a2006"><span class="id" title="notation">(++)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH1" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%] Hσ1"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">n2</span>) "($ &amp; Hσ &amp; IH1 &amp; _)"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iAssert</span> (<a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <span class="id" title="var">t2</span>) <span class="id" title="keyword">with</span> "[IH2]" <span class="id" title="keyword">as</span> "Ht2".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_unfold"><span class="id" title="lemma">twptp_unfold</span></a>. <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre_mono"><span class="id" title="lemma">twptp_pre_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] IH2"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt; * [_ ?] //". }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">n2</span>. <span class="id" title="var">iFrame</span> "Hσ".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t2</span>) !<a class="idref" href="../html-stdpp/stdpp.list.html#cons_middle"><span class="id" title="lemma">cons_middle</span></a> !<a class="idref" href="../html-stdpp/stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH1".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH2" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[%] Hσ1"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">n2</span>) "($ &amp; Hσ &amp; IH2 &amp; _)"; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> <span class="id" title="var">n2</span>. <span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="tactic">rewrite</span> -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc_L"><span class="id" title="lemma">assoc_L</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH2".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_twptp"><span class="id" title="lemma">twp_twptp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Φ</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "He". <span class="id" title="var">remember</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">E</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">HE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">HE</span>). <span class="id" title="var">iRevert</span> (<span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span>) "He". <span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_ind"><span class="id" title="lemma">twp_ind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span>); <span class="id" title="var">iIntros</span> "IH" (-&gt;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_unfold"><span class="id" title="lemma">twptp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">t1'</span> σ1' <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> σ2' <span class="id" title="var">n</span> <span class="id" title="var">Hstep</span>) "Hσ1".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">e1</span> σ1 <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> [|? <span class="id" title="var">t1</span>] <span class="id" title="var">t2</span> ?? <span class="id" title="var">Hstep</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">try</span> <span class="id" title="var">discriminate_list</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He1</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.language.html#val_stuck"><span class="id" title="lemma">val_stuck</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ1"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[_ IH]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[% //]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "($ &amp; Hσ &amp; [IH _] &amp; IHfork)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iExists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">efs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <span class="id" title="var">n</span>). <span class="id" title="var">iFrame</span> "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#twptp_app"><span class="id" title="lemma">twptp_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(IH [//])"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="var">iInduction</span> <span class="id" title="var">efs</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">e</span> <span class="id" title="var">efs</span>] "IH"; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_unfold"><span class="id" title="lemma">twptp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">t2</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> σ2 <span class="id" title="var">n1</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="var">discriminate_list</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iDestruct</span> "IHfork" <span class="id" title="keyword">as</span> "[[IH' _] IHfork]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#twptp_app"><span class="id" title="lemma">twptp_app</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "(IH' [//])"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twptp_total"><span class="id" title="lemma">twptp_total</span></a> <span class="id" title="var">n</span> σ <span class="id" title="var">t</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.program_logic.weakestpre.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp"><span class="id" title="definition">twptp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="../html-stdpp/stdpp.relations.html#sn"><span class="id" title="abbreviation">sn</span></a> <a class="idref" href="iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "Hσ Ht". <span class="id" title="var">iRevert</span> (σ <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iRevert</span> (<span class="id" title="var">t</span>) "Ht".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_adequacy.html#twptp_ind"><span class="id" title="lemma">twptp_ind</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">t</span>) "IH"; <span class="id" title="var">iIntros</span> (σ <span class="id" title="var">n</span>) "Hσ".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> (<a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_mono"><span class="id" title="lemma">pure_mono</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Wf.html#Acc_intro"><span class="id" title="constructor">Acc_intro</span></a> <span class="id" title="var">_</span>)). <span class="id" title="var">iIntros</span> ([<span class="id" title="var">t'</span> σ'] [<span class="id" title="var">κ</span> <span class="id" title="var">Hstep</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_pre"><span class="id" title="definition">twptp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[% //] Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">n'</span> -&gt;) "[Hσ [H _]]".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.program_logic.total_adequacy.html#adequacy"><span class="id" title="section">adequacy</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="twp_total"><span class="id" title="lemma">twp_total</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Λ</span> `{!<a class="idref" href="iris.base_logic.lib.wsat.html#invG.invPreG"><span class="id" title="class">invPreG</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>} <span class="id" title="var">s</span> <span class="id" title="var">e</span> σ <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">`{</span></a><span class="id" title="var">Hinv</span> : !<a class="idref" href="iris.base_logic.lib.wsat.html#invG.invG"><span class="id" title="class">invG</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">},</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">∃</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">(</span></a><span class="id" title="var">stateI</span> : <a class="idref" href="iris.program_logic.language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.language.html#observation"><span class="id" title="projection">observation</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">fork_post</span> : <a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="iris.bi.interface.html#6a949150dff4dc18cd2632b730bdfc23"><span class="id" title="notation">),</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">_</span> : <a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="iris.program_logic.weakestpre.html#IrisG"><span class="id" title="constructor">IrisG</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="iris.program_logic.total_adequacy.html#Hinv"><span class="id" title="variable">Hinv</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#stateI"><span class="id" title="variable">stateI</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#fork_post"><span class="id" title="variable">fork_post</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.total_adequacy.html#stateI"><span class="id" title="variable">stateI</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> 0 <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.relations.html#sn"><span class="id" title="abbreviation">sn</span></a> <a class="idref" href="iris.program_logic.language.html#erased_step"><span class="id" title="definition">erased_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="iris.program_logic.total_adequacy.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_adequacy.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="comment">(*&nbsp;i.e.&nbsp;(<span class="inlinecode"><span class="id" title="var">e</span></span>,&nbsp;σ)&nbsp;is&nbsp;strongly&nbsp;normalizing&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hwp</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.base_logic.derived.html#uPred.soundness"><span class="id" title="lemma">soundness</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iResUR"><span class="id" title="definition">iResUR</span></a> <span class="id" title="var">Σ</span>) <span class="id" title="var">_</span>  1); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="iris.base_logic.lib.fancy_updates.html#fupd_plain_soundness"><span class="id" title="lemma">fupd_plain_soundness</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <span class="id" title="var">_</span>)=&gt; <span class="id" title="var">Hinv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> (<span class="id" title="var">Hwp</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">stateI</span> <span class="id" title="var">fork_post</span>) "[Hσ H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>@<a class="idref" href="iris.program_logic.total_adequacy.html#twptp_total"><span class="id" title="lemma">twptp_total</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="iris.program_logic.weakestpre.html#IrisG"><span class="id" title="constructor">IrisG</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">stateI</span> <span class="id" title="var">fork_post</span>) <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> (@<a class="idref" href="iris.program_logic.total_adequacy.html#twp_twptp"><span class="id" title="lemma">twp_twptp</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="iris.program_logic.weakestpre.html#IrisG"><span class="id" title="constructor">IrisG</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hinv</span> <span class="id" title="var">stateI</span> <span class="id" title="var">fork_post</span>)).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
