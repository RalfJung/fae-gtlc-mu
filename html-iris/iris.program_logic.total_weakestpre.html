<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">iris.program_logic.total_weakestpre</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.bi.lib.fixpoint.html#"><span class="id" title="library">fixpoint</span></a> <a class="idref" href="iris.bi.big_op.html#"><span class="id" title="library">big_op</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.proofmode.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.program_logic.weakestpre.html#"><span class="id" title="library">weakestpre</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">uPred</span>.<br/>

<br/>
</div>

<div class="doc">
The definition of total weakest preconditions is very similar to the
definition of normal (i.e. partial) weakest precondition, with the exception
that there is no later modality. Hence, instead of taking a Banach's fixpoint,
we take a least fixpoint. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="twp_pre"><span class="id" title="definition">twp_pre</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} (<span class="id" title="var">s</span> : <a class="idref" href="iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wp</span> : <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">Φ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e1"><span class="id" title="variable">e1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.weakestpre.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#1b0775b101386f5dc074447cf6c77aa8"><span class="id" title="variable">κs</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><span class="id" title="keyword">if</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="iris.bi.weakestpre.html#NotStuck"><span class="id" title="constructor">NotStuck</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs"><span class="id" title="definition">reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="../html-stdpp/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.program_logic.language.html#prim_step"><span class="id" title="projection">prim_step</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#efs"><span class="id" title="variable">efs</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">={</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#110137cd1237291d2aaa53ff6cacba47"><span class="id" title="notation">}=∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.weakestpre.html#state_interp"><span class="id" title="method">state_interp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#1b0775b101386f5dc074447cf6c77aa8"><span class="id" title="variable">κs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.total_weakestpre.html#wp"><span class="id" title="variable">wp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">[∗</span></a> <a class="idref" href="iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">list</span></a><a class="idref" href="iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">]</span></a> <span class="id" title="var">ef</span> <a class="idref" href="iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#efs"><span class="id" title="variable">efs</span></a><a class="idref" href="iris.bi.big_op.html#88a237193263423c6f71923f692f12af"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#wp"><span class="id" title="variable">wp</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#6c0a583aa94fbbce6fcf0f655cf1cbb7"><span class="id" title="notation">⊤</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#ef"><span class="id" title="variable">ef</span></a> <a class="idref" href="iris.program_logic.weakestpre.html#fork_post"><span class="id" title="method">fork_post</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>%<span class="id" title="var">I</span>.<br/>

<br/>
</div>

<div class="doc">
This is some uninteresting bookkeeping to prove that <span class="inlinecode"><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre_mono"><span class="id" title="lemma">twp_pre_mono</span></a></span> is
monotone. The actual least fixpoint <span class="inlinecode"><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_def"><span class="id" title="definition">twp_def</span></a></span> can be found below. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="twp_pre_mono"><span class="id" title="lemma">twp_pre_mono</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">wp1</span> <span class="id" title="var">wp2</span> : <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#b7d65d242d889c3e37aca6013a51bfad"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#wp1"><span class="id" title="variable">wp1</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#wp2"><span class="id" title="variable">wp2</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a><a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#ccc2ee11d66b7edfaefcea20ebd986b5"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#wp1"><span class="id" title="variable">wp1</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#wp2"><span class="id" title="variable">wp2</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "#H"; <span class="id" title="var">iIntros</span> (<span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">Φ</span>) "Hwp". <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|]; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hwp" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "($ &amp; Hwp)"; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) "Hstep".<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"Hwp" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hstep"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (?) "(Hσ &amp; Hwp &amp; Hfork)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="var">iSplitL</span> "Hwp".<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>@<a class="idref" href="iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hfork"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">e</span> <span class="id" title="var">_</span>) "Hwp".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Uncurry&nbsp;<span class="inlinecode"><span class="id" title="var">twp_pre</span></span>&nbsp;and&nbsp;equip&nbsp;its&nbsp;type&nbsp;with&nbsp;an&nbsp;OFE&nbsp;structure&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="twp_pre'"><span class="id" title="definition">twp_pre'</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} (<span class="id" title="var">s</span> : <a class="idref" href="iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#prodO"><span class="id" title="definition">prodO</span></a> (<a class="idref" href="iris.algebra.ofe.html#prodO"><span class="id" title="definition">prodO</span></a> (<a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a>) (<a class="idref" href="iris.program_logic.language.html#exprO"><span class="id" title="definition">exprO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>)) (<a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">-</span></a><a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">d</span></a><a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iPropO"><span class="id" title="abbreviation">iPropO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iPropO"><span class="id" title="abbreviation">iPropO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#prodO"><span class="id" title="definition">prodO</span></a> (<a class="idref" href="iris.algebra.ofe.html#prodO"><span class="id" title="definition">prodO</span></a> (<a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a>) (<a class="idref" href="iris.program_logic.language.html#exprO"><span class="id" title="definition">exprO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>)) (<a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">-</span></a><a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">d</span></a><a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iPropO"><span class="id" title="abbreviation">iPropO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iPropO"><span class="id" title="abbreviation">iPropO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#curry3"><span class="id" title="definition">curry3</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e19728dcbe978af1a3e38759f2e5a8cc"><span class="id" title="notation">∘</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#uncurry3"><span class="id" title="definition">uncurry3</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="twp_pre_mono'"><span class="id" title="instance">twp_pre_mono'</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} <span class="id" title="var">s</span> : <a class="idref" href="iris.bi.lib.fixpoint.html#BiMonoPred"><span class="id" title="class">BiMonoPred</span></a> (<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre'"><span class="id" title="definition">twp_pre'</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iIntros</span> (<span class="id" title="var">wp1</span> <span class="id" title="var">wp2</span>) "#H"; <span class="id" title="var">iIntros</span> ([[<span class="id" title="var">E</span> <span class="id" title="var">e1</span>] <span class="id" title="var">Φ</span>]); <span class="id" title="var">iRevert</span> (<span class="id" title="var">E</span> <span class="id" title="var">e1</span> <span class="id" title="var">Φ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre_mono"><span class="id" title="lemma">twp_pre_mono</span></a>. <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span>). <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">$!</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">E</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Φ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="iris.proofmode.ltac_tactics.html#bc9fd2481486dc1ddc28ccbc3ddae226"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">wp</span> <span class="id" title="var">Hwp</span> <span class="id" title="var">n</span> [[<span class="id" title="var">E1</span> <span class="id" title="var">e1</span>] <span class="id" title="var">Φ1</span>] [[<span class="id" title="var">E2</span> <span class="id" title="var">e2</span>] <span class="id" title="var">Φ2</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[?%<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a> ?%<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a>] ?]; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="../html-stdpp/stdpp.base.html#uncurry3"><span class="id" title="definition">uncurry3</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="tactic">do</span> 24 (<span class="id" title="var">f_equiv</span> || <span class="id" title="var">done</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#pair_ne"><span class="id" title="instance">pair_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="twp_def"><span class="id" title="definition">twp_def</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} (<span class="id" title="var">s</span> : <a class="idref" href="iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>) (<span class="id" title="var">E</span> : <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a>) (<span class="id" title="var">Φ</span> : <a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> := <a class="idref" href="iris.bi.lib.fixpoint.html#bi_least_fixpoint"><span class="id" title="definition">bi_least_fixpoint</span></a> (<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre'"><span class="id" title="definition">twp_pre'</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="twp_aux"><span class="id" title="definition">twp_aux</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} : <a class="idref" href="../html-stdpp/stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (@<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_def"><span class="id" title="definition">twp_def</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="twp'"><span class="id" title="instance">twp'</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} : <a class="idref" href="iris.bi.weakestpre.html#Twp"><span class="id" title="class">Twp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> (<a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a> := <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_aux"><span class="id" title="definition">twp_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="twp_eq"><span class="id" title="definition">twp_eq</span></a> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>} : <a class="idref" href="iris.bi.weakestpre.html#twp"><span class="id" title="definition">twp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> @<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_def"><span class="id" title="definition">twp_def</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">_</span> := <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_aux"><span class="id" title="definition">twp_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="twp"><span class="id" title="section">twp</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">s</span> : <a class="idref" href="iris.bi.weakestpre.html#stuckness"><span class="id" title="inductive">stuckness</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#12d598adf574cf268f3e92182cc4f9ff"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#12d598adf574cf268f3e92182cc4f9ff"><span class="id" title="variable">Λ</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#12d598adf574cf268f3e92182cc4f9ff"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Weakest&nbsp;pre&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="iris.bi.weakestpre.html#twp"><span class="id" title="definition">twp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_eq"><span class="id" title="definition">twp_eq</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_def"><span class="id" title="definition">twp_def</span></a> <a class="idref" href="iris.bi.lib.fixpoint.html#least_fixpoint_unfold"><span class="id" title="lemma">least_fixpoint_unfold</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_ind"><span class="id" title="lemma">twp_ind</span></a> <span class="id" title="var">s</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">n</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a><a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">HΨ</span>). <span class="id" title="var">iIntros</span> "#IH" (<span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span>) "H". <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_eq"><span class="id" title="definition">twp_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">Ψ'</span> := <a class="idref" href="../html-stdpp/stdpp.base.html#curry3"><span class="id" title="definition">curry3</span></a> <span class="id" title="var">Ψ</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#prodO"><span class="id" title="definition">prodO</span></a> (<a class="idref" href="iris.algebra.ofe.html#prodO"><span class="id" title="definition">prodO</span></a> (<a class="idref" href="iris.algebra.ofe.html#leibnizO"><span class="id" title="abbreviation">leibnizO</span></a> <a class="idref" href="../html-stdpp/stdpp.coPset.html#coPset"><span class="id" title="definition">coPset</span></a>) (<a class="idref" href="iris.program_logic.language.html#exprO"><span class="id" title="definition">exprO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#12d598adf574cf268f3e92182cc4f9ff"><span class="id" title="variable">Λ</span></a>)) (<a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#12d598adf574cf268f3e92182cc4f9ff"><span class="id" title="variable">Λ</span></a> <a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">-</span></a><a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">d</span></a><a class="idref" href="iris.algebra.ofe.html#5424c34dd363ca5932b0ce7547a94734"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iPropO"><span class="id" title="abbreviation">iPropO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iPropO"><span class="id" title="abbreviation">iPropO</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> <span class="id" title="var">Ψ'</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> [[<span class="id" title="var">E1</span> <span class="id" title="var">e1</span>] <span class="id" title="var">Φ1</span>] [[<span class="id" title="var">E2</span> <span class="id" title="var">e2</span>] <span class="id" title="var">Φ2</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[?%<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a> ?%<a class="idref" href="../html-stdpp/stdpp.base.html#leibniz_equiv"><span class="id" title="definition">leibniz_equiv</span></a>] ?]; <span class="id" title="var">simplify_eq</span>/=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HΨ</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.lib.fixpoint.html#least_fixpoint_strong_ind"><span class="id" title="lemma">least_fixpoint_strong_ind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Ψ'</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" ([[??] ?]) "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="twp_ne"><span class="id" title="instance">twp_ne</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#twp"><span class="id" title="definition">twp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Φ1</span> <span class="id" title="var">Φ2</span> <span class="id" title="var">HΦ</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_eq"><span class="id" title="definition">twp_eq</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.bi.lib.fixpoint.html#least_fixpoint_ne"><span class="id" title="instance">least_fixpoint_ne</span></a> <span class="id" title="var">_</span>), <a class="idref" href="iris.algebra.ofe.html#pair_ne"><span class="id" title="instance">pair_ne</span></a>, <span class="id" title="var">HΦ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="twp_proper"><span class="id" title="instance">twp_proper</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#twp"><span class="id" title="definition">twp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>=&gt;<span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_ne"><span class="id" title="instance">twp_ne</span></a>=&gt;<span class="id" title="var">v</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_value'"><span class="id" title="lemma">twp_value'</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "HΦ". <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_value_inv'"><span class="id" title="lemma">twp_value_inv'</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.updates.html#032e8f60cf4c8d85414301b1e227a9cb"><span class="id" title="notation">={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#032e8f60cf4c8d85414301b1e227a9cb"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.language.html#to_of_val"><span class="id" title="lemma">to_of_val</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.program_logic.total_weakestpre.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#df701c570a2112babeefa6296ee609c4"><span class="id" title="notation">⊑</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s1"><span class="id" title="variable">s1</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (? <span class="id" title="var">HE</span>) "H HΦ". <span class="id" title="var">iRevert</span> (<span class="id" title="var">E2</span> <span class="id" title="var">Ψ</span> <span class="id" title="var">HE</span>) "HΦ"; <span class="id" title="var">iRevert</span> (<span class="id" title="var">e</span> <span class="id" title="var">E1</span> <span class="id" title="var">Φ</span>) "H".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_ind"><span class="id" title="lemma">twp_ind</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">e</span> <span class="id" title="var">E1</span> <span class="id" title="var">Φ</span>) "IH"; <span class="id" title="var">iIntros</span> (<span class="id" title="var">E2</span> <span class="id" title="var">Ψ</span> <span class="id" title="var">HE</span>) "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"HΦ" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[&gt; -]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> (<a class="idref" href="iris.bi.updates.html#fupd_mask_mono"><span class="id" title="lemma">fupd_mask_mono</span></a> <span class="id" title="var">E1</span> <span class="id" title="var">_</span>). }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> (<a class="idref" href="iris.bi.updates.html#fupd_intro_mask'"><span class="id" title="lemma">fupd_intro_mask'</span></a> <span class="id" title="var">E2</span> <span class="id" title="var">E1</span>) <span class="id" title="keyword">as</span> "Hclose"; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% IH]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>; <span class="id" title="var">iSplit</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s1</span>, <span class="id" title="var">s2</span>|]. <span class="id" title="var">iIntros</span> (<span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[//]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (?) "(Hσ &amp; IH &amp; IHefs)"; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> "Hclose" <span class="id" title="keyword">as</span> "_"; <span class="id" title="var">iModIntro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="var">iSplitR</span> "IHefs".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> "IH" <span class="id" title="keyword">as</span> "[IH _]". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[//] HΦ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "IHefs"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">ef</span> <span class="id" title="var">_</span>) "[IH _]".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> "IH"; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="fupd_twp"><span class="id" title="lemma">fupd_twp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a><a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iMod</span> "H". }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ1". <span class="id" title="var">iMod</span> "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "H".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_fupd"><span class="id" title="lemma">twp_fupd</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_atomic"><span class="id" title="lemma">twp_atomic</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> `{!<a class="idref" href="iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> (<a class="idref" href="iris.bi.weakestpre.html#stuckness_to_atomicity"><span class="id" title="definition">stuckness_to_atomicity</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a><a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "&gt;&gt;&gt; $". }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> "H". <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> σ1 <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[$ H]".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iIntros</span> (<span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[//]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (?) "(Hσ &amp; H &amp; Hefs)". <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e2</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v2</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> "&gt;&gt; $". <span class="id" title="tactic">by</span> <span class="id" title="var">iFrame</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[H _]". <span class="id" title="var">iDestruct</span> "H" <span class="id" title="keyword">as</span> %(? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">edestruct</span> (<a class="idref" href="iris.program_logic.language.html#atomic"><span class="id" title="definition">atomic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#atomic"><span class="id" title="definition">atomic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstep</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span> &lt;-%<a class="idref" href="iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_value_inv'"><span class="id" title="lemma">twp_value_inv'</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "&gt;H".<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="var">iFrame</span> "Hσ Hefs". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_value'"><span class="id" title="lemma">twp_value'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_bind"><span class="id" title="lemma">twp_bind</span></a> <span class="id" title="var">K</span> `{!<a class="idref" href="iris.program_logic.language.html#LanguageCtx"><span class="id" title="class">LanguageCtx</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#K"><span class="id" title="variable">K</span></a>} <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#K"><span class="id" title="variable">K</span></a> (<a class="idref" href="iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Φ</span>. <span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">Φ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <span class="id" title="var">e</span> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <span class="id" title="var">s</span><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <span class="id" title="var">E</span> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#f9291cf5d4fce37d2cd9f8575ed912e0"><span class="id" title="variable">Φ'</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">Φ</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#f9291cf5d4fce37d2cd9f8575ed912e0"><span class="id" title="variable">Φ'</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <span class="id" title="var">K</span> (<a class="idref" href="iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <span class="id" title="var">s</span><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <span class="id" title="var">E</span> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <span class="id" title="var">s</span><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <span class="id" title="var">E</span> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iIntros</span> (<span class="id" title="var">help</span> <span class="id" title="var">Φ</span>) "H". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><span class="id" title="var">help</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">Φ'</span>) "H". <span class="id" title="var">iRevert</span> (<span class="id" title="var">e</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ'</span>) "H". <span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_ind"><span class="id" title="lemma">twp_ind</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">e</span> <span class="id" title="var">E1</span> <span class="id" title="var">Φ'</span>) "IH". <span class="id" title="var">iIntros</span> (<span class="id" title="var">Φ</span>) "HΦ".<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#fupd_twp"><span class="id" title="lemma">fupd_twp</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ". }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% IH]". <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iPureIntro</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs"><span class="id" title="definition">reducible_no_obs</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.language.html#fill_step"><span class="id" title="method">fill_step</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#fill_step_inv"><span class="id" title="method">fill_step_inv</span></a> <span class="id" title="var">e</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">e2'</span>&amp;-&gt;&amp;?); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">κ</span> <span class="id" title="var">e2'</span> σ2 <span class="id" title="var">efs</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[//]"<a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (?) "(Hσ &amp; IH &amp; IHefs)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="var">iSplitR</span> "IHefs".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> "IH" <span class="id" title="keyword">as</span> "[IH _]". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="iris.bi.interface.html#bi.and_elim_r"><span class="id" title="lemma">and_elim_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_bind_inv"><span class="id" title="lemma">twp_bind_inv</span></a> <span class="id" title="var">K</span> `{!<a class="idref" href="iris.program_logic.language.html#LanguageCtx"><span class="id" title="class">LanguageCtx</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#K"><span class="id" title="variable">K</span></a>} <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#K"><span class="id" title="variable">K</span></a> (<a class="idref" href="iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">remember</span> (<span class="id" title="var">K</span> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">He'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iRevert</span> (<span class="id" title="var">e</span> <span class="id" title="var">He'</span>). <span class="id" title="var">iRevert</span> (<span class="id" title="var">e'</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span>) "H". <span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_ind"><span class="id" title="lemma">twp_ind</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="var">solve_proper</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">e'</span> <span class="id" title="var">E1</span> <span class="id" title="var">Φ</span>) "IH". <span class="id" title="var">iIntros</span> (<span class="id" title="var">e</span> -&gt;).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> {2}/<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">He</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">iModIntro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.language.html#of_to_val"><span class="id" title="lemma">of_to_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">He</span> <span class="id" title="keyword">as</span> &lt;-. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre_mono"><span class="id" title="lemma">twp_pre_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[] IH"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ'</span>) "[_ ?]". }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a> <a class="idref" href="iris.program_logic.language.html#fill_not_val"><span class="id" title="method">fill_not_val</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[$]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% IH]". <span class="id" title="var">iModIntro</span>; <span class="id" title="var">iSplit</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs_fill_inv"><span class="id" title="lemma">reducible_no_obs_fill_inv</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> <span class="id" title="var">Hstep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a>"IH" <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">$!</span></a> <span class="id" title="var">κ</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">(</span></a><span class="id" title="var">K</span> <span class="id" title="var">e2</span><a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> σ2 <span class="id" title="var">efs</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">with</span></a> "[]"<a class="idref" href="iris.proofmode.ltac_tactics.html#e0200f70855f988886fbc8c4fdcdb53d"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (?) "(Hσ &amp; IH &amp; IHefs)"; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.language.html#fill_step"><span class="id" title="method">fill_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iModIntro</span>. <span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="var">iSplit</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>. <span class="id" title="var">iSplitR</span> "IHefs".<br/>
&nbsp;&nbsp;- <span class="id" title="var">iDestruct</span> "IH" <span class="id" title="keyword">as</span> "[IH _]". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="iris.bi.interface.html#bi.and_elim_r"><span class="id" title="lemma">and_elim_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_wp"><span class="id" title="lemma">twp_wp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H". <span class="id" title="var">iLöb</span> <span class="id" title="keyword">as</span> "IH" <span class="id" title="keyword">forall</span> (<span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.weakestpre.html#wp_unfold"><span class="id" title="lemma">wp_unfold</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_unfold"><span class="id" title="lemma">twp_unfold</span></a> /<a class="idref" href="iris.program_logic.weakestpre.html#wp_pre"><span class="id" title="definition">wp_pre</span></a> /<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_pre"><span class="id" title="definition">twp_pre</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <span class="id" title="var">e</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|]=&gt;//.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (σ1 <span class="id" title="var">κ</span> <span class="id" title="var">κs</span> <span class="id" title="var">n</span>) "Hσ". <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hσ"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> "[% H]". <span class="id" title="var">iIntros</span> "!&gt;". <span class="id" title="var">iSplitR</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs_reducible"><span class="id" title="lemma">reducible_no_obs_reducible</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span>) "Hstep". <span class="id" title="var">iMod</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>"H" <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hstep"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> (-&gt;) "(Hσ &amp; H &amp; Hfork)".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.bi.updates.html#step_fupd_intro"><span class="id" title="lemma">step_fupd_intro</span></a>; [<span class="id" title="var">set_solver</span>+|]. <span class="id" title="var">iNext</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iFrame</span> "Hσ". <span class="id" title="var">iSplitL</span> "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a>@<a class="idref" href="iris.bi.big_op.html#big_sepL_impl"><span class="id" title="lemma">big_sepL_impl</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hfork"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "!&gt;" (<span class="id" title="var">k</span> <span class="id" title="var">ef</span> <span class="id" title="var">_</span>) "H". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "IH".<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab156"></a><h1 class="section">Derived rules</h1>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="twp_mono"><span class="id" title="lemma">twp_mono</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">HΦ</span>) "H"; <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (<span class="id" title="var">v</span>) "?". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <span class="id" title="var">HΦ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_stuck_mono"><span class="id" title="lemma">twp_stuck_mono</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.program_logic.total_weakestpre.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#df701c570a2112babeefa6296ee609c4"><span class="id" title="notation">⊑</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s1"><span class="id" title="variable">s1</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "H". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_stuck_weaken"><span class="id" title="lemma">twp_stuck_weaken</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.weakestpre.html#fe13f67b12ed9de4bb7001c52fbc2009"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fe13f67b12ed9de4bb7001c52fbc2009"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fe13f67b12ed9de4bb7001c52fbc2009"><span class="id" title="notation">?[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fe13f67b12ed9de4bb7001c52fbc2009"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_stuck_mono"><span class="id" title="lemma">twp_stuck_mono</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_mask_mono"><span class="id" title="lemma">twp_mask_mono</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> (?) "H"; <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="twp_mono'"><span class="id" title="instance">twp_mono'</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#twp"><span class="id" title="definition">twp</span></a> (<span class="id" title="var">PROP</span>:=<a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#c93159a510be92d31d54f66d8d746d08"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Φ'</span> ?; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_mono"><span class="id" title="lemma">twp_mono</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_value"><span class="id" title="lemma">twp_value</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_value'"><span class="id" title="lemma">twp_value'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_value_fupd'"><span class="id" title="lemma">twp_value_fupd'</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_fupd"><span class="id" title="lemma">twp_fupd</span></a> -<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_value'"><span class="id" title="lemma">twp_value'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_value_fupd"><span class="id" title="lemma">twp_value_fupd</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_fupd"><span class="id" title="lemma">twp_fupd</span></a> -<a class="idref" href="iris.program_logic.total_weakestpre.html#twp_value"><span class="id" title="lemma">twp_value</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_value_inv"><span class="id" title="lemma">twp_value_inv</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">Φ</span> <span class="id" title="var">e</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.language.html#IntoVal"><span class="id" title="class">IntoVal</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.updates.html#032e8f60cf4c8d85414301b1e227a9cb"><span class="id" title="notation">={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#032e8f60cf4c8d85414301b1e227a9cb"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_value_inv'"><span class="id" title="lemma">twp_value_inv'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_frame_l"><span class="id" title="lemma">twp_frame_l</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">R</span> : <a class="idref" href="iris.program_logic.total_weakestpre.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[? H]". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_frame_r"><span class="id" title="lemma">twp_frame_r</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">R</span> : <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[H ?]". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">iFrame</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_wand"><span class="id" title="lemma">twp_wand</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> "H HΦ". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_strong_mono"><span class="id" title="lemma">twp_strong_mono</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "?". <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> "HΦ".<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_wand_l"><span class="id" title="lemma">twp_wand_l</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[H Hwp]". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_wand"><span class="id" title="lemma">twp_wand</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_wand_r"><span class="id" title="lemma">twp_wand_r</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">iIntros</span> "[Hwp H]". <span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#twp_wand"><span class="id" title="lemma">twp_wand</span></a> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "Hwp H"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="twp_wp_step"><span class="id" title="lemma">twp_wp_step</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">P</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#TCEq"><span class="id" title="class">TCEq</span></a> (<a class="idref" href="iris.program_logic.language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.interface.html#1ab064278224e8da215d0768a08713fe"><span class="id" title="notation">▷</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#0f70793a7efc24c230ef5e3a6ac95b68"><span class="id" title="notation">-∗</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#ada11c6f9621d156e3a91a6391304349"><span class="id" title="notation">}=∗</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">{{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#ca808999e0a0dfd644967e1c18004286"><span class="id" title="notation">}}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">iIntros</span> (?) "HP Hwp".<br/>
&nbsp;&nbsp;<span class="id" title="var">iApply</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">(</span></a><a class="idref" href="iris.program_logic.weakestpre.html#wp_step_fupd"><span class="id" title="lemma">wp_step_fupd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> <a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">with</span></a> "[HP]"<a class="idref" href="iris.proofmode.ltac_tactics.html#c65a9d4b357f2165cc71fe44c81db669"><span class="id" title="notation">)</span></a>; [<span class="id" title="tactic">auto</span>..|]. <span class="id" title="tactic">by</span> <span class="id" title="var">iApply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_wp"><span class="id" title="lemma">twp_wp</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp"><span class="id" title="section">twp</span></a>.<br/>

<br/>
</div>

<div class="doc">
Proofmode class instances 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="proofmode_classes"><span class="id" title="section">proofmode_classes</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{!<a class="idref" href="iris.program_logic.weakestpre.html#irisG"><span class="id" title="class">irisG</span></a> <span class="id" title="var">Λ</span> <span class="id" title="var">Σ</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#6818862eb4a179c9c22f43d3c1e69add"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.program_logic.language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#a29255f0f79b75b79795a2ff13da17e8"><span class="id" title="variable">Λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.base_logic.lib.iprop.html#iProp_solution.iProp"><span class="id" title="abbreviation">iProp</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#6818862eb4a179c9c22f43d3c1e69add"><span class="id" title="variable">Σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="frame_twp"><span class="id" title="instance">frame_twp</span></a> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">R</span> <span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>) (<a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.classes.html#Frame"><span class="id" title="class">Frame</span></a>=&gt; <span class="id" title="var">HR</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_frame_l"><span class="id" title="lemma">twp_frame_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_mono"><span class="id" title="lemma">twp_mono</span></a>, <span class="id" title="var">HR</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="is_except_0_wp"><span class="id" title="instance">is_except_0_wp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">Φ</span> : <a class="idref" href="iris.proofmode.classes.html#IsExcept0"><span class="id" title="class">IsExcept0</span></a> (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.classes.html#IsExcept0"><span class="id" title="class">IsExcept0</span></a> -{2}<a class="idref" href="iris.program_logic.total_weakestpre.html#fupd_twp"><span class="id" title="lemma">fupd_twp</span></a> -<a class="idref" href="iris.bi.updates.html#except_0_fupd"><span class="id" title="lemma">except_0_fupd</span></a> -<a class="idref" href="iris.bi.updates.html#fupd_intro"><span class="id" title="lemma">fupd_intro</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="elim_modal_bupd_twp"><span class="id" title="instance">elim_modal_bupd_twp</span></a> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">P</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="iris.bi.updates.html#be9a2343da4fe37e3ed47c88e1c47b1e"><span class="id" title="notation">|==&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.bi.updates.html#bupd_fupd"><span class="id" title="definition">bupd_fupd</span></a> <span class="id" title="var">E</span>) <a class="idref" href="iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_elim_r"><span class="id" title="lemma">wand_elim_r</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#fupd_twp"><span class="id" title="lemma">fupd_twp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="elim_modal_fupd_twp"><span class="id" title="instance">elim_modal_fupd_twp</span></a> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">P</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_elim_r"><span class="id" title="lemma">wand_elim_r</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#fupd_twp"><span class="id" title="lemma">fupd_twp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="elim_modal_fupd_twp_atomic"><span class="id" title="instance">elim_modal_fupd_twp_atomic</span></a> <span class="id" title="var">p</span> <span class="id" title="var">s</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">e</span> <span class="id" title="var">P</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> (<a class="idref" href="iris.bi.weakestpre.html#stuckness_to_atomicity"><span class="id" title="definition">stuckness_to_atomicity</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>) (<a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">[{</span></a> <span class="id" title="var">v</span><a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E2"><span class="id" title="variable">E2</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">,</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="iris.bi.updates.html#e560f4527e0b12b6e56d578534dc7d94"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="iris.bi.weakestpre.html#0197e84fdb0a191e588749e927e5eb27"><span class="id" title="notation">}]</span></a>)%<span class="id" title="var">I</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.classes.html#ElimModal"><span class="id" title="class">ElimModal</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_if_elim"><span class="id" title="lemma">intuitionistically_if_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_elim_r"><span class="id" title="lemma">wand_elim_r</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#twp_atomic"><span class="id" title="lemma">twp_atomic</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="add_modal_fupd_twp"><span class="id" title="instance">add_modal_fupd_twp</span></a> <span class="id" title="var">s</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">P</span> <span class="id" title="var">Φ</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> (<a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">|={</span></a><a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="iris.bi.updates.html#7500ef6d8f565186818a5daedd71bf2a"><span class="id" title="notation">}=&gt;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.program_logic.total_weakestpre.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">WP</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">@</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">;</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">[{</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.bi.weakestpre.html#fb462fe24301dea560ea156e509d5c48"><span class="id" title="notation">}]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.classes.html#AddModal"><span class="id" title="class">AddModal</span></a> <a class="idref" href="iris.bi.updates.html#fupd_frame_r"><span class="id" title="lemma">fupd_frame_r</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_elim_r"><span class="id" title="lemma">wand_elim_r</span></a> <a class="idref" href="iris.program_logic.total_weakestpre.html#fupd_twp"><span class="id" title="lemma">fupd_twp</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.program_logic.total_weakestpre.html#proofmode_classes"><span class="id" title="section">proofmode_classes</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
