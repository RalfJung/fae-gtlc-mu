<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">iris.algebra.gmap</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="../html-stdpp/stdpp.list.html#"><span class="id" title="library">list</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#"><span class="id" title="library">gmap</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.algebra.cmra.html#"><span class="id" title="library">cmra</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.algebra.updates.html#"><span class="id" title="library">updates</span></a> <a class="idref" href="iris.algebra.local_updates.html#"><span class="id" title="library">local_updates</span></a> <a class="idref" href="iris.algebra.proofmode_classes.html#"><span class="id" title="library">proofmode_classes</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.base_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.base_logic.base_logic.html#"><span class="id" title="library">base_logic</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="cofe"><span class="id" title="section">cofe</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_dist"><span class="id" title="instance">gmap_dist</span></a> : <a class="idref" href="iris.algebra.ofe.html#Dist"><span class="id" title="class">Dist</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="gmap_ofe_mixin"><span class="id" title="definition">gmap_ofe_mixin</span></a> : <a class="idref" href="iris.algebra.ofe.html#OfeMixin"><span class="id" title="record">OfeMixin</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">n</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#equiv_dist"><span class="id" title="lemma">equiv_dist</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> ? <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> ?? <span class="id" title="var">k</span>; <span class="id" title="var">trans</span> (<span class="id" title="var">m2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> ? <span class="id" title="var">k</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#dist_S"><span class="id" title="lemma">dist_S</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">gmapO</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a> := <a class="idref" href="iris.algebra.ofe.html#OfeT"><span class="id" title="constructor">OfeT</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="iris.algebra.gmap.html#gmap_ofe_mixin"><span class="id" title="definition">gmap_ofe_mixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a name="gmap_chain"><span class="id" title="definition">gmap_chain</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="iris.algebra.ofe.html#chain"><span class="id" title="record">chain</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">k</span> : <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a>) : <a class="idref" href="iris.algebra.ofe.html#chain"><span class="id" title="record">chain</span></a> (<a class="idref" href="iris.algebra.ofe.html#optionO"><span class="id" title="definition">optionO</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) := {| <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">chain_car</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">n</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">:=</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">c</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">n</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">!!</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_chain"><span class="id" title="constructor">k</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> ?; <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.ofe.html#chain_cauchy"><span class="id" title="projection">chain_cauchy</span></a> <span class="id" title="var">c</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="gmap_compl"><span class="id" title="definition">gmap_compl</span></a> `{<a class="idref" href="iris.algebra.ofe.html#Cofe"><span class="id" title="class">Cofe</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>} : <a class="idref" href="iris.algebra.ofe.html#Compl"><span class="id" title="abbreviation">Compl</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.ofe.html#compl"><span class="id" title="projection">compl</span></a> (<a class="idref" href="iris.algebra.gmap.html#gmap_chain"><span class="id" title="definition">gmap_chain</span></a> <a class="idref" href="iris.algebra.gmap.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>)) (<a class="idref" href="iris.algebra.gmap.html#c"><span class="id" title="variable">c</span></a> 0).<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a name="gmap_cofe"><span class="id" title="instance">gmap_cofe</span></a> `{<a class="idref" href="iris.algebra.ofe.html#Cofe"><span class="id" title="class">Cofe</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>} : <a class="idref" href="iris.algebra.ofe.html#Cofe"><span class="id" title="class">Cofe</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="iris.algebra.ofe.html#Build_Cofe"><span class="id" title="constructor">compl</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_Cofe"><span class="id" title="constructor">:=</span></a> <a class="idref" href="iris.algebra.ofe.html#Build_Cofe"><span class="id" title="constructor">gmap_compl</span></a> |}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">n</span> <span class="id" title="var">c</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.algebra.ofe.html#compl"><span class="id" title="projection">compl</span></a> /<a class="idref" href="iris.algebra.gmap.html#gmap_compl"><span class="id" title="definition">gmap_compl</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">feed</span> <span class="id" title="tactic">inversion</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">H</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.ofe.html#chain_cauchy"><span class="id" title="projection">chain_cauchy</span></a> <span class="id" title="var">c</span> 0 <span class="id" title="var">n</span> <a class="idref" href="iris.algebra.gmap.html#H"><span class="id" title="variable">H</span></a> <span class="id" title="var">k</span>);<span class="id" title="var">simplify_option_eq</span>;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.ofe.html#conv_compl"><span class="id" title="projection">conv_compl</span></a> /=; <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.orders.html#reflexive_eq"><span class="id" title="lemma">reflexive_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_ofe_discrete"><span class="id" title="instance">gmap_ofe_discrete</span></a> : <a class="idref" href="iris.algebra.ofe.html#OfeDiscrete"><span class="id" title="class">OfeDiscrete</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.ofe.html#OfeDiscrete"><span class="id" title="class">OfeDiscrete</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">m</span> <span class="id" title="var">m'</span> ? <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.ofe.html#discrete"><span class="id" title="definition">discrete</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*&nbsp;why&nbsp;doesn't&nbsp;this&nbsp;go&nbsp;automatic?&nbsp;*)</span><br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmapO_leibniz"><span class="id" title="instance">gmapO_leibniz</span></a>: <a class="idref" href="../html-stdpp/stdpp.base.html#LeibnizEquiv"><span class="id" title="class">LeibnizEquiv</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#LeibnizEquiv"><span class="id" title="class">LeibnizEquiv</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">change</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#LeibnizEquiv"><span class="id" title="class">LeibnizEquiv</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>)); <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="lookup_ne"><span class="id" title="instance">lookup_ne</span></a> <span class="id" title="var">k</span> : <a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="lookup_total_ne"><span class="id" title="instance">lookup_total_ne</span></a> `{!<a class="idref" href="../html-stdpp/stdpp.base.html#Inhabited"><span class="id" title="class">Inhabited</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>} <span class="id" title="var">k</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#lookup_total"><span class="id" title="definition">lookup_total</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_total_alt"><span class="id" title="lemma">lookup_total_alt</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> -&gt;. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="partial_alter_ne"><span class="id" title="instance">partial_alter_ne</span></a> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="../html-stdpp/stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span> <span class="id" title="var">Hf</span> <span class="id" title="var">i</span> ? &lt;- <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a> ?<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a> //;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#lookup_ne"><span class="id" title="instance">lookup_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="insert_ne"><span class="id" title="instance">insert_ne</span></a> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.ofe.html#NonExpansive2"><span class="id" title="abbreviation">NonExpansive2</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#insert"><span class="id" title="definition">insert</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ? <span class="id" title="var">m</span> <span class="id" title="var">m'</span> ? <span class="id" title="var">j</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#partial_alter_ne"><span class="id" title="instance">partial_alter_ne</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="singleton_ne"><span class="id" title="instance">singleton_ne</span></a> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ????; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_ne"><span class="id" title="instance">insert_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="delete_ne"><span class="id" title="instance">delete_ne</span></a> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> ? <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="var">simplify_map_eq</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#lookup_ne"><span class="id" title="instance">lookup_ne</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="alter_ne"><span class="id" title="instance">alter_ne</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">k</span> : <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a>) <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="../html-stdpp/stdpp.base.html#alter"><span class="id" title="definition">alter</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">k'</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#partial_alter_ne"><span class="id" title="instance">partial_alter_ne</span></a>; [<span class="id" title="var">solve_proper</span>|..]. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_empty_discrete"><span class="id" title="instance">gmap_empty_discrete</span></a> : <a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_lookup_discrete"><span class="id" title="instance">gmap_lookup_discrete</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> (<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? [<span class="id" title="var">x</span>|] <span class="id" title="var">Hx</span>; [|<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.ofe.html#discrete"><span class="id" title="definition">discrete</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a>0<a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">i</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">x</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>; <span class="id" title="var">ofe_subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#insert_id"><span class="id" title="lemma">insert_id</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.algebra.ofe.html#discrete"><span class="id" title="definition">discrete</span></a> <span class="id" title="var">m</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">i</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">x</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">m</span>)) // <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_insert_discrete"><span class="id" title="instance">gmap_insert_discrete</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#ofe_mixin_of'"><span class="id" title="definition">{</span></a> <a class="idref" href="iris.algebra.ofe.html#ofe_mixin_of'"><span class="id" title="definition">by</span></a> <a class="idref" href="iris.algebra.ofe.html#ofe_mixin_of'"><span class="id" title="definition">apply</span></a>: <a class="idref" href="iris.algebra.ofe.html#discrete"><span class="id" title="definition">discrete</span></a>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hm</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.ofe.html#discrete"><span class="id" title="definition">discrete</span></a>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hm</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_singleton_discrete"><span class="id" title="instance">gmap_singleton_discrete</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.ofe.html#Discrete"><span class="id" title="class">Discrete</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cofe.A"><span class="id" title="variable">A</span></a>) := <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_idN"><span class="id" title="lemma">insert_idN</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">y'</span>&amp;?&amp;-&gt;)%<a class="idref" href="iris.algebra.ofe.html#dist_Some_inv_r'"><span class="id" title="lemma">dist_Some_inv_r'</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#insert_id"><span class="id" title="lemma">insert_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.algebra.gmap.html#cofe"><span class="id" title="section">cofe</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> <span class="id" title="var">_</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
Non-expansiveness of higher-order map functions and big-ops 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="merge_ne"><span class="id" title="lemma">merge_ne</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.algebra.gmap.html#C"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="../html-stdpp/stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a>, !<a class="idref" href="../html-stdpp/stdpp.option.html#DiagNone"><span class="id" title="class">DiagNone</span></a> <a class="idref" href="iris.algebra.gmap.html#g"><span class="id" title="variable">g</span></a>} <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">signature</span> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">signature</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a>) (<a class="idref" href="../html-stdpp/stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="iris.algebra.gmap.html#g"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> ?? <span class="id" title="var">Hm1</span> ?? <span class="id" title="var">Hm2</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a> //; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="union_with_proper"><span class="id" title="instance">union_with_proper</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a><a class="idref" href="iris.algebra.cmra.html#cmra_mixin_of'"><span class="id" title="definition">}</span></a> <a class="idref" href="iris.algebra.cmra.html#cmra_mixin_of'"><span class="id" title="definition">n</span></a> <a class="idref" href="iris.algebra.cmra.html#cmra_mixin_of'"><span class="id" title="definition">:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">((</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;(</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) (<a class="idref" href="../html-stdpp/stdpp.base.html#union_with"><span class="id" title="definition">union_with</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hf</span> ?? <span class="id" title="var">Hm1</span> ?? <span class="id" title="var">Hm2</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.gmap.html#merge_ne"><span class="id" title="lemma">merge_ne</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">first</span> [<span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span> | <span class="id" title="tactic">constructor</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="map_fmap_proper"><span class="id" title="instance">map_fmap_proper</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">m</span> <span class="id" title="var">m'</span> ? <span class="id" title="var">k</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">f_equiv</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="map_zip_with_proper"><span class="id" title="instance">map_zip_with_proper</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#C"><span class="id" title="variable">C</span></a>) <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_zip_with"><span class="id" title="definition">map_zip_with</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m1</span> <span class="id" title="var">m1'</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m2'</span> <span class="id" title="var">Hm2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#merge_ne"><span class="id" title="lemma">merge_ne</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">destruct</span> 1; <span class="id" title="tactic">repeat</span> <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">constructor</span> || <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="big_opM_ne_2"><span class="id" title="lemma">big_opM_ne_2</span></a> `{<a class="idref" href="iris.algebra.monoid.html#Monoid"><span class="id" title="class">Monoid</span></a> <span class="id" title="var">M</span> <span class="id" title="var">o</span>} `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>} (<span class="id" title="var">f</span> <span class="id" title="var">g</span> : <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">k</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">[^</span></a><a class="idref" href="iris.algebra.gmap.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">map</span></a><a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">]</span></a> <span class="id" title="var">k</span> <a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">↦</span></a> <span class="id" title="var">y</span> <a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">[^</span></a><a class="idref" href="iris.algebra.gmap.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">map</span></a><a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">]</span></a> <span class="id" title="var">k</span> <a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">↦</span></a> <span class="id" title="var">y</span> <a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="iris.algebra.big_op.html#ba12de1d07d4df5e5d29f3bc3789db4b"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.big_op.html#big_opM_gen_proper_2"><span class="id" title="lemma">big_opM_gen_proper_2</span></a>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span> || <span class="id" title="var">done</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?? -&gt;. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.monoid.html#monoid_ne"><span class="id" title="method">monoid_ne</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">m1</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><span class="id" title="var">n</span><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <span class="id" title="var">m2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlk</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">m2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hlk</span>; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="big_sepM2_ne_2"><span class="id" title="lemma">big_sepM2_ne_2</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Φ</span> <span class="id" title="var">Ψ</span> : <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#PROP"><span class="id" title="variable">PROP</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m1'</span> <span class="id" title="var">m2'</span> <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">k</span> <span class="id" title="var">y1</span> <span class="id" title="var">y1'</span> <span class="id" title="var">y2</span> <span class="id" title="var">y2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m1'"><span class="id" title="variable">m1'</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y1'"><span class="id" title="variable">y1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#y1'"><span class="id" title="variable">y1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m2'"><span class="id" title="variable">m2'</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y2'"><span class="id" title="variable">y2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#y2'"><span class="id" title="variable">y2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="iris.algebra.gmap.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y1'"><span class="id" title="variable">y1'</span></a> <a class="idref" href="iris.algebra.gmap.html#y2'"><span class="id" title="variable">y2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">[∗</span></a> <a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">map</span></a><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">]</span></a> <span class="id" title="var">k</span> <a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">↦</span></a> <span class="id" title="var">y1</span><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">;</span></a><span class="id" title="var">y2</span> <a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">;</span></a><a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#0a86c68449f31709b242a8cc62019df8"><span class="id" title="variable">Φ</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> (<a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">[∗</span></a> <a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">map</span></a><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">]</span></a> <span class="id" title="var">k</span> <a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">↦</span></a> <span class="id" title="var">y1</span><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">;</span></a><span class="id" title="var">y2</span> <a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">∈</span></a> <a class="idref" href="iris.algebra.gmap.html#m1'"><span class="id" title="variable">m1'</span></a><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">;</span></a><a class="idref" href="iris.algebra.gmap.html#m2'"><span class="id" title="variable">m2'</span></a><a class="idref" href="iris.bi.big_op.html#5e4c70f3fce60c80a8acec7b11f13136"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#72dde5981d3c1d89dd7a1d1d0e413621"><span class="id" title="variable">Ψ</span></a> <a class="idref" href="iris.algebra.gmap.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="iris.algebra.gmap.html#y1"><span class="id" title="variable">y1</span></a> <a class="idref" href="iris.algebra.gmap.html#y2"><span class="id" title="variable">y2</span></a>)%<span class="id" title="var">I</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1</span> <span class="id" title="var">Hm2</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.big_op.html#big_sepM2_eq"><span class="id" title="definition">big_sepM2_eq</span></a> /<a class="idref" href="iris.bi.big_op.html#big_sepM2_def"><span class="id" title="definition">big_sepM2_def</span></a>. <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">m1</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.ofe.html#is_Some_ne"><span class="id" title="instance">is_Some_ne</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.ofe.html#is_Some_ne"><span class="id" title="instance">is_Some_ne</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">trans</span> (<a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<span class="id" title="var">m1'</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>)); [<span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.ofe.html#is_Some_ne"><span class="id" title="instance">is_Some_ne</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.ofe.html#is_Some_ne"><span class="id" title="instance">is_Some_ne</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#big_opM_ne_2"><span class="id" title="lemma">big_opM_ne_2</span></a>; [<span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">k</span> [<span class="id" title="var">x1</span> <span class="id" title="var">y1</span>] [<span class="id" title="var">x2</span> <span class="id" title="var">y2</span>] (?&amp;?&amp;[=&lt;- &lt;-]&amp;?&amp;?)%<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_lookup_zip_with_Some"><span class="id" title="lemma">map_lookup_zip_with_Some</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(?&amp;?&amp;[=&lt;- &lt;-]&amp;?&amp;?)%<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_lookup_zip_with_Some"><span class="id" title="lemma">map_lookup_zip_with_Some</span></a> [??]; <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;CMRA&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a name="cmra"><span class="id" title="section">cmra</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> : <a class="idref" href="iris.algebra.cmra.html#cmraT"><span class="id" title="record">cmraT</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_unit"><span class="id" title="instance">gmap_unit</span></a> : <a class="idref" href="iris.algebra.cmra.html#Unit"><span class="id" title="class">Unit</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) := (<a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_op"><span class="id" title="instance">gmap_op</span></a> : <a class="idref" href="iris.algebra.cmra.html#Op"><span class="id" title="class">Op</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="../html-stdpp/stdpp.base.html#merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="iris.algebra.cmra.html#op"><span class="id" title="definition">op</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_pcore"><span class="id" title="instance">gmap_pcore</span></a> : <a class="idref" href="iris.algebra.cmra.html#PCore"><span class="id" title="class">PCore</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#omap"><span class="id" title="definition">omap</span></a> <a class="idref" href="iris.algebra.cmra.html#pcore"><span class="id" title="definition">pcore</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_valid"><span class="id" title="instance">gmap_valid</span></a> : <a class="idref" href="iris.algebra.cmra.html#Valid"><span class="id" title="class">Valid</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_validN"><span class="id" title="instance">gmap_validN</span></a> : <a class="idref" href="iris.algebra.cmra.html#ValidN"><span class="id" title="class">ValidN</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_op"><span class="id" title="lemma">lookup_op</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> : <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_merge"><span class="id" title="method">lookup_merge</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_core"><span class="id" title="lemma">lookup_core</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.cmra.html#core"><span class="id" title="definition">core</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.algebra.cmra.html#core"><span class="id" title="definition">core</span></a> (<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_included"><span class="id" title="lemma">lookup_included</span></a> (<span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> [<span class="id" title="var">m</span> <span class="id" title="var">Hm</span>] <span class="id" title="var">i</span>; <span class="id" title="tactic">exists</span> (<span class="id" title="var">m</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <span class="id" title="var">Hm</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">m2</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">m1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">m</span> <span class="id" title="var">Hi</span> <span class="id" title="var">IH</span>] <span class="id" title="keyword">using</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_ind"><span class="id" title="lemma">map_ind</span></a>=&gt; <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">m2</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IH</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <span class="id" title="var">i</span> <span class="id" title="var">m2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">m2'</span> <span class="id" title="var">Hm2'</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">j</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.cmra.html#ucmra_unit_least"><span class="id" title="lemma">ucmra_unit_least</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> // <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> //. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">my</span> <span class="id" title="var">Hi'</span>]; <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">my</span>) <span class="id" title="var">i</span> <span class="id" title="var">m2'</span>)=&gt;<span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi'</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm2'</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> //<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> // <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gmap_cmra_mixin"><span class="id" title="lemma">gmap_cmra_mixin</span></a> : <a class="idref" href="iris.algebra.cmra.html#CmraMixin"><span class="id" title="record">CmraMixin</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_total_mixin"><span class="id" title="lemma">cmra_total_mixin</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_core"><span class="id" title="lemma">lookup_core</span></a> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> ? <span class="id" title="var">i</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? <span class="id" title="var">n</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_valid_validN"><span class="id" title="lemma">cmra_valid_validN</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_valid_validN"><span class="id" title="lemma">cmra_valid_validN</span></a>=&gt; <span class="id" title="var">n</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_validN_S"><span class="id" title="lemma">cmra_validN_S</span></a>, <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">m3</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#comm"><span class="id" title="definition">comm</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="iris.algebra.gmap.html#lookup_core"><span class="id" title="lemma">lookup_core</span></a> <a class="idref" href="iris.algebra.cmra.html#cmra_core_l"><span class="id" title="lemma">cmra_core_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_core"><span class="id" title="lemma">lookup_core</span></a> <a class="idref" href="iris.algebra.cmra.html#cmra_core_idemp"><span class="id" title="lemma">cmra_core_idemp</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_included"><span class="id" title="lemma">lookup_included</span></a>=&gt; <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_core"><span class="id" title="lemma">lookup_core</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_core_mono"><span class="id" title="lemma">cmra_core_mono</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_validN_op_l"><span class="id" title="lemma">cmra_validN_op_l</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">y1</span> <span class="id" title="var">y2</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> ((<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">FUN</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#cmra_extend"><span class="id" title="lemma">cmra_extend</span></a> <span class="id" title="var">n</span> (<span class="id" title="var">m</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">y1</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">y2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>) (<span class="id" title="var">Hm</span> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>) <span class="id" title="var">_</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> (<span class="id" title="var">FUN</span> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>)) <span class="id" title="var">y1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_imap"><span class="id" title="definition">map_imap</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> (<span class="id" title="var">FUN</span> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>))) <span class="id" title="var">y2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>]=&gt;<span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_lookup_imap"><span class="id" title="lemma">map_lookup_imap</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">FUN</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">z1i</span>&amp;<span class="id" title="var">z2i</span>&amp;<span class="id" title="var">Hmi</span>&amp;<span class="id" title="var">Hz1i</span>&amp;<span class="id" title="var">Hz2i</span>)=&gt;/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">y1</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">y2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hz1i</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hz2i</span>; <span class="id" title="tactic">subst</span>=&gt;//.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">revert</span> <span class="id" title="var">Hz1i</span>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">y1</span><a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a><span class="id" title="var">i</span>)=&gt;[?|] //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">revert</span> <span class="id" title="var">Hz2i</span>. <span class="id" title="tactic">case</span>: (<span class="id" title="var">y2</span><a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a><span class="id" title="var">i</span>)=&gt;[?|] //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">gmapR</span> := <a class="idref" href="iris.algebra.cmra.html#CmraT"><span class="id" title="abbreviation">CmraT</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="iris.algebra.gmap.html#gmap_cmra_mixin"><span class="id" title="lemma">gmap_cmra_mixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_cmra_discrete"><span class="id" title="instance">gmap_cmra_discrete</span></a> : <a class="idref" href="iris.algebra.cmra.html#CmraDiscrete"><span class="id" title="class">CmraDiscrete</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#CmraDiscrete"><span class="id" title="class">CmraDiscrete</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapR"><span class="id" title="definition">gmapR</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>|]. <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> ? <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.cmra.html#cmra_discrete_valid"><span class="id" title="method">cmra_discrete_valid</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gmap_ucmra_mixin"><span class="id" title="lemma">gmap_ucmra_mixin</span></a> : <a class="idref" href="iris.algebra.cmra.html#UcmraMixin"><span class="id" title="record">UcmraMixin</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>=&gt; <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_empty"><span class="id" title="method">lookup_empty</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">gmapUR</span> := <a class="idref" href="iris.algebra.cmra.html#UcmraT"><span class="id" title="abbreviation">UcmraT</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#cmra.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="iris.algebra.gmap.html#gmap_ucmra_mixin"><span class="id" title="lemma">gmap_ucmra_mixin</span></a>.<br/>

<br/>
</div>

<div class="doc">
Internalized properties 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="gmap_equivI"><span class="id" title="lemma">gmap_equivI</span></a> {<span class="id" title="var">M</span>} <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.bi.interface.html#29819c8800064fb1d81bca894bd0e454"><span class="id" title="notation">≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="iris.bi.interface.html#339ab4f22dde4fec5350c24306973201"><span class="id" title="notation">⊣⊢@{</span></a><a class="idref" href="iris.base_logic.bi.html#uPredI"><span class="id" title="definition">uPredI</span></a> <a class="idref" href="iris.algebra.gmap.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="iris.bi.interface.html#339ab4f22dde4fec5350c24306973201"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.bi.interface.html#29819c8800064fb1d81bca894bd0e454"><span class="id" title="notation">≡</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">uPred.unseal</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="gmap_validI"><span class="id" title="lemma">gmap_validI</span></a> {<span class="id" title="var">M</span>} <span class="id" title="var">m</span> : <a class="idref" href="iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.bi.interface.html#339ab4f22dde4fec5350c24306973201"><span class="id" title="notation">⊣⊢@{</span></a><a class="idref" href="iris.base_logic.bi.html#uPredI"><span class="id" title="definition">uPredI</span></a> <a class="idref" href="iris.algebra.gmap.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="iris.bi.interface.html#339ab4f22dde4fec5350c24306973201"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="iris.bi.interface.html#3737660a6294eb9f7af6df17be5eb5a3"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="iris.base_logic.upred.html#a79a5cb7b9793a009fe3ff9410025351"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">uPred.unseal</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.algebra.gmap.html#cmra"><span class="id" title="section">cmra</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.algebra.gmap.html#gmapR"><span class="id" title="definition">gmapR</span></a> <span class="id" title="var">_</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.algebra.gmap.html#gmapUR"><span class="id" title="definition">gmapUR</span></a> <span class="id" title="var">_</span> {<span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="properties"><span class="id" title="section">properties</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> : <a class="idref" href="iris.algebra.cmra.html#cmraT"><span class="id" title="record">cmraT</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="lookup_op_homomorphism"><span class="id" title="instance">lookup_op_homomorphism</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.monoid.html#MonoidHomomorphism"><span class="id" title="class">MonoidHomomorphism</span></a> <a class="idref" href="iris.algebra.cmra.html#op"><span class="id" title="definition">op</span></a> <a class="idref" href="iris.algebra.cmra.html#op"><span class="id" title="definition">op</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#lookup"><span class="id" title="definition">lookup</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">split</span>|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_opM"><span class="id" title="lemma">lookup_opM</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">mm2</span> <span class="id" title="var">i</span> : <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#1a22c97520a2406c907244b48b3a6ac3"><span class="id" title="notation">⋅?</span></a> <a class="idref" href="iris.algebra.gmap.html#mm2"><span class="id" title="variable">mm2</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">)</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#mm2"><span class="id" title="variable">mm2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#1ec27ecb4da8da3d3cbd85a2394dc835"><span class="id" title="notation">≫=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">(.!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#25ecb79091cd94eecd6f762fd0c5d06f"><span class="id" title="notation">)</span></a><a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">mm2</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> ?<a class="idref" href="../html-stdpp/stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_validN_Some"><span class="id" title="lemma">lookup_validN_Some</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; /(<span class="id" title="var">_</span> <span class="id" title="var">i</span>) <span class="id" title="var">Hm</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">move</span>:<span class="id" title="var">Hm</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="lookup_valid_Some"><span class="id" title="lemma">lookup_valid_Some</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hm</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">move</span>:(<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_validN"><span class="id" title="lemma">insert_validN</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_valid"><span class="id" title="lemma">insert_valid</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?? <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_validN"><span class="id" title="lemma">singleton_validN</span></a> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>=&gt;/(<span class="id" title="var">_</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_validN"><span class="id" title="lemma">insert_validN</span></a>. <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.algebra.cmra.html#ucmra_unit_validN"><span class="id" title="lemma">ucmra_unit_validN</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_valid"><span class="id" title="lemma">singleton_valid</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.cmra.html#cmra_valid_validN"><span class="id" title="lemma">cmra_valid_validN</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="iris.algebra.gmap.html#singleton_validN"><span class="id" title="lemma">singleton_validN</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_validN"><span class="id" title="lemma">delete_validN</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">✓{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="iris.algebra.cmra.html#7efcfe0724ad2142bda747346595db70"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_valid"><span class="id" title="lemma">delete_valid</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">by</span> <span class="id" title="var">simplify_map_eq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_singleton_op"><span class="id" title="lemma">insert_singleton_op</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_eq"><span class="id" title="method">map_eq</span></a>=&gt; <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> <span class="id" title="var">Hi</span> <a class="idref" href="../html-stdpp/stdpp.base.html#right_id_L"><span class="id" title="lemma">right_id_L</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> // <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a> // <a class="idref" href="../html-stdpp/stdpp.base.html#left_id_L"><span class="id" title="lemma">left_id_L</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_core"><span class="id" title="lemma">singleton_core</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">cx</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#pcore"><span class="id" title="definition">pcore</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#cx"><span class="id" title="variable">cx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#core"><span class="id" title="definition">core</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#cx"><span class="id" title="variable">cx</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#omap_singleton"><span class="id" title="lemma">omap_singleton</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_core'"><span class="id" title="lemma">singleton_core'</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">cx</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#pcore"><span class="id" title="definition">pcore</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#cx"><span class="id" title="variable">cx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#core"><span class="id" title="definition">core</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dd37b431e739e6af49107f4345ce0aa7"><span class="id" title="notation">≡@{</span></a><a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#dd37b431e739e6af49107f4345ce0aa7"><span class="id" title="notation">}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#cx"><span class="id" title="variable">cx</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">cx'</span>&amp;?&amp;-&gt;)%<a class="idref" href="../html-stdpp/stdpp.option.html#equiv_Some_inv_r'"><span class="id" title="lemma">equiv_Some_inv_r'</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.algebra.gmap.html#singleton_core"><span class="id" title="lemma">singleton_core</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">cx'</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_core_total"><span class="id" title="lemma">singleton_core_total</span></a> `{!<a class="idref" href="iris.algebra.cmra.html#CmraTotal"><span class="id" title="class">CmraTotal</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#core"><span class="id" title="definition">core</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.cmra.html#core"><span class="id" title="definition">core</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#singleton_core"><span class="id" title="lemma">singleton_core</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.cmra.html#cmra_pcore_core"><span class="id" title="lemma">cmra_pcore_core</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_op"><span class="id" title="lemma">singleton_op</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">=@{</span></a><a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#8ab23e3b77e87996bb72ab1622edf06d"><span class="id" title="notation">}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#merge_singleton"><span class="id" title="lemma">merge_singleton</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="is_op_singleton"><span class="id" title="instance">is_op_singleton</span></a> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.proofmode_classes.html#IsOp"><span class="id" title="class">IsOp</span></a> <a class="idref" href="iris.algebra.gmap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="iris.algebra.gmap.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="iris.algebra.gmap.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.proofmode_classes.html#IsOp'"><span class="id" title="class">IsOp'</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.algebra.proofmode_classes.html#IsOp'"><span class="id" title="class">IsOp'</span></a> /<a class="idref" href="iris.algebra.proofmode_classes.html#IsOp"><span class="id" title="class">IsOp</span></a>=&gt; -&gt;. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.gmap.html#singleton_op"><span class="id" title="lemma">singleton_op</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_core_id"><span class="id" title="instance">gmap_core_id</span></a> <span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#CoreId"><span class="id" title="class">CoreId</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#CoreId"><span class="id" title="class">CoreId</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#core_id_total"><span class="id" title="lemma">core_id_total</span></a>=&gt; <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_core"><span class="id" title="lemma">lookup_core</span></a>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.cmra.html#core_id_core"><span class="id" title="lemma">core_id_core</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_singleton_core_id"><span class="id" title="instance">gmap_singleton_core_id</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#CoreId"><span class="id" title="class">CoreId</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#CoreId"><span class="id" title="class">CoreId</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#core_id_total"><span class="id" title="lemma">core_id_total</span></a>, <a class="idref" href="iris.algebra.gmap.html#singleton_core'"><span class="id" title="lemma">singleton_core'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_includedN_l"><span class="id" title="lemma">singleton_includedN_l</span></a> <span class="id" title="var">n</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#00adaf9815fde4b4459773a3d288c67d"><span class="id" title="notation">≼{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#00adaf9815fde4b4459773a3d288c67d"><span class="id" title="notation">}</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#00adaf9815fde4b4459773a3d288c67d"><span class="id" title="notation">≼{</span></a><a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="iris.algebra.cmra.html#00adaf9815fde4b4459773a3d288c67d"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">m'</span> /(<span class="id" title="var">_</span> <span class="id" title="var">i</span>)]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>=&gt; <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">x</span> <a class="idref" href="iris.algebra.cmra.html#1a22c97520a2406c907244b48b3a6ac3"><span class="id" title="notation">⋅?</span></a> <span class="id" title="var">m'</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.cmra.html#Some_op_opM"><span class="id" title="lemma">Some_op_opM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_includedN_l"><span class="id" title="lemma">cmra_includedN_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Hi</span>&amp;[<span class="id" title="var">mz</span> <span class="id" title="var">Hy</span>]). <span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">mz</span>) <span class="id" title="var">i</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>// <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>// <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="comment">(*&nbsp;We&nbsp;do&nbsp;not&nbsp;have&nbsp;<span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">≼</span> <span class="inlinecode"><span class="id" title="var">y</span></span> <span class="inlinecode">↔</span> <span class="inlinecode">∀</span> <span class="inlinecode"><span class="id" title="var">n</span>,</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">≼{<span class="id" title="var">n</span>}</span> <span class="inlinecode"><span class="id" title="var">y</span></span>,&nbsp;so&nbsp;we&nbsp;cannot&nbsp;use&nbsp;the&nbsp;previous&nbsp;lemma&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_included_l"><span class="id" title="lemma">singleton_included_l</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">m'</span> /(<span class="id" title="var">_</span> <span class="id" title="var">i</span>)]; <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">x</span> <a class="idref" href="iris.algebra.cmra.html#1a22c97520a2406c907244b48b3a6ac3"><span class="id" title="notation">⋅?</span></a> <span class="id" title="var">m'</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.algebra.cmra.html#Some_op_opM"><span class="id" title="lemma">Some_op_opM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">done</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_included_l"><span class="id" title="lemma">cmra_included_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">y</span>&amp;<span class="id" title="var">Hi</span>&amp;[<span class="id" title="var">mz</span> <span class="id" title="var">Hy</span>]). <span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#partial_alter"><span class="id" title="definition">partial_alter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">mz</span>) <span class="id" title="var">i</span> <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter"><span class="id" title="method">lookup_partial_alter</span></a> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a>// <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_partial_alter_ne"><span class="id" title="method">lookup_partial_alter_ne</span></a>// <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_included_exclusive_l"><span class="id" title="lemma">singleton_included_exclusive_l</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#Exclusive"><span class="id" title="class">Exclusive</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Hm</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#singleton_included_l"><span class="id" title="lemma">singleton_included_l</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">y</span>&amp;?&amp;-&gt;%(<a class="idref" href="iris.algebra.cmra.html#Some_included_exclusive"><span class="id" title="lemma">Some_included_exclusive</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#lookup_valid_Some"><span class="id" title="lemma">lookup_valid_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_included"><span class="id" title="lemma">singleton_included</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#singleton_included_l"><span class="id" title="lemma">singleton_included_l</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (<span class="id" title="var">y'</span>&amp;<span class="id" title="var">Hi</span>&amp;?). <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#Some_included"><span class="id" title="lemma">Some_included</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?. <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <a class="idref" href="iris.algebra.cmra.html#Some_included"><span class="id" title="lemma">Some_included</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="singleton_cancelable"><span class="id" title="instance">singleton_cancelable</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">Hv</span> <span class="id" title="var">EQ</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hv</span> <span class="id" title="var">j</span>) (<span class="id" title="var">EQ</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cancelableN"><span class="id" title="definition">cancelableN</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a> // !(<a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="gmap_cancelable"><span class="id" title="instance">gmap_cancelable</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#IdFree"><span class="id" title="class">IdFree</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">n</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> ?? <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.cmra.html#cancelableN"><span class="id" title="definition">cancelableN</span></a> (<span class="id" title="var">m</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)); <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_op"><span class="id" title="lemma">insert_op</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a>(<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#insert_merge"><span class="id" title="lemma">insert_merge</span></a> <a class="idref" href="iris.algebra.cmra.html#361c73f477e1217e71a9eec062f6698d"><span class="id" title="notation">(⋅)</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> (<span class="id" title="var">x</span> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <span class="id" title="var">y</span>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>). <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_updateP"><span class="id" title="lemma">insert_updateP</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>%<a class="idref" href="iris.algebra.updates.html#option_updateP'"><span class="id" title="lemma">option_updateP'</span></a> <span class="id" title="var">HP</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.updates.html#cmra_total_updateP"><span class="id" title="lemma">cmra_total_updateP</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hx</span> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="var">mf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>))) <span class="id" title="keyword">as</span> ([<span class="id" title="var">y</span>|]&amp;?&amp;?); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">generalize</span> (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>; <span class="id" title="var">simplify_map_eq</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">i</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">y</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a> <span class="id" title="var">m</span>); <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">j</span>)=&gt;{<span class="id" title="var">Hm</span>}; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>=&gt;<span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="var">simplify_map_eq</span>/=; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_updateP'"><span class="id" title="lemma">insert_updateP'</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#insert_updateP"><span class="id" title="lemma">insert_updateP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_update"><span class="id" title="lemma">insert_update</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.updates.html#cmra_update_updateP"><span class="id" title="lemma">cmra_update_updateP</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#insert_updateP"><span class="id" title="lemma">insert_updateP</span></a> <span class="id" title="keyword">with</span> <span class="id" title="tactic">subst</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_updateP"><span class="id" title="lemma">singleton_updateP</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_updateP"><span class="id" title="lemma">insert_updateP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_updateP'"><span class="id" title="lemma">singleton_updateP'</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_updateP'"><span class="id" title="lemma">insert_updateP'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_update"><span class="id" title="lemma">singleton_update</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_update"><span class="id" title="lemma">insert_update</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_update"><span class="id" title="lemma">delete_update</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.updates.html#cmra_total_update"><span class="id" title="lemma">cmra_total_update</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hm</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_validN_op_r"><span class="id" title="lemma">cmra_validN_op_r</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_op"><span class="id" title="lemma">dom_op</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) (<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">_</span> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">_</span> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.sets.html#elem_of_equiv_L"><span class="id" title="lemma">elem_of_equiv_L</span></a>=&gt; <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.base.html#elem_of_union"><span class="id" title="method">elem_of_union</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">m1</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">m2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="dom_included"><span class="id" title="lemma">dom_included</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> : <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#7472ec14e3f8670903ae6b55a0e2f38c"><span class="id" title="notation">⊆</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> <span class="id" title="var">_</span> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_included"><span class="id" title="lemma">lookup_included</span></a>=&gt;? <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#elem_of_dom"><span class="id" title="method">elem_of_dom</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#is_Some_included"><span class="id" title="lemma">is_Some_included</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="properties.freshness"><span class="id" title="section">freshness</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type*".<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{!<a class="idref" href="../html-stdpp/stdpp.base.html#Infinite"><span class="id" title="class">Infinite</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP_strong_dep"><span class="id" title="lemma">alloc_updateP_strong_dep</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">I</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.sets.html#pred_infinite"><span class="id" title="definition">pred_infinite</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; /(<a class="idref" href="../html-stdpp/stdpp.fin_sets.html#pred_infinite_set"><span class="id" title="lemma">pred_infinite_set</span></a> <span class="id" title="var">I</span> (<span class="id" title="var">C</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>)) <span class="id" title="var">HP</span> ? <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.updates.html#cmra_total_updateP"><span class="id" title="lemma">cmra_total_updateP</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">HP</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#dom"><span class="id" title="definition">dom</span></a> (<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) (<span class="id" title="var">m</span> <a class="idref" href="iris.algebra.cmra.html#15e23efdc9fbc1bcf2fece03abcbccd7"><span class="id" title="notation">⋅</span></a> <span class="id" title="var">mf</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> [<span class="id" title="var">Hi1</span> <span class="id" title="var">Hi2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> (<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#not_elem_of_dom"><span class="id" title="lemma">not_elem_of_dom</span></a> (<span class="id" title="var">D</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>)). <span class="id" title="var">revert</span> <span class="id" title="var">Hi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#dom_op"><span class="id" title="lemma">dom_op</span></a> <a class="idref" href="../html-stdpp/stdpp.sets.html#not_elem_of_union"><span class="id" title="lemma">not_elem_of_union</span></a>. <span class="id" title="var">naive_solver</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><span class="id" title="var">i</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><span class="id" title="var">f</span> <span class="id" title="var">i</span><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><span class="id" title="var">m</span>); <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">HQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#insert_singleton_op"><span class="id" title="lemma">insert_singleton_op</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a> -<a class="idref" href="iris.algebra.gmap.html#insert_singleton_op"><span class="id" title="lemma">insert_singleton_op</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="../html-stdpp/stdpp.fin_map_dom.html#not_elem_of_dom"><span class="id" title="lemma">not_elem_of_dom</span></a> (<span class="id" title="var">D</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_validN"><span class="id" title="lemma">insert_validN</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_valid_validN"><span class="id" title="lemma">cmra_valid_validN</span></a>|]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP_strong"><span class="id" title="lemma">alloc_updateP_strong</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">I</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.sets.html#pred_infinite"><span class="id" title="definition">pred_infinite</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">HP</span> ? <span class="id" title="var">HQ</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP_strong_dep"><span class="id" title="lemma">alloc_updateP_strong_dep</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP"><span class="id" title="lemma">alloc_updateP</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">m</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt;??.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP_strong"><span class="id" title="lemma">alloc_updateP_strong</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">I</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#e2da2dc5adb39aa5394d64f0045c62a4"><span class="id" title="notation">True</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="../html-stdpp/stdpp.sets.html#pred_infinite_True"><span class="id" title="lemma">pred_infinite_True</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP_cofinite"><span class="id" title="lemma">alloc_updateP_cofinite</span></a> (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">J</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) <span class="id" title="var">m</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="iris.algebra.gmap.html#J"><span class="id" title="variable">J</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP_strong"><span class="id" title="lemma">alloc_updateP_strong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="../html-stdpp/stdpp.fin_sets.html#pred_infinite_set"><span class="id" title="lemma">pred_infinite_set</span></a> (<span class="id" title="var">C</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#fresh"><span class="id" title="definition">fresh</span></a> (<span class="id" title="var">J</span> <a class="idref" href="../html-stdpp/stdpp.base.html#e8953ae2b2281f9c2fbbd0d5d6e30fd3"><span class="id" title="notation">∪</span></a> <span class="id" title="var">E</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.sets.html#not_elem_of_union"><span class="id" title="lemma">not_elem_of_union</span></a>, <a class="idref" href="../html-stdpp/stdpp.fin_sets.html#is_fresh"><span class="id" title="lemma">is_fresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Variants&nbsp;without&nbsp;the&nbsp;universally&nbsp;quantified&nbsp;Q,&nbsp;for&nbsp;use&nbsp;in&nbsp;case&nbsp;that&nbsp;is&nbsp;an&nbsp;evar.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP_strong_dep'"><span class="id" title="lemma">alloc_updateP_strong_dep'</span></a> <span class="id" title="var">m</span> (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">I</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.sets.html#pred_infinite"><span class="id" title="definition">pred_infinite</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP_strong_dep"><span class="id" title="lemma">alloc_updateP_strong_dep</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP_strong'"><span class="id" title="lemma">alloc_updateP_strong'</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span> (<span class="id" title="var">I</span> : <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.sets.html#pred_infinite"><span class="id" title="definition">pred_infinite</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#I"><span class="id" title="variable">I</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP_strong"><span class="id" title="lemma">alloc_updateP_strong</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP'"><span class="id" title="lemma">alloc_updateP'</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP"><span class="id" title="lemma">alloc_updateP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_updateP_cofinite'"><span class="id" title="lemma">alloc_updateP_cofinite'</span></a> <span class="id" title="var">m</span> <span class="id" title="var">x</span> (<span class="id" title="var">J</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gset"><span class="id" title="definition">gset</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4291a6e02d5eff431051107aaf15194c"><span class="id" title="notation">∉</span></a> <a class="idref" href="iris.algebra.gmap.html#J"><span class="id" title="variable">J</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m'"><span class="id" title="variable">m'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#alloc_updateP_cofinite"><span class="id" title="lemma">alloc_updateP_cofinite</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.algebra.gmap.html#properties.freshness"><span class="id" title="section">freshness</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="alloc_unit_singleton_updateP"><span class="id" title="lemma">alloc_unit_singleton_updateP</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">Q</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">u</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="iris.algebra.cmra.html#361c73f477e1217e71a9eec062f6698d"><span class="id" title="notation">(⋅)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?? <span class="id" title="var">Hx</span> <span class="id" title="var">HQ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.updates.html#cmra_total_updateP"><span class="id" title="lemma">cmra_total_updateP</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">gf</span> <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hx</span> <span class="id" title="var">n</span> (<span class="id" title="var">gf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span>&amp;?&amp;<span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>:(<span class="id" title="var">Hg</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">gf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)=&gt;[<span class="id" title="var">x</span>|]; <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_valid_validN"><span class="id" title="lemma">cmra_valid_validN</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <span class="id" title="var">i</span> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <span class="id" title="var">y</span> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i'</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>:<span class="id" title="var">Hy</span>; <span class="id" title="tactic">case</span>: (<span class="id" title="var">gf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)=&gt;[<span class="id" title="var">x</span>|]; <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a> //.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>:(<span class="id" title="var">Hg</span> <span class="id" title="var">i'</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton_ne"><span class="id" title="lemma">lookup_singleton_ne</span></a> // !<a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alloc_unit_singleton_updateP'"><span class="id" title="lemma">alloc_unit_singleton_updateP'</span></a> (<span class="id" title="var">P</span>: <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">u</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="iris.algebra.cmra.html#361c73f477e1217e71a9eec062f6698d"><span class="id" title="notation">(⋅)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <a class="idref" href="iris.algebra.updates.html#b21bfa589cc1cd482c0dde3de7473f8b"><span class="id" title="notation">~~&gt;:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.algebra.gmap.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#alloc_unit_singleton_updateP"><span class="id" title="lemma">alloc_unit_singleton_updateP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="alloc_unit_singleton_update"><span class="id" title="lemma">alloc_unit_singleton_update</span></a> (<span class="id" title="var">u</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">i</span> (<span class="id" title="var">y</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#LeftId"><span class="id" title="class">LeftId</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="iris.algebra.cmra.html#361c73f477e1217e71a9eec062f6698d"><span class="id" title="notation">(⋅)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a><a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a><a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.updates.html#7322bfa5d36ce5cf12f68db819774432"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.updates.html#cmra_update_updateP"><span class="id" title="lemma">cmra_update_updateP</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#alloc_unit_singleton_updateP"><span class="id" title="lemma">alloc_unit_singleton_updateP</span></a> <span class="id" title="keyword">with</span> <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="alloc_local_update"><span class="id" title="lemma">alloc_local_update</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.cmra.html#cmra_valid_validN"><span class="id" title="lemma">cmra_valid_validN</span></a>=&gt; <span class="id" title="var">Hi</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.local_updates.html#local_update_unital"><span class="id" title="lemma">local_update_unital</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hmv</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#insert_validN"><span class="id" title="lemma">insert_validN</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">j</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi</span> <a class="idref" href="../html-stdpp/stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="iris.algebra.ofe.html#dist_None"><span class="id" title="lemma">dist_None</span></a> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="iris.algebra.cmra.html#op_None"><span class="id" title="lemma">op_None</span></a>=&gt;-[<span class="id" title="var">_</span> <span class="id" title="var">Hj</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <span class="id" title="var">Hj</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> // !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="alloc_singleton_local_update"><span class="id" title="lemma">alloc_singleton_local_update</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#6a32806bb5ca6c99ca98a26e21e8a45c"><span class="id" title="notation">✓</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#alloc_local_update"><span class="id" title="lemma">alloc_local_update</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_local_update"><span class="id" title="lemma">insert_local_update</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi1</span> <span class="id" title="var">Hi2</span> <span class="id" title="var">Hup</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.local_updates.html#local_update_unital"><span class="id" title="lemma">local_update_unital</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hmv</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hup</span> <span class="id" title="var">n</span> (<span class="id" title="var">mf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [? <span class="id" title="var">Hx'</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hmv</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi1</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <span class="id" title="var">Hi1</span> <span class="id" title="var">Hi2</span> <a class="idref" href="iris.algebra.cmra.html#Some_op_opM"><span class="id" title="lemma">Some_op_opM</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#inj_iff"><span class="id" title="lemma">inj_iff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>). }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#insert_validN"><span class="id" title="lemma">insert_validN</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <span class="id" title="var">Hx'</span>=&gt; <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a> <a class="idref" href="iris.algebra.cmra.html#Some_op_opM"><span class="id" title="lemma">Some_op_opM</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a> // !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert_ne"><span class="id" title="lemma">lookup_insert_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="singleton_local_update"><span class="id" title="lemma">singleton_local_update</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#y'"><span class="id" title="variable">y'</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="../html-stdpp/stdpp.base.html#singletonM"><span class="id" title="definition">singletonM</span></a> /<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_singleton"><span class="id" title="instance">map_singleton</span></a> -(<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#insert_insert"><span class="id" title="lemma">insert_insert</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a> <span class="id" title="var">i</span> <span class="id" title="var">y'</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.gmap.html#insert_local_update"><span class="id" title="lemma">insert_local_update</span></a>; [|<span class="id" title="tactic">eapply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_insert"><span class="id" title="lemma">lookup_insert</span></a>|].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_local_update"><span class="id" title="lemma">delete_local_update</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> `{!<a class="idref" href="iris.algebra.cmra.html#Exclusive"><span class="id" title="class">Exclusive</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.local_updates.html#local_update_unital"><span class="id" title="lemma">local_update_unital</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hmv</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#delete_validN"><span class="id" title="lemma">delete_validN</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span>=&gt; <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [&lt;-|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#symmetry_iff"><span class="id" title="lemma">symmetry_iff</span></a> <a class="idref" href="iris.algebra.ofe.html#dist_None"><span class="id" title="lemma">dist_None</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>=&gt; -[<span class="id" title="var">y</span> <span class="id" title="var">Hi'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hmv</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hm</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <span class="id" title="var">Hi</span> <span class="id" title="var">Hi'</span> -<a class="idref" href="iris.algebra.cmra.html#Some_op"><span class="id" title="definition">Some_op</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#exclusiveN_l"><span class="id" title="lemma">exclusiveN_l</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> // <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_singleton_local_update"><span class="id" title="lemma">delete_singleton_local_update</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> `{!<a class="idref" href="iris.algebra.cmra.html#Exclusive"><span class="id" title="class">Exclusive</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#delete_singleton"><span class="id" title="lemma">delete_singleton</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="iris.algebra.gmap.html#delete_local_update"><span class="id" title="lemma">delete_local_update</span></a>, <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_local_update_cancelable"><span class="id" title="lemma">delete_local_update_cancelable</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">mx</span> `{!<a class="idref" href="iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> <a class="idref" href="iris.algebra.gmap.html#mx"><span class="id" title="variable">mx</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="iris.algebra.gmap.html#mx"><span class="id" title="variable">mx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="iris.algebra.gmap.html#mx"><span class="id" title="variable">mx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm1i</span> <span class="id" title="var">Hm2i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.local_updates.html#local_update_unital"><span class="id" title="lemma">local_update_unital</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hmv</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.algebra.gmap.html#delete_validN"><span class="id" title="lemma">delete_validN</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">j</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <span class="id" title="var">Hm1i</span> <span class="id" title="var">Hm2i</span> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete"><span class="id" title="lemma">lookup_delete</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hmx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.algebra.cmra.html#cancelableN"><span class="id" title="definition">cancelableN</span></a> <span class="id" title="var">mx</span> <span class="id" title="var">n</span> (<span class="id" title="var">mf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) ?<a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a> // -<span class="id" title="var">Hmx</span> -<span class="id" title="var">Hm1i</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hmv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_delete_ne"><span class="id" title="lemma">lookup_delete_ne</span></a> // <span class="id" title="var">Hm</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="delete_singleton_local_update_cancelable"><span class="id" title="lemma">delete_singleton_local_update_cancelable</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> `{!<a class="idref" href="iris.algebra.cmra.html#Cancelable"><span class="id" title="class">Cancelable</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a>)} :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#84ed560d885c4affec56d11a371728c0"><span class="id" title="notation">≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">{[</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">:=</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#48d4c2b6ed36ec2eb2fe40dfec8e1392"><span class="id" title="notation">]}</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#delete"><span class="id" title="definition">delete</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.algebra.gmap.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#c25a9c7b1a4bc0f91edca9e331dd7eee"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#delete_singleton"><span class="id" title="lemma">delete_singleton</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.gmap.html#delete_local_update_cancelable"><span class="id" title="lemma">delete_local_update_cancelable</span></a> <span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">done</span>|<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_singleton"><span class="id" title="lemma">lookup_singleton</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gmap_fmap_mono"><span class="id" title="lemma">gmap_fmap_mono</span></a> {<span class="id" title="var">B</span> : <a class="idref" href="iris.algebra.cmra.html#cmraT"><span class="id" title="record">cmraT</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#properties.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#31928d49993c0fabf8f2b2af4d6f7e4f"><span class="id" title="notation">(≡)</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="iris.algebra.cmra.html#975a3239ce8dde2ed742ab7c72633e15"><span class="id" title="notation">≼</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ??. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.algebra.gmap.html#lookup_included"><span class="id" title="lemma">lookup_included</span></a>=&gt; <span class="id" title="var">Hm</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#option_fmap_mono"><span class="id" title="lemma">option_fmap_mono</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.algebra.gmap.html#properties"><span class="id" title="section">properties</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="unital_properties"><span class="id" title="section">unital_properties</span></a>.<br/>
<span class="id" title="keyword">Context</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> : <a class="idref" href="iris.algebra.cmra.html#ucmraT"><span class="id" title="record">ucmraT</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#unital_properties.K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#unital_properties.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.algebra.gmap.html#unital_properties.K"><span class="id" title="variable">K</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="iris.algebra.gmap.html#unital_properties.A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="insert_alloc_local_update"><span class="id" title="lemma">insert_alloc_local_update</span></a> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.cmra.html#a06c34952043eb8035c521bac955bdcc"><span class="id" title="definition">ε</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">l</span></a><a class="idref" href="iris.algebra.local_updates.html#7b688330b77f2f1841686b207881d6cb"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m1"><span class="id" title="variable">m1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">&lt;[</span></a><a class="idref" href="iris.algebra.gmap.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">:=</span></a><a class="idref" href="iris.algebra.gmap.html#y'"><span class="id" title="variable">y'</span></a><a class="idref" href="../html-stdpp/stdpp.base.html#37a2c892720a610d69547926e5ba502d"><span class="id" title="notation">]&gt;</span></a><a class="idref" href="iris.algebra.gmap.html#m2"><span class="id" title="variable">m2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hi1</span> <span class="id" title="var">Hi2</span> <span class="id" title="var">Hup</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.local_updates.html#local_update_unital"><span class="id" title="lemma">local_update_unital</span></a>=&gt; <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">Hm1v</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">mf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">≡{</span></a><span class="id" title="var">n</span><a class="idref" href="iris.algebra.ofe.html#60f52bb056360b99e8c67af5808b7928"><span class="id" title="notation">}≡</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hif</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <span class="id" title="var">Hi1</span> <span class="id" title="var">Hi2</span> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hup</span> <span class="id" title="var">n</span> (<span class="id" title="var">mf</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx'v</span> <span class="id" title="var">Hx'eq</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">move</span>: (<span class="id" title="var">Hm1v</span> <span class="id" title="var">i</span>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hi1</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hif</span> -(<a class="idref" href="../html-stdpp/stdpp.base.html#inj_iff"><span class="id" title="lemma">inj_iff</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>) -<a class="idref" href="iris.algebra.cmra.html#Some_op_opM"><span class="id" title="lemma">Some_op_opM</span></a> -<a class="idref" href="iris.algebra.cmra.html#Some_op"><span class="id" title="definition">Some_op</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#insert_validN"><span class="id" title="lemma">insert_validN</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'eq</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="iris.algebra.gmap.html#insert_idN"><span class="id" title="lemma">insert_idN</span></a> <span class="id" title="var">n</span> <span class="id" title="var">mf</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>) // -<a class="idref" href="iris.algebra.gmap.html#insert_op"><span class="id" title="lemma">insert_op</span></a> -<span class="id" title="var">Hm</span> <span class="id" title="var">Hx'eq</span> <span class="id" title="var">Hif</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.algebra.gmap.html#unital_properties"><span class="id" title="section">unital_properties</span></a>.<br/>

<br/>
</div>

<div class="doc">
Functor 
</div>
<div class="code">
<span class="id" title="keyword">Instance</span> <a name="gmap_fmap_ne"><span class="id" title="instance">gmap_fmap_ne</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="iris.algebra.ofe.html#ofeT"><span class="id" title="record">ofeT</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>) <span class="id" title="var">n</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="iris.algebra.ofe.html#dist"><span class="id" title="definition">dist</span></a> <a class="idref" href="iris.algebra.gmap.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> (<span class="id" title="var">M</span>:=<a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>) <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">Hm</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#option_fmap_ne"><span class="id" title="instance">option_fmap_ne</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="gmap_fmap_cmra_morphism"><span class="id" title="instance">gmap_fmap_cmra_morphism</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="iris.algebra.cmra.html#cmraT"><span class="id" title="record">cmraT</span></a>} (<span class="id" title="var">f</span> : <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;`{!<a class="idref" href="iris.algebra.cmra.html#CmraMorphism"><span class="id" title="class">CmraMorphism</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a>} : <a class="idref" href="iris.algebra.cmra.html#CmraMorphism"><span class="id" title="class">CmraMorphism</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.gmap.html#gmap"><span class="id" title="record">gmap</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span> ? <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>; <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.algebra.cmra.html#cmra_morphism_validN"><span class="id" title="method">cmra_morphism_validN</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.option.html#Some_proper"><span class="id" title="instance">Some_proper</span></a>=&gt;<span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_omap"><span class="id" title="method">lookup_omap</span></a> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: (<span class="id" title="var">m</span><a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a><span class="id" title="var">i</span>)=&gt;//= ?. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#cmra_morphism_pcore"><span class="id" title="method">cmra_morphism_pcore</span></a>, <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">m1</span> <span class="id" title="var">m2</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a> <a class="idref" href="iris.algebra.gmap.html#lookup_op"><span class="id" title="lemma">lookup_op</span></a> <a class="idref" href="iris.algebra.cmra.html#cmra_morphism_op"><span class="id" title="method">cmra_morphism_op</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="gmapO_map"><span class="id" title="definition">gmapO_map</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span>: <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="iris.algebra.ofe.html#4f9aea0de33270ec4d42e116b7e8098b"><span class="id" title="notation">-</span></a><a class="idref" href="iris.algebra.ofe.html#4f9aea0de33270ec4d42e116b7e8098b"><span class="id" title="notation">n</span></a><a class="idref" href="iris.algebra.ofe.html#4f9aea0de33270ec4d42e116b7e8098b"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="iris.algebra.ofe.html#4f9aea0de33270ec4d42e116b7e8098b"><span class="id" title="notation">-</span></a><a class="idref" href="iris.algebra.ofe.html#4f9aea0de33270ec4d42e116b7e8098b"><span class="id" title="notation">n</span></a><a class="idref" href="iris.algebra.ofe.html#4f9aea0de33270ec4d42e116b7e8098b"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a> := <a class="idref" href="iris.algebra.ofe.html#OfeMor"><span class="id" title="constructor">OfeMor</span></a> (<a class="idref" href="../html-stdpp/stdpp.base.html#fmap"><span class="id" title="definition">fmap</span></a> <a class="idref" href="iris.algebra.gmap.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.gmap.html#gmapO"><span class="id" title="definition">gmapO</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Instance</span> <a name="gmapO_map_ne"><span class="id" title="instance">gmapO_map_ne</span></a> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <span class="id" title="var">K</span>} {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#NonExpansive"><span class="id" title="abbreviation">NonExpansive</span></a> (@<a class="idref" href="iris.algebra.gmap.html#gmapO_map"><span class="id" title="definition">gmapO_map</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="iris.algebra.gmap.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="iris.algebra.gmap.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hf</span> <span class="id" title="var">m</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">rewrite</span> /= !<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#lookup_fmap"><span class="id" title="method">lookup_fmap</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">_</span> <a class="idref" href="../html-stdpp/stdpp.base.html#4fa0a1d38759705f0ddcbbfc0f886b59"><span class="id" title="notation">!!</span></a> <span class="id" title="var">k</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a name="gmapOF"><span class="id" title="definition">gmapOF</span></a> <span class="id" title="var">K</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>} (<span class="id" title="var">F</span> : <a class="idref" href="iris.algebra.ofe.html#oFunctor"><span class="id" title="record">oFunctor</span></a>) : <a class="idref" href="iris.algebra.ofe.html#oFunctor"><span class="id" title="record">oFunctor</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">oFunctor_car</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">A</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">B</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">:=</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">gmapO</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">K</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">(</span></a><a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">oFunctor_car</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">F</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">A</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">B</span></a><a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">oFunctor_map</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">A1</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">A2</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">B1</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">B2</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">fg</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">:=</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">gmapO_map</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">(</span></a><a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">oFunctor_map</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">F</span></a> <a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">fg</span></a><a class="idref" href="iris.algebra.ofe.html#OFunctor"><span class="id" title="constructor">)</span></a><br/>
|}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> ?? <span class="id" title="var">F</span> <span class="id" title="var">A1</span> ? <span class="id" title="var">A2</span> ? <span class="id" title="var">B1</span> ? <span class="id" title="var">B2</span> ? <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#gmapO_map_ne"><span class="id" title="instance">gmapO_map_ne</span></a>, <a class="idref" href="iris.algebra.ofe.html#oFunctor_map_ne"><span class="id" title="projection">oFunctor_map_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> ?? <span class="id" title="var">F</span> <span class="id" title="var">A</span> ? <span class="id" title="var">B</span> ? <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /= -{2}(<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_id"><span class="id" title="lemma">map_fmap_id</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_equiv_ext"><span class="id" title="lemma">map_fmap_equiv_ext</span></a>=&gt;<span class="id" title="var">y</span> ??; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#oFunctor_map_id"><span class="id" title="projection">oFunctor_map_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> ?? <span class="id" title="var">F</span> <span class="id" title="var">A1</span> ? <span class="id" title="var">A2</span> ? <span class="id" title="var">A3</span> ? <span class="id" title="var">B1</span> ? <span class="id" title="var">B2</span> ? <span class="id" title="var">B3</span> ? <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /= -<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_compose"><span class="id" title="lemma">map_fmap_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_equiv_ext"><span class="id" title="lemma">map_fmap_equiv_ext</span></a>=&gt;<span class="id" title="var">y</span> ??; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.ofe.html#oFunctor_map_compose"><span class="id" title="projection">oFunctor_map_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="gmapOF_contractive"><span class="id" title="instance">gmapOF_contractive</span></a> <span class="id" title="var">K</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>} <span class="id" title="var">F</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.ofe.html#oFunctorContractive"><span class="id" title="class">oFunctorContractive</span></a> <a class="idref" href="iris.algebra.gmap.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.ofe.html#oFunctorContractive"><span class="id" title="class">oFunctorContractive</span></a> (<a class="idref" href="iris.algebra.gmap.html#gmapOF"><span class="id" title="definition">gmapOF</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#F"><span class="id" title="variable">F</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? <span class="id" title="var">A1</span> ? <span class="id" title="var">A2</span> ? <span class="id" title="var">B1</span> ? <span class="id" title="var">B2</span> ? <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#gmapO_map_ne"><span class="id" title="instance">gmapO_map_ne</span></a>, <a class="idref" href="iris.algebra.ofe.html#oFunctor_map_contractive"><span class="id" title="definition">oFunctor_map_contractive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a name="gmapURF"><span class="id" title="definition">gmapURF</span></a> <span class="id" title="var">K</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>} (<span class="id" title="var">F</span> : <a class="idref" href="iris.algebra.cmra.html#rFunctor"><span class="id" title="record">rFunctor</span></a>) : <a class="idref" href="iris.algebra.cmra.html#urFunctor"><span class="id" title="record">urFunctor</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">urFunctor_car</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">A</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">B</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">:=</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">gmapUR</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">K</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">(</span></a><a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">rFunctor_car</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">F</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">A</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">B</span></a><a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">urFunctor_map</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">A1</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">A2</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">B1</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">B2</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">_</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">fg</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">:=</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">gmapO_map</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">(</span></a><a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">rFunctor_map</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">F</span></a> <a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">fg</span></a><a class="idref" href="iris.algebra.cmra.html#URFunctor"><span class="id" title="constructor">)</span></a><br/>
|}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> ?? <span class="id" title="var">F</span> <span class="id" title="var">A1</span> ? <span class="id" title="var">A2</span> ? <span class="id" title="var">B1</span> ? <span class="id" title="var">B2</span> ? <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#gmapO_map_ne"><span class="id" title="instance">gmapO_map_ne</span></a>, <a class="idref" href="iris.algebra.cmra.html#rFunctor_map_ne"><span class="id" title="projection">rFunctor_map_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> ?? <span class="id" title="var">F</span> <span class="id" title="var">A</span> ? <span class="id" title="var">B</span> ? <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /= -{2}(<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_id"><span class="id" title="lemma">map_fmap_id</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_equiv_ext"><span class="id" title="lemma">map_fmap_equiv_ext</span></a>=&gt;<span class="id" title="var">y</span> ??; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#rFunctor_map_id"><span class="id" title="projection">rFunctor_map_id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">K</span> ?? <span class="id" title="var">F</span> <span class="id" title="var">A1</span> ? <span class="id" title="var">A2</span> ? <span class="id" title="var">A3</span> ? <span class="id" title="var">B1</span> ? <span class="id" title="var">B2</span> ? <span class="id" title="var">B3</span> ? <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">f'</span> <span class="id" title="var">g'</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> /= -<a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_compose"><span class="id" title="lemma">map_fmap_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.fin_maps.html#map_fmap_equiv_ext"><span class="id" title="lemma">map_fmap_equiv_ext</span></a>=&gt;<span class="id" title="var">y</span> ??; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.cmra.html#rFunctor_map_compose"><span class="id" title="projection">rFunctor_map_compose</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Instance</span> <a name="gmapRF_contractive"><span class="id" title="instance">gmapRF_contractive</span></a> <span class="id" title="var">K</span> `{<a class="idref" href="../html-stdpp/stdpp.countable.html#Countable"><span class="id" title="class">Countable</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a>} <span class="id" title="var">F</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.algebra.cmra.html#rFunctorContractive"><span class="id" title="class">rFunctorContractive</span></a> <a class="idref" href="iris.algebra.gmap.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.algebra.cmra.html#urFunctorContractive"><span class="id" title="class">urFunctorContractive</span></a> (<a class="idref" href="iris.algebra.gmap.html#gmapURF"><span class="id" title="definition">gmapURF</span></a> <a class="idref" href="iris.algebra.gmap.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.algebra.gmap.html#F"><span class="id" title="variable">F</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ? <span class="id" title="var">A1</span> ? <span class="id" title="var">A2</span> ? <span class="id" title="var">B1</span> ? <span class="id" title="var">B2</span> ? <span class="id" title="var">n</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">Hfg</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.algebra.gmap.html#gmapO_map_ne"><span class="id" title="instance">gmapO_map_ne</span></a>, <a class="idref" href="iris.algebra.cmra.html#rFunctor_map_contractive"><span class="id" title="definition">rFunctor_map_contractive</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
