<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">iris.proofmode.environments</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.bi.bi.html#"><span class="id" title="library">bi</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.bi</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.bi.tactics.html#"><span class="id" title="library">tactics</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.proofmode</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.proofmode.base.html#"><span class="id" title="library">base</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.algebra.base.html#"><span class="id" title="library">base</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">bi</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="env"><span class="id" title="inductive">env</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="Enil"><span class="id" title="constructor">Enil</span></a> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;| <a name="Esnoc"><span class="id" title="constructor">Esnoc</span></a> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a>) 1 := {}.<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a>) 1 := {}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_lookup"><span class="id" title="definition">env_lookup</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.base.html#ident_beq"><span class="id" title="definition">ident_beq</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="env_notations"><span class="id" title="module">env_notations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="8bdc53c2a7bb524e916e91efa3e180ef"><span class="id" title="notation">&quot;</span></a>y ≫= f" := (<a class="idref" href="iris.proofmode.base.html#pm_option_bind"><span class="id" title="definition">pm_option_bind</span></a> <span class="id" title="var">f</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">&quot;</span></a>x ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="iris.proofmode.environments.html#8bdc53c2a7bb524e916e91efa3e180ef"><span class="id" title="notation">≫=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">&quot;</span></a>' x1 .. xn ← y ; z" := (<span class="id" title="var">y</span> <a class="idref" href="iris.proofmode.environments.html#8bdc53c2a7bb524e916e91efa3e180ef"><span class="id" title="notation">≫=</span></a> <a class="idref" href="iris.proofmode.environments.html#8bdc53c2a7bb524e916e91efa3e180ef"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">x1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> .. (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">xn</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span>) .. <a class="idref" href="iris.proofmode.environments.html#8bdc53c2a7bb524e916e91efa3e180ef"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">&quot;</span></a>Γ !! j" := (<a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <span class="id" title="var">j</span> <span class="id" title="var">Γ</span>).<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.proofmode.environments.html#env_notations"><span class="id" title="module">env_notations</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">env_notations</span>.<br/>

<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">lazy_bool_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="env_wf"><span class="id" title="inductive">env_wf</span></a> {<span class="id" title="var">A</span>} : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Enil_wf"><span class="id" title="constructor">Enil_wf</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a><br/>
&nbsp;&nbsp;| <a name="Esnoc_wf"><span class="id" title="constructor">Esnoc_wf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_to_list"><span class="id" title="definition">env_to_list</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">E</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#E"><span class="id" title="variable">E</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> | <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env_to_list</span></a> <span class="id" title="var">Γ</span> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env_to_list</span></a> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">:</span></a> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env</span></a> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">list</span></a>.<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env_to_list</span></a>) 1 := {}.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_dom"><span class="id" title="definition">env_dom</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> | <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="iris.proofmode.environments.html#env_dom"><span class="id" title="definition">env_dom</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_app"><span class="id" title="definition">env_app</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">Γapp</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γapp</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Γ'</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>) | <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_replace"><span class="id" title="definition">env_replace</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">i</span>: <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Γi</span>: <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">Γ</span>: <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.base.html#ident_beq"><span class="id" title="definition">ident_beq</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="var">Γ'</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">j</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_delete"><span class="id" title="definition">env_delete</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.base.html#ident_beq"><span class="id" title="definition">ident_beq</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">j</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_lookup_delete"><span class="id" title="definition">env_lookup_delete</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> <span class="id" title="var">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.base.html#ident_beq"><span class="id" title="definition">ident_beq</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Γ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_lookup_delete"><span class="id" title="definition">env_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <span class="id" title="var">j</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">P</span> : <a class="idref" href="iris.proofmode.environments.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <span class="id" title="var">B</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="env_Forall2_nil"><span class="id" title="constructor">env_Forall2_nil</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a><br/>
&nbsp;&nbsp;| <a name="env_Forall2_snoc"><span class="id" title="constructor">env_Forall2_snoc</span></a> <span class="id" title="var">Γ1</span> <span class="id" title="var">Γ2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="iris.proofmode.environments.html#6c0158f5c62df1db2d6c7f19ff8ac537"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.proofmode.environments.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#6c0158f5c62df1db2d6c7f19ff8ac537"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="env_subenv"><span class="id" title="inductive">env_subenv</span></a> {<span class="id" title="var">A</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <span class="id" title="var">A</span>) :=<br/>
&nbsp;&nbsp;| <a name="env_subenv_nil"><span class="id" title="constructor">env_subenv_nil</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a><br/>
&nbsp;&nbsp;| <a name="env_subenv_snoc"><span class="id" title="constructor">env_subenv_snoc</span></a> <span class="id" title="var">Γ1</span> <span class="id" title="var">Γ2</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="iris.proofmode.environments.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="iris.proofmode.environments.html#6c0158f5c62df1db2d6c7f19ff8ac537"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#6c0158f5c62df1db2d6c7f19ff8ac537"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;| <a name="env_subenv_skip"><span class="id" title="constructor">env_subenv_skip</span></a> <span class="id" title="var">Γ1</span> <span class="id" title="var">Γ2</span> <span class="id" title="var">i</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="iris.proofmode.environments.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="iris.proofmode.environments.html#6c0158f5c62df1db2d6c7f19ff8ac537"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="iris.proofmode.environments.html#bbb14d0bcc77c44a469e43c5550510ff"><span class="id" title="variable">Γ1</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#6c0158f5c62df1db2d6c7f19ff8ac537"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="env"><span class="id" title="section">env</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Esnoc_wf</span> <span class="id" title="var">Enil_wf</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simplify</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">progress</span> <span class="id" title="var">simplify_eq</span>/=<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="iris.proofmode.base.html#ident_beq"><span class="id" title="definition">ident_beq</span></a> ?<span class="id" title="var">s1</span> ?<span class="id" title="var">s2</span>] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.base.html#ident_beq_reflect"><span class="id" title="lemma">ident_beq_reflect</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>)<br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="iris.proofmode.base.html#ident_beq"><span class="id" title="definition">ident_beq</span></a> ?<span class="id" title="var">s1</span> ?<span class="id" title="var">s2</span>] =&gt; <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.base.html#ident_beq_reflect"><span class="id" title="lemma">ident_beq_reflect</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span> [<a class="idref" href="iris.proofmode.base.html#pm_option_bind"><span class="id" title="definition">pm_option_bind</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">x</span>] |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>:?<br/>
&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="iris.proofmode.base.html#pm_option_bind"><span class="id" title="definition">pm_option_bind</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">x</span>] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>:?<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="var">case_match</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_perm"><span class="id" title="lemma">env_lookup_perm</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> : <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="../html-stdpp/stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">rewrite</span> 1?<a class="idref" href="../html-stdpp/stdpp.list.html#Permutation_swap"><span class="id" title="definition">Permutation_swap</span></a>; <span class="id" title="var">f_equiv</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_snoc"><span class="id" title="lemma">env_lookup_snoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">P</span> : <a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_snoc_ne"><span class="id" title="lemma">env_lookup_snoc_ne</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>=&gt; ?; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_app_perm"><span class="id" title="lemma">env_app_perm</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γapp</span> <span class="id" title="var">Γ'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env_to_list</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="../html-stdpp/stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Γapp</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_app_fresh"><span class="id" title="lemma">env_app_fresh</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γapp</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γapp</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_app_fresh_1"><span class="id" title="lemma">env_app_fresh_1</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γapp</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γapp</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_app_disjoint"><span class="id" title="lemma">env_app_disjoint</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γapp</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γapp</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_fresh_1"><span class="id" title="lemma">env_app_fresh_1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_app_wf"><span class="id" title="lemma">env_app_wf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γapp</span> <span class="id" title="var">Γ'</span> : <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#bf64c01fbf09684167ebeb8d97809774"><span class="id" title="variable">Γapp</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γapp</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_replace_fresh"><span class="id" title="lemma">env_replace_fresh</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γj</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#a45d7b7796b5bddf096ef0e1fc7efcdc"><span class="id" title="variable">Γj</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#a45d7b7796b5bddf096ef0e1fc7efcdc"><span class="id" title="variable">Γj</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_fresh"><span class="id" title="lemma">env_app_fresh</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_replace_wf"><span class="id" title="lemma">env_replace_wf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γi</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span> ??; <span class="id" title="var">simplify</span>; [|<span class="id" title="tactic">inversion_clear</span> 1];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_wf"><span class="id" title="lemma">env_app_wf</span></a>, <a class="idref" href="iris.proofmode.environments.html#env_replace_fresh"><span class="id" title="lemma">env_replace_fresh</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_replace_lookup"><span class="id" title="lemma">env_replace_lookup</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γi</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_replace_perm"><span class="id" title="lemma">env_replace_perm</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γi</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="../html-stdpp/stdpp.list.html#818f1d1d969a9fd3e79a8695ff497318"><span class="id" title="notation">≡ₚ</span></a> <a class="idref" href="iris.proofmode.environments.html#f9081aef22a9f803dd4d65c7276a36dc"><span class="id" title="variable">Γi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ'</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Γ</span> <span class="id" title="var">IH</span> <span class="id" title="var">j</span> <span class="id" title="var">y</span>]=&gt;<span class="id" title="var">Γ'</span> ?; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_perm"><span class="id" title="lemma">env_app_perm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Sorting.Permutation.html#Permutation_middle"><span class="id" title="lemma">Permutation_middle</span></a> -<span class="id" title="var">IH</span> //.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_delete_correct"><span class="id" title="lemma">env_lookup_delete_correct</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_lookup_delete"><span class="id" title="definition">env_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_delete_Some"><span class="id" title="lemma">env_lookup_delete_Some</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_lookup_delete"><span class="id" title="definition">env_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.proofmode.environments.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_delete_correct"><span class="id" title="lemma">env_lookup_delete_correct</span></a>; <span class="id" title="var">simplify</span>; <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_env_delete"><span class="id" title="lemma">env_lookup_env_delete</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> : <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_lookup_env_delete_ne"><span class="id" title="lemma">env_lookup_env_delete_ne</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> : <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_delete_fresh"><span class="id" title="lemma">env_delete_fresh</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> : <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_delete_wf"><span class="id" title="lemma">env_delete_wf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">j</span> : <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">simplify</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_delete_fresh"><span class="id" title="lemma">env_delete_fresh</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_Forall2_refl"><span class="id" title="instance">env_Forall2_refl</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">Γ</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_Forall2_sym"><span class="id" title="instance">env_Forall2_sym</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 2; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_Forall2_trans"><span class="id" title="instance">env_Forall2_trans</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">Γ1</span> <span class="id" title="var">Γ2</span> <span class="id" title="var">Γ3</span> <span class="id" title="var">HΓ</span>; <span class="id" title="var">revert</span> <span class="id" title="var">Γ3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">HΓ</span>; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_Forall2_antisymm"><span class="id" title="instance">env_Forall2_antisymm</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#AntiSymm"><span class="id" title="class">AntiSymm</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#AntiSymm"><span class="id" title="class">AntiSymm</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 2; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_Forall2_impl"><span class="id" title="lemma">env_Forall2_impl</span></a> {<span class="id" title="var">B</span>} (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">Γ</span> <span class="id" title="var">Σ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.proofmode.environments.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.proofmode.environments.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="iris.proofmode.environments.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="Esnoc_proper"><span class="id" title="instance">Esnoc_proper</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ1</span> <span class="id" title="var">Γ2</span> <span class="id" title="var">HΓ</span> <span class="id" title="var">i</span> ? &lt;-; <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_to_list_proper"><span class="id" title="instance">env_to_list_proper</span></a> (<span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env_to_list</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_Forall2_fresh"><span class="id" title="lemma">env_Forall2_fresh</span></a> {<span class="id" title="var">B</span>} (<span class="id" title="var">P</span> : <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">Γ</span> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">simplify</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_Forall2_wf"><span class="id" title="lemma">env_Forall2_wf</span></a> {<span class="id" title="var">B</span>} (<span class="id" title="var">P</span> : <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">Γ</span> <span class="id" title="var">Σ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_Forall2_fresh"><span class="id" title="lemma">env_Forall2_fresh</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_subenv_fresh"><span class="id" title="lemma">env_subenv_fresh</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Σ</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">induction</span> 1; <span class="id" title="var">simplify</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_subenv_wf"><span class="id" title="lemma">env_subenv_wf</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Σ</span> : <a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_subenv_fresh"><span class="id" title="lemma">env_subenv_fresh</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_to_list_subenv_proper"><span class="id" title="instance">env_to_list_subenv_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_subenv"><span class="id" title="inductive">env_subenv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="../html-stdpp/stdpp.list.html#sublist"><span class="id" title="inductive">sublist</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#env_to_list"><span class="id" title="definition">env_to_list</span></a> <a class="idref" href="iris.proofmode.environments.html#env.A"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="section">env</span></a>.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="envs"><span class="id" title="record">envs</span></a> (<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>) := <a name="Envs"><span class="id" title="constructor">Envs</span></a> {<br/>
&nbsp;&nbsp;<a name="env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>;<br/>
&nbsp;&nbsp;<a name="env_spatial"><span class="id" title="projection">env_spatial</span></a> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>;<br/>
&nbsp;&nbsp;<a name="env_counter"><span class="id" title="projection">env_counter</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> </div>

<div class="doc">
A counter to generate fresh hypothesis names 
</div>
<div class="code">
}.<br/>
<span class="id" title="keyword">Add</span> <span class="id" title="keyword">Printing</span> <span class="id" title="var">Constructor</span> <span class="id" title="var">envs</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#env_counter"><span class="id" title="projection">env_counter</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>

<br/>
</div>

<div class="doc">
We now define the judgment <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.ltac_tactics.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#Q"><span class="id" title="variable">Q</span></a></span> for proof mode entailments.
This judgment expresses that <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#Q"><span class="id" title="variable">Q</span></a></span> can be proved under the proof mode environment
<span class="inlinecode"><a class="idref" href="iris.proofmode.ltac_tactics.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a></span>. To improve performance and to encapsulate the internals of the proof mode
(i.e. to ensure that tactics like <span class="inlinecode"><span class="id" title="tactic">intro</span></span> cannot accidentally unfold the
entailment), we seal off <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a></span>.

<div class="paragraph"> </div>

The way the the definitions below are setup involves some trickery so we can
implement the <span class="inlinecode"><span class="id" title="var">iFresh</span></span> tactic, which increases the counter <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#env_counter"><span class="id" title="projection">env_counter</span></a></span>, in
an efficient way. Concretely, we made sure that <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.si_logic.siprop.html#c"><span class="id" title="variable">c</span></a>)</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#Q"><span class="id" title="variable">Q</span></a></span>
and <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a></span> <span class="inlinecode"><span class="id" title="var">c'</span>)</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#Q"><span class="id" title="variable">Q</span></a></span> are convertible for any <span class="inlinecode"><a class="idref" href="iris.si_logic.siprop.html#c"><span class="id" title="variable">c</span></a></span> and <span class="inlinecode"><span class="id" title="var">c'</span></span>. This
way, <span class="inlinecode"><span class="id" title="var">iFresh</span></span> can simply be implemented by changing the goal from
<span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.si_logic.siprop.html#c"><span class="id" title="variable">c</span></a>)</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#Q"><span class="id" title="variable">Q</span></a></span> into <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.coq_tactics.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a></span> <span class="inlinecode">(<a class="idref" href="iris.proofmode.base.html#Pos_succ"><span class="id" title="definition">Pos_succ</span></a></span> <span class="inlinecode"><a class="idref" href="iris.si_logic.siprop.html#c"><span class="id" title="variable">c</span></a>))</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#Q"><span class="id" title="variable">Q</span></a></span>
using the tactic <span class="inlinecode"><span class="id" title="var">convert_concl_no_check</span></span>. This way, the generated proof term
contains no additional steps for changing the counter.

<div class="paragraph"> </div>

For all definitions below, we first define a version that take the two contexts
<span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a></span> and <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a></span> as its arguments, and then lift these
definitions that take the whole proof mode context <span class="inlinecode"><a class="idref" href="iris.proofmode.ltac_tactics.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a></span> <span class="inlinecode">:</span> <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="section">envs</span></a></span> <span class="inlinecode"><a class="idref" href="iris.proofmode.modalities.html#PROP"><span class="id" title="variable">PROP</span></a></span>. This is
crucial to make sure that the counter <span class="inlinecode"><a class="idref" href="iris.proofmode.environments.html#env_counter"><span class="id" title="projection">env_counter</span></a></span> is not part of the seal. 
</div>
<div class="code">
<span class="id" title="keyword">Record</span> <a name="envs_wf'"><span class="id" title="record">envs_wf'</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) := {<br/>
&nbsp;&nbsp;<a name="env_intuitionistic_valid"><span class="id" title="projection">env_intuitionistic_valid</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a>;<br/>
&nbsp;&nbsp;<a name="env_spatial_valid"><span class="id" title="projection">env_spatial_valid</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_wf"><span class="id" title="inductive">env_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a>;<br/>
&nbsp;&nbsp;<a name="envs_disjoint"><span class="id" title="projection">envs_disjoint</span></a> <span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
}.<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_wf"><span class="id" title="definition">envs_wf</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_wf'"><span class="id" title="record">envs_wf'</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="of_envs'"><span class="id" title="definition">of_envs'</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.proofmode.environments.html#envs_wf'"><span class="id" title="record">envs_wf'</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a>)%<span class="id" title="var">I</span>.<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="iris.proofmode.environments.html#of_envs'"><span class="id" title="definition">of_envs'</span></a>) 1 := {}.<br/>
<span class="id" title="keyword">Definition</span> <a name="of_envs"><span class="id" title="definition">of_envs</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs'"><span class="id" title="definition">of_envs'</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a>) 1 := {}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_entails_aux"><span class="id" title="definition">envs_entails_aux</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#seal"><span class="id" title="record">seal</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>) (<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Q</span> : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">),</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs'"><span class="id" title="definition">of_envs'</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">eexists</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_entails"><span class="id" title="definition">envs_entails</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Q</span> : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_entails_aux"><span class="id" title="definition">envs_entails_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#unseal"><span class="id" title="projection">unseal</span></a>) <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_entails_eq"><span class="id" title="definition">envs_entails_eq</span></a> :<br/>
&nbsp;&nbsp;@<a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <span class="id" title="var">PROP</span> (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) <span class="id" title="var">Q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_entails_aux"><span class="id" title="definition">envs_entails_aux</span></a>.(<a class="idref" href="../html-stdpp/stdpp.base.html#seal_eq"><span class="id" title="projection">seal_eq</span></a>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> {<span class="id" title="var">PROP</span>} <span class="id" title="var">Δ</span> <span class="id" title="var">Q</span>%<span class="id" title="var">I</span> : <span class="id" title="tactic">rename</span>.<br/>
<span class="id" title="keyword">Instance</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a>) 1 := {}.<br/>

<br/>
<span class="id" title="keyword">Record</span> <a name="envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) := {<br/>
&nbsp;&nbsp;<a name="env_intuitionistic_Forall2"><span class="id" title="projection">env_intuitionistic_Forall2</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a>);<br/>
&nbsp;&nbsp;<a name="env_spatial_Forall2"><span class="id" title="projection">env_spatial_Forall2</span></a> : <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a>)<br/>
}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_dom"><span class="id" title="definition">envs_dom</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_dom"><span class="id" title="definition">env_dom</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="iris.proofmode.environments.html#env_dom"><span class="id" title="definition">env_dom</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_lookup"><span class="id" title="definition">envs_lookup</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">Γp</span>,<span class="id" title="var">Γs</span>,<span class="id" title="var">n</span>) := <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">P</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="var">P</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_lookup"><span class="id" title="definition">env_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_delete"><span class="id" title="definition">envs_delete</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">remove_intuitionistic</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">Γp</span>,<span class="id" title="var">Γs</span>,<span class="id" title="var">n</span>) := <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#remove_intuitionistic"><span class="id" title="variable">remove_intuitionistic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a>) <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_delete"><span class="id" title="definition">env_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a>) <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">remove_intuitionistic</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">Γp</span>,<span class="id" title="var">Γs</span>,<span class="id" title="var">n</span>) := <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_delete"><span class="id" title="definition">env_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Γp'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#remove_intuitionistic"><span class="id" title="variable">remove_intuitionistic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <span class="id" title="var">Γp'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a>) <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Γs'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_lookup_delete"><span class="id" title="definition">env_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#adf4edb97d20c301a5ac223e9916e1cd"><span class="id" title="variable">Γs'</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">remove_intuitionistic</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">js</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">js</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Δ'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#remove_intuitionistic"><span class="id" title="variable">remove_intuitionistic</span></a> <span class="id" title="var">j</span> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Ps</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Δ''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> <a class="idref" href="iris.proofmode.environments.html#remove_intuitionistic"><span class="id" title="variable">remove_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#aa29756c204fcaf8f6a795489d4b92a9"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#aa29756c204fcaf8f6a795489d4b92a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#aa29756c204fcaf8f6a795489d4b92a9"><span class="id" title="notation">&amp;&amp;&amp;</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="iris.proofmode.environments.html#Ps"><span class="id" title="variable">Ps</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#4f19051cc735bc20f076e5561be97384"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_snoc"><span class="id" title="definition">envs_snoc</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">j</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">P</span> : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">Γp</span>,<span class="id" title="var">Γs</span>,<span class="id" title="var">n</span>) := <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_app"><span class="id" title="definition">envs_app</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">Γp</span>,<span class="id" title="var">Γs</span>,<span class="id" title="var">n</span>) := <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <span class="id" title="var">_</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <span class="id" title="var">Γp'</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e8c503a96d5e6dd866e90fe7c63d8705"><span class="id" title="variable">Γp'</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <span class="id" title="var">_</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <span class="id" title="var">Γs'</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#adf4edb97d20c301a5ac223e9916e1cd"><span class="id" title="variable">Γs'</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">Γp</span>,<span class="id" title="var">Γs</span>,<span class="id" title="var">n</span>) := <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> =&gt; <span class="id" title="var">_</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <span class="id" title="var">Γp'</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e8c503a96d5e6dd866e90fe7c63d8705"><span class="id" title="variable">Γp'</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> =&gt; <span class="id" title="var">_</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <span class="id" title="var">Γs'</span> <a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#3c432e860f49c8796d4c4cb0d0731c76"><span class="id" title="variable">Γs</span></a><a class="idref" href="iris.proofmode.environments.html#849afcbbf61b1bcccbea61fca2322702"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0d3fa9039c1012bdcbfd075a7e070ad2"><span class="id" title="variable">Γp</span></a> <a class="idref" href="iris.proofmode.environments.html#adf4edb97d20c301a5ac223e9916e1cd"><span class="id" title="variable">Γs'</span></a> <a class="idref" href="iris.proofmode.environments.html#n"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_replace"><span class="id" title="definition">envs_replace</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">p</span> <span class="id" title="var">q</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.base.html#beq"><span class="id" title="definition">beq</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="env_spatial_is_nil"><span class="id" title="definition">env_spatial_is_nil</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_counter"><span class="id" title="projection">env_counter</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_clear_intuitionistic"><span class="id" title="definition">envs_clear_intuitionistic</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_counter"><span class="id" title="projection">env_counter</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="envs_incr_counter"><span class="id" title="definition">envs_incr_counter</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) (<a class="idref" href="iris.proofmode.base.html#Pos_succ"><span class="id" title="definition">Pos_succ</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_counter"><span class="id" title="projection">env_counter</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="envs_split_go"><span class="id" title="definition">envs_split_go</span></a> {<span class="id" title="var">PROP</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">js</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">js</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Δ1'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">j</span> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a><a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_split_go"><span class="id" title="definition">envs_split_go</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_split_go"><span class="id" title="definition">envs_split_go</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#05cd85bc4ff32cb9117653bfbeb2bfe7"><span class="id" title="variable">Δ1'</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">j</span> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="comment">(*&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Right</span></span>&nbsp;then&nbsp;<span class="inlinecode"><span class="id" title="var">result</span></span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="var">remaining</span></span> <span class="inlinecode"><span class="id" title="var">hyps</span>,</span> <span class="inlinecode"><span class="id" title="var">hyps</span></span> <span class="inlinecode"><span class="id" title="var">named</span></span> <span class="inlinecode"><span class="id" title="var">js</span>)</span>&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">Left</span></span>&nbsp;then&nbsp;<span class="inlinecode"><span class="id" title="var">result</span></span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="var">hyps</span></span> <span class="inlinecode"><span class="id" title="var">named</span></span> <span class="inlinecode"><span class="id" title="var">js</span>,</span> <span class="inlinecode"><span class="id" title="var">remaining</span></span> <span class="inlinecode"><span class="id" title="var">hyps</span>)</span>&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="envs_split"><span class="id" title="definition">envs_split</span></a> {<span class="id" title="var">PROP</span>} (<span class="id" title="var">d</span> : <a class="idref" href="iris.proofmode.base.html#direction"><span class="id" title="inductive">direction</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">js</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.proofmode.base.html#ident.ident"><span class="id" title="inductive">ident</span></a>) (<span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Δ1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">Δ2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_split_go"><span class="id" title="definition">envs_split_go</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>)<a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="iris.proofmode.environments.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="iris.proofmode.base.html#Right"><span class="id" title="constructor">Right</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_to_prop_go"><span class="id" title="definition">env_to_prop_go</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">acc</span> : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="iris.proofmode.environments.html#acc"><span class="id" title="variable">acc</span></a> | <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> =&gt; <a class="idref" href="iris.proofmode.environments.html#env_to_prop_go"><span class="id" title="definition">env_to_prop_go</span></a> (<span class="id" title="var">P</span> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#acc"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="env_to_prop"><span class="id" title="definition">env_to_prop</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="iris.bi.interface.html#8df71acffaf065fb9ed35fb4f412b070"><span class="id" title="notation">emp</span></a>%<span class="id" title="var">I</span> | <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> =&gt; <a class="idref" href="iris.proofmode.environments.html#env_to_prop_go"><span class="id" title="definition">env_to_prop_go</span></a> <span class="id" title="var">P</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="env_to_prop_and_go"><span class="id" title="definition">env_to_prop_and_go</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">acc</span> : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="iris.proofmode.environments.html#acc"><span class="id" title="variable">acc</span></a> | <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> =&gt; <a class="idref" href="iris.proofmode.environments.html#env_to_prop_and_go"><span class="id" title="definition">env_to_prop_and_go</span></a> (<span class="id" title="var">P</span> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.proofmode.environments.html#acc"><span class="id" title="variable">acc</span></a>)%<span class="id" title="var">I</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="env_to_prop_and"><span class="id" title="definition">env_to_prop_and</span></a> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>} (<span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a>) : <a class="idref" href="iris.proofmode.environments.html#PROP"><span class="id" title="variable">PROP</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> =&gt; <a class="idref" href="iris.bi.interface.html#1fb20ec9249c1b9a628d0af33d4b6be7"><span class="id" title="notation">True</span></a>%<span class="id" title="var">I</span> | <a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span> =&gt; <a class="idref" href="iris.proofmode.environments.html#env_to_prop_and_go"><span class="id" title="definition">env_to_prop_and_go</span></a> <span class="id" title="var">P</span> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="envs"><span class="id" title="section">envs</span></a>.<br/>
<span class="id" title="keyword">Context</span> {<span class="id" title="var">PROP</span> : <a class="idref" href="iris.bi.interface.html#bi"><span class="id" title="record">bi</span></a>}.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span> : <a class="idref" href="iris.proofmode.environments.html#env"><span class="id" title="inductive">env</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="record">envs</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a> <span class="id" title="var">Δ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>)%<span class="id" title="var">I</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
An environment is a ∗ of something intuitionistic and the spatial environment.
TODO: Can we define it as such? 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="of_envs_eq'"><span class="id" title="lemma">of_envs_eq'</span></a> <span class="id" title="var">Δ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistent_and_sep_assoc"><span class="id" title="lemma">persistent_and_sep_assoc</span></a> //. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_Forall2_refl"><span class="id" title="instance">envs_Forall2_refl</span></a> (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_Forall2_sym"><span class="id" title="instance">envs_Forall2_sym</span></a> (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??? [??]; <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_Forall2_trans"><span class="id" title="instance">envs_Forall2_trans</span></a> (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??? [??] [??] [??]; <span class="id" title="tactic">constructor</span>; <span class="id" title="var">etrans</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_Forall2_antisymm"><span class="id" title="instance">envs_Forall2_antisymm</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">R'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="../html-stdpp/stdpp.base.html#AntiSymm"><span class="id" title="class">AntiSymm</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.proofmode.environments.html#R'"><span class="id" title="variable">R'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#AntiSymm"><span class="id" title="class">AntiSymm</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R'"><span class="id" title="variable">R'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ??? [??] [??]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#anti_symm"><span class="id" title="definition">anti_symm</span></a> <span class="id" title="var">_</span>). <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_Forall2_impl"><span class="id" title="lemma">envs_Forall2_impl</span></a> (<span class="id" title="var">R</span> <span class="id" title="var">R'</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>) <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">P</span> <span class="id" title="var">Q</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#R'"><span class="id" title="variable">R'</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R'"><span class="id" title="variable">R'</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [??] ?; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_Forall2_impl"><span class="id" title="lemma">env_Forall2_impl</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_intuitionistic_mono"><span class="id" title="instance">env_intuitionistic_mono</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_intuitionistic_flip_mono"><span class="id" title="instance">env_intuitionistic_flip_mono</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)) (@<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_intuitionistic_proper"><span class="id" title="instance">env_intuitionistic_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#env_intuitionistic"><span class="id" title="projection">env_intuitionistic</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_spatial_mono"><span class="id" title="instance">env_spatial_mono</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_spatial_flip_mono"><span class="id" title="instance">env_spatial_flip_mono</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>)) (@<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="env_spatial_proper"><span class="id" title="instance">env_spatial_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="of_envs_mono'"><span class="id" title="instance">of_envs_mono'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#of_envs'"><span class="id" title="definition">of_envs'</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γp1</span> <span class="id" title="var">Γp2</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Γs1</span> <span class="id" title="var">Γs2</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.and_mono"><span class="id" title="lemma">and_mono</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_mono"><span class="id" title="lemma">pure_mono</span></a>=&gt; -[???]. <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_Forall2_wf"><span class="id" title="lemma">env_Forall2_wf</span></a>, <a class="idref" href="iris.proofmode.environments.html#env_Forall2_fresh"><span class="id" title="lemma">env_Forall2_fresh</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">repeat</span> <span class="id" title="var">f_equiv</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="of_envs_proper'"><span class="id" title="instance">of_envs_proper'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#of_envs'"><span class="id" title="definition">of_envs'</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γp1</span> <span class="id" title="var">Γp2</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Γs1</span> <span class="id" title="var">Γs2</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#anti_symm"><span class="id" title="definition">anti_symm</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>); <span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#of_envs_mono'"><span class="id" title="instance">of_envs_mono'</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2_impl"><span class="id" title="lemma">env_Forall2_impl</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>); <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.equiv_entails"><span class="id" title="lemma">equiv_entails</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="of_envs_mono"><span class="id" title="instance">of_envs_mono</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="of_envs_proper"><span class="id" title="instance">of_envs_proper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="Envs_proper"><span class="id" title="instance">Envs_proper</span></a> (<span class="id" title="var">R</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#env_Forall2"><span class="id" title="inductive">env_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.proofmode.environments.html#R"><span class="id" title="variable">R</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#Envs"><span class="id" title="constructor">Envs</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_entails_proper"><span class="id" title="instance">envs_entails_proper</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_entails_eq"><span class="id" title="definition">envs_entails_eq</span></a>. <span class="id" title="var">solve_proper</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_entails_mono"><span class="id" title="instance">envs_entails_mono</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_entails_eq"><span class="id" title="definition">envs_entails_eq</span></a>=&gt; <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> ? <span class="id" title="var">P1</span> <span class="id" title="var">P2</span> &lt;- &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Global Instance</span> <a name="envs_entails_flip_mono"><span class="id" title="instance">envs_entails_flip_mono</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="iris.bi.interface.html#483c3ba497d1de9dae43a4b1098eeeea"><span class="id" title="notation">(⊢)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (@<a class="idref" href="iris.proofmode.environments.html#envs_entails"><span class="id" title="definition">envs_entails</span></a> <a class="idref" href="iris.proofmode.environments.html#envs.PROP"><span class="id" title="variable">PROP</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_entails_eq"><span class="id" title="definition">envs_entails_eq</span></a>=&gt; <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> ? <span class="id" title="var">P1</span> <span class="id" title="var">P2</span> &lt;- &lt;-. <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_delete_intuitionistic"><span class="id" title="lemma">envs_delete_intuitionistic</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> : <a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_delete_spatial"><span class="id" title="lemma">envs_delete_spatial</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_delete_Some"><span class="id" title="lemma">envs_lookup_delete_Some</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">rp</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>]; <span class="id" title="tactic">rewrite</span> /= !<a class="idref" href="iris.proofmode.environments.html#env_lookup_delete_correct"><span class="id" title="lemma">env_lookup_delete_correct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>), (<span class="id" title="var">Γs</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_sound'"><span class="id" title="lemma">envs_lookup_sound'</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">rp</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>=&gt;?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim_l"><span class="id" title="lemma">pure_elim_l</span></a>=&gt; <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_True"><span class="id" title="lemma">pure_True</span></a> ?<a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>, <span class="id" title="var">rp</span>; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_delete_wf"><span class="id" title="lemma">env_delete_wf</span></a>, <a class="idref" href="iris.proofmode.environments.html#env_delete_fresh"><span class="id" title="lemma">env_delete_fresh</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">rp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_lookup_perm"><span class="id" title="lemma">env_lookup_perm</span></a> <span class="id" title="var">Γp</span>) //= <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_and"><span class="id" title="lemma">intuitionistically_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.and_sep_intuitionistically"><span class="id" title="lemma">and_sep_intuitionistically</span></a> -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_sep_dup"><span class="id" title="lemma">intuitionistically_sep_dup</span></a> {1}(<a class="idref" href="iris.proofmode.environments.html#env_lookup_perm"><span class="id" title="lemma">env_lookup_perm</span></a> <span class="id" title="var">Γp</span>) //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_and"><span class="id" title="lemma">intuitionistically_and</span></a> <a class="idref" href="iris.bi.interface.html#bi.and_elim_l"><span class="id" title="lemma">and_elim_l</span></a> -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γs</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_True"><span class="id" title="lemma">pure_True</span></a> ?<a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>; <span class="id" title="var">last</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_delete_wf"><span class="id" title="lemma">env_delete_wf</span></a>, <a class="idref" href="iris.proofmode.environments.html#env_delete_fresh"><span class="id" title="lemma">env_delete_fresh</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_lookup_perm"><span class="id" title="lemma">env_lookup_perm</span></a> <span class="id" title="var">Γs</span>) //=. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a> -(<a class="idref" href="../html-stdpp/stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">P</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound'"><span class="id" title="lemma">envs_lookup_sound'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_intuitionistic_sound"><span class="id" title="lemma">envs_lookup_intuitionistic_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> ?%(<a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound'"><span class="id" title="lemma">envs_lookup_sound'</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>). <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_sound_2"><span class="id" title="lemma">envs_lookup_sound_2</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>=&gt;<span class="id" title="var">Hwf</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌜</span></a><a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <span class="id" title="var">Δ</span><a class="idref" href="iris.bi.interface.html#08ba0c98aaa0db435a5f99ebae3ae8e7"><span class="id" title="notation">⌝</span></a>%<span class="id" title="var">I</span>]<a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_True"><span class="id" title="lemma">pure_True</span></a> // <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_lookup_perm"><span class="id" title="lemma">env_lookup_perm</span></a> <span class="id" title="var">Γp</span>) //= <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_and"><span class="id" title="lemma">intuitionistically_and</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.derived_laws_bi.html#bi.and_sep_intuitionistically"><span class="id" title="lemma">and_sep_intuitionistically</span></a> <a class="idref" href="iris.bi.interface.html#bi.and_elim_r"><span class="id" title="lemma">and_elim_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cancel</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>%<span class="id" title="var">I</span>. <span class="id" title="var">solve_sep_entails</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γs</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_lookup_perm"><span class="id" title="lemma">env_lookup_perm</span></a> <span class="id" title="var">Γs</span>) //= <a class="idref" href="iris.bi.interface.html#bi.and_elim_r"><span class="id" title="lemma">and_elim_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cancel</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>. <span class="id" title="var">solve_sep_entails</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_split"><span class="id" title="lemma">envs_lookup_split</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim"><span class="id" title="lemma">pure_elim</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.and_elim_l"><span class="id" title="lemma">and_elim_l</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a>//.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.sep_mono_r"><span class="id" title="lemma">sep_mono_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>, <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound_2"><span class="id" title="lemma">envs_lookup_sound_2</span></a>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_delete_sound"><span class="id" title="lemma">envs_lookup_delete_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">rp</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> [? -&gt;]%<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_Some"><span class="id" title="lemma">envs_lookup_delete_Some</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound'"><span class="id" title="lemma">envs_lookup_sound'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_delete_list_sound"><span class="id" title="lemma">envs_lookup_delete_list_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">rp</span> <span class="id" title="var">js</span> <span class="id" title="var">p</span> <span class="id" title="var">Ps</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#Ps"><span class="id" title="variable">Ps</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#Ps"><span class="id" title="variable">Ps</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">p</span> <span class="id" title="var">Ps</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">js</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">j</span> <span class="id" title="var">js</span> <span class="id" title="var">IH</span>]=&gt; <span class="id" title="var">Δ</span> <span class="id" title="var">Δ''</span> <span class="id" title="var">p</span> <span class="id" title="var">Ps</span> ?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_emp"><span class="id" title="lemma">intuitionistically_emp</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#left_id"><span class="id" title="definition">left_id</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <span class="id" title="var">rp</span> <span class="id" title="var">j</span> <span class="id" title="var">Δ</span>) <span class="id" title="keyword">as</span> [[[<span class="id" title="var">q1</span> <span class="id" title="var">P</span>] <span class="id" title="var">Δ'</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hj</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_Some"><span class="id" title="lemma">envs_lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hj</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hj</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> <span class="id" title="var">_</span> <span class="id" title="var">js</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [[[<span class="id" title="var">q2</span> <span class="id" title="var">Ps'</span>] ?]|] <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_if_sep_2"><span class="id" title="lemma">intuitionistically_if_sep_2</span></a> -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound'"><span class="id" title="lemma">envs_lookup_sound'</span></a> //; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.sep_mono"><span class="id" title="lemma">sep_mono</span></a>=&gt;//; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_if_flag_mono"><span class="id" title="lemma">intuitionistically_if_flag_mono</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">q1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_delete_list_cons"><span class="id" title="lemma">envs_lookup_delete_list_cons</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">Δ''</span> <span class="id" title="var">rp</span> <span class="id" title="var">j</span> <span class="id" title="var">js</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">P</span> <span class="id" title="var">Ps</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p1"><span class="id" title="variable">p1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#Ps"><span class="id" title="variable">Ps</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#4f19051cc735bc20f076e5561be97384"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> (<a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a>) <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#aa29756c204fcaf8f6a795489d4b92a9"><span class="id" title="notation">&amp;&amp;&amp;</span></a> <a class="idref" href="iris.proofmode.environments.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="iris.proofmode.environments.html#Ps"><span class="id" title="variable">Ps</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="iris.proofmode.environments.html#4f19051cc735bc20f076e5561be97384"><span class="id" title="variable">Δ''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> //= =&gt; -&gt; //= -&gt; //=. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_delete_list_nil"><span class="id" title="lemma">envs_lookup_delete_list_nil</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">rp</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_list"><span class="id" title="definition">envs_lookup_delete_list</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_snoc"><span class="id" title="lemma">envs_lookup_snoc</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a>=&gt; ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], <span class="id" title="var">p</span>, (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_snoc"><span class="id" title="lemma">env_lookup_snoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_snoc_ne"><span class="id" title="lemma">envs_lookup_snoc_ne</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a>=&gt; ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], <span class="id" title="var">p</span>; <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_snoc_ne"><span class="id" title="lemma">env_lookup_snoc_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_snoc_sound"><span class="id" title="lemma">envs_snoc_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_snoc"><span class="id" title="definition">envs_snoc</span></a> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>=&gt; ?; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim_l"><span class="id" title="lemma">pure_elim_l</span></a>=&gt; <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?, (<span class="id" title="var">Γs</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#Esnoc_wf"><span class="id" title="constructor">Esnoc_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.base.html#ident_beq_reflect"><span class="id" title="lemma">ident_beq_reflect</span></a> <span class="id" title="var">j</span> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_and"><span class="id" title="lemma">intuitionistically_and</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.and_sep_intuitionistically"><span class="id" title="lemma">and_sep_intuitionistically</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#Esnoc_wf"><span class="id" title="constructor">Esnoc_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.base.html#ident_beq_reflect"><span class="id" title="lemma">ident_beq_reflect</span></a> <span class="id" title="var">j</span> <span class="id" title="var">i</span>); <span class="id" title="var">naive_solver</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_sep_entails</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_app_sound"><span class="id" title="lemma">envs_app_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">p</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a>=&gt; ?; <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim_l"><span class="id" title="lemma">pure_elim_l</span></a>=&gt; <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], <span class="id" title="var">p</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γs</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp'</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>, <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_wf"><span class="id" title="lemma">env_app_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.proofmode.environments.html#env_app_disjoint"><span class="id" title="lemma">env_app_disjoint</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_fresh"><span class="id" title="lemma">env_app_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_app_perm"><span class="id" title="lemma">env_app_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Γp'</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.big_op.html#big_opL_app"><span class="id" title="lemma">big_opL_app</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_and"><span class="id" title="lemma">intuitionistically_and</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.and_sep_intuitionistically"><span class="id" title="lemma">and_sep_intuitionistically</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_sep_entails</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γp</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γs</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Γs'</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>, <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_wf"><span class="id" title="lemma">env_app_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.proofmode.environments.html#env_app_disjoint"><span class="id" title="lemma">env_app_disjoint</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_app_fresh"><span class="id" title="lemma">env_app_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_app_perm"><span class="id" title="lemma">env_app_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Γs'</span>) // <a class="idref" href="iris.algebra.big_op.html#big_opL_app"><span class="id" title="lemma">big_opL_app</span></a>. <span class="id" title="var">solve_sep_entails</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_app_singleton_sound"><span class="id" title="lemma">envs_app_singleton_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">p</span> <span class="id" title="var">j</span> <span class="id" title="var">Q</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_app"><span class="id" title="definition">envs_app</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="iris.proofmode.environments.html#envs_app_sound"><span class="id" title="lemma">envs_app_sound</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_simple_replace_sound'"><span class="id" title="lemma">envs_simple_replace_sound'</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>=&gt; ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim_l"><span class="id" title="lemma">pure_elim_l</span></a>=&gt; <span class="id" title="var">Hwf</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], <span class="id" title="var">p</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γs</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <span class="id" title="var">i</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γp</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp'</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>, <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_replace_wf"><span class="id" title="lemma">env_replace_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.proofmode.environments.html#env_app_disjoint"><span class="id" title="lemma">env_app_disjoint</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_replace_fresh"><span class="id" title="lemma">env_replace_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_replace_perm"><span class="id" title="lemma">env_replace_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Γp'</span>) //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.algebra.big_op.html#big_opL_app"><span class="id" title="lemma">big_opL_app</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_and"><span class="id" title="lemma">intuitionistically_and</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.and_sep_intuitionistically"><span class="id" title="lemma">and_sep_intuitionistically</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_sep_entails</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#env_app"><span class="id" title="definition">env_app</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γp</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Happ</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="iris.proofmode.environments.html#env_replace"><span class="id" title="definition">env_replace</span></a> <span class="id" title="var">i</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γs</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Γs'</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>, <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_replace_wf"><span class="id" title="lemma">env_replace_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="iris.proofmode.environments.html#env_app_disjoint"><span class="id" title="lemma">env_app_disjoint</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Happ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">naive_solver</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#env_replace_fresh"><span class="id" title="lemma">env_replace_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_replace_perm"><span class="id" title="lemma">env_replace_perm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Γs'</span>) // <a class="idref" href="iris.algebra.big_op.html#big_opL_app"><span class="id" title="lemma">big_opL_app</span></a>. <span class="id" title="var">solve_sep_entails</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_simple_replace_singleton_sound'"><span class="id" title="lemma">envs_simple_replace_singleton_sound'</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">j</span> <span class="id" title="var">Q</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="iris.proofmode.environments.html#envs_simple_replace_sound'"><span class="id" title="lemma">envs_simple_replace_sound'</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_simple_replace_sound"><span class="id" title="lemma">envs_simple_replace_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a>// <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace_sound'"><span class="id" title="lemma">envs_simple_replace_sound'</span></a>//. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_simple_replace_maybe_sound"><span class="id" title="lemma">envs_simple_replace_maybe_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.bi.interface.html#285322c305ec6868ebb70cbafa909038"><span class="id" title="notation">)</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim"><span class="id" title="lemma">pure_elim</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <span class="id" title="var">Δ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.and_elim_l"><span class="id" title="lemma">and_elim_l</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> {1}<a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a>//. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.sep_mono_r"><span class="id" title="lemma">sep_mono_r</span></a>, <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace_sound'"><span class="id" title="lemma">envs_simple_replace_sound'</span></a>//.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_intro_l"><span class="id" title="lemma">wand_intro_l</span></a>, <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound_2"><span class="id" title="lemma">envs_lookup_sound_2</span></a>; <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_simple_replace_singleton_sound"><span class="id" title="lemma">envs_simple_replace_singleton_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> <span class="id" title="var">j</span> <span class="id" title="var">Q</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_simple_replace"><span class="id" title="definition">envs_simple_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a>// <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace_singleton_sound'"><span class="id" title="lemma">envs_simple_replace_singleton_sound'</span></a>//.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_replace_sound'"><span class="id" title="lemma">envs_replace_sound'</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_replace"><span class="id" title="definition">envs_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_replace"><span class="id" title="definition">envs_replace</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.base.html#beq"><span class="id" title="definition">beq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hpq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Bool.Bool.html#eqb_prop"><span class="id" title="lemma">eqb_prop</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpq</span> <span class="id" title="keyword">as</span> -&gt;. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_simple_replace_sound'"><span class="id" title="lemma">envs_simple_replace_sound'</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_app_sound"><span class="id" title="lemma">envs_app_sound</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_replace_singleton_sound'"><span class="id" title="lemma">envs_replace_singleton_sound'</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">j</span> <span class="id" title="var">Q</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_replace"><span class="id" title="definition">envs_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span>=&gt; /<a class="idref" href="iris.proofmode.environments.html#envs_replace_sound'"><span class="id" title="lemma">envs_replace_sound'</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= ?<a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_replace_sound"><span class="id" title="lemma">envs_replace_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">P</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_replace"><span class="id" title="definition">envs_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a>// <a class="idref" href="iris.proofmode.environments.html#envs_replace_sound'"><span class="id" title="lemma">envs_replace_sound'</span></a>//. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_replace_singleton_sound"><span class="id" title="lemma">envs_replace_singleton_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">Δ'</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">P</span> <span class="id" title="var">j</span> <span class="id" title="var">Q</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_replace"><span class="id" title="definition">envs_replace</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> (<a class="idref" href="iris.proofmode.environments.html#Esnoc"><span class="id" title="constructor">Esnoc</span></a> <a class="idref" href="iris.proofmode.environments.html#Enil"><span class="id" title="constructor">Enil</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a>) <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">(</span></a><a class="idref" href="iris.bi.derived_connectives.html#4ed362b11cd27aa62cb046910330f2d9"><span class="id" title="notation">□?</span></a><a class="idref" href="iris.proofmode.environments.html#q"><span class="id" title="variable">q</span></a> <a class="idref" href="iris.proofmode.environments.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="iris.bi.interface.html#6e96398fec71e244af9dd75e40876ca6"><span class="id" title="notation">-∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#e72d8b47a2a5743359baa00fb117d059"><span class="id" title="variable">Δ'</span></a><a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a>// <a class="idref" href="iris.proofmode.environments.html#envs_replace_singleton_sound'"><span class="id" title="lemma">envs_replace_singleton_sound'</span></a>//. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_envs_clear_spatial"><span class="id" title="lemma">envs_lookup_envs_clear_spatial</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">j</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>)<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">'</span></a>'<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">←</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a><a class="idref" href="iris.proofmode.environments.html#69390b7552dd508e4d16c345d136495d"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">if</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">then</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.ssr.ssreflect.html#201058f4aa915cdea9258bc97aa9ee97"><span class="id" title="notation">else</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span>) <span class="id" title="var">eqn</span>:?; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γs</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">j</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_clear_spatial_sound"><span class="id" title="lemma">envs_clear_spatial_sound</span></a> <span class="id" title="var">Δ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#env_spatial"><span class="id" title="projection">env_spatial</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a> /=. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim_l"><span class="id" title="lemma">pure_elim_l</span></a>=&gt; <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a> -<a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistent_and_sep_assoc"><span class="id" title="lemma">persistent_and_sep_assoc</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.and_intro"><span class="id" title="lemma">and_intro</span></a>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.interface.html#bi.pure_intro"><span class="id" title="lemma">pure_intro</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hwf</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.proofmode.environments.html#Enil_wf"><span class="id" title="constructor">Enil_wf</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_spatial_is_nil_intuitionistically"><span class="id" title="lemma">env_spatial_is_nil_intuitionistically</span></a> <span class="id" title="var">Δ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#env_spatial_is_nil"><span class="id" title="definition">env_spatial_is_nil</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.bi.derived_connectives.html#ca36a4dbd976785c580c311a32a8423e"><span class="id" title="notation">□</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [? []]; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a> /<a class="idref" href="iris.bi.derived_connectives.html#bi_intuitionistically"><span class="id" title="definition">bi_intuitionistically</span></a> {1}<a class="idref" href="iris.bi.derived_laws_bi.html#bi.affinely_and_r"><span class="id" title="lemma">affinely_and_r</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistently_and"><span class="id" title="lemma">persistently_and</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistently_affinely_elim"><span class="id" title="lemma">persistently_affinely_elim</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistently_idemp"><span class="id" title="lemma">persistently_idemp</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistently_pure"><span class="id" title="lemma">persistently_pure</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_envs_delete"><span class="id" title="lemma">envs_lookup_envs_delete</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a>=&gt; -[?? <span class="id" title="var">Hdisj</span>] <span class="id" title="var">Hlookup</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>], <span class="id" title="var">p</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_env_delete"><span class="id" title="lemma">env_lookup_env_delete</span></a> //. <span class="id" title="var">revert</span> <span class="id" title="var">Hlookup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hdisj</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [-&gt;| -&gt;]; [|<span class="id" title="var">done</span>]. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γs</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_env_delete"><span class="id" title="lemma">env_lookup_env_delete</span></a> //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_lookup_envs_delete_ne"><span class="id" title="lemma">envs_lookup_envs_delete_ne</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">rp</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">p</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#eac9b9307401b34847f15ea69bb5957f"><span class="id" title="notation">≠</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a> <a class="idref" href="iris.proofmode.environments.html#rp"><span class="id" title="variable">rp</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> /<a class="idref" href="iris.proofmode.environments.html#envs_delete"><span class="id" title="definition">envs_delete</span></a>=&gt; ?. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Δ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Γp</span> <span class="id" title="var">Γs</span>],<span class="id" title="var">p</span>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">rp</span>=&gt; //. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#env_lookup_env_delete_ne"><span class="id" title="lemma">env_lookup_env_delete_ne</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Γp</span> <a class="idref" href="iris.proofmode.environments.html#77a38f999f544585db9bd0fda2265daf"><span class="id" title="notation">!!</span></a> <span class="id" title="var">i</span>); <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="iris.proofmode.environments.html#env_lookup_env_delete_ne"><span class="id" title="lemma">env_lookup_env_delete_ne</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_incr_counter_equiv"><span class="id" title="lemma">envs_incr_counter_equiv</span></a> <span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#envs_Forall2"><span class="id" title="record">envs_Forall2</span></a> <a class="idref" href="iris.bi.interface.html#27fb92169ca7e7a729c109d9cd068719"><span class="id" title="notation">(⊣⊢)</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_incr_counter"><span class="id" title="definition">envs_incr_counter</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">done</span>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_incr_counter_sound"><span class="id" title="lemma">envs_incr_counter_sound</span></a> <span class="id" title="var">Δ</span> : <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_incr_counter"><span class="id" title="definition">envs_incr_counter</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>) <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="var">f_equiv</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_split_go_sound"><span class="id" title="lemma">envs_split_go_sound</span></a> <span class="id" title="var">js</span> <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> <span class="id" title="var">Δ1'</span> <span class="id" title="var">Δ2'</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">j</span> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.proofmode.environments.html#P"><span class="id" title="variable">P</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#envs_lookup"><span class="id" title="definition">envs_lookup</span></a> <a class="idref" href="iris.proofmode.environments.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_split_go"><span class="id" title="definition">envs_split_go</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#05cd85bc4ff32cb9117653bfbeb2bfe7"><span class="id" title="variable">Δ1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#920bb093ad7b2bcad0ec796500033a8d"><span class="id" title="variable">Δ2'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#05cd85bc4ff32cb9117653bfbeb2bfe7"><span class="id" title="variable">Δ1'</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#920bb093ad7b2bcad0ec796500033a8d"><span class="id" title="variable">Δ2'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">js</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">j</span> <span class="id" title="var">js</span> <span class="id" title="var">IH</span>]=&gt; <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> <span class="id" title="var">Hlookup</span> <span class="id" title="var">HΔ</span>; <span class="id" title="var">simplify_eq</span>/=; [<span class="id" title="var">done</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.pure_elim"><span class="id" title="lemma">pure_elim</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="iris.proofmode.environments.html#envs_wf"><span class="id" title="definition">envs_wf</span></a> <span class="id" title="var">Δ1</span>)=&gt; [|<span class="id" title="var">Hwf</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.proofmode.environments.html#of_envs_eq"><span class="id" title="lemma">of_envs_eq</span></a> !<a class="idref" href="iris.bi.interface.html#bi.and_elim_l"><span class="id" title="lemma">and_elim_l</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.sep_elim_l"><span class="id" title="lemma">sep_elim_l</span></a>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete"><span class="id" title="definition">envs_lookup_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">j</span> <span class="id" title="var">Δ1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [[[[] <span class="id" title="var">P</span>] <span class="id" title="var">Δ1''</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hdel</span>; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_delete_Some"><span class="id" title="lemma">envs_lookup_delete_Some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdel</span> <span class="id" title="keyword">as</span> [??]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_sound"><span class="id" title="lemma">envs_lookup_sound</span></a> //; <span class="id" title="tactic">rewrite</span> /= (<a class="idref" href="../html-stdpp/stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">P</span>) -<a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HΔ</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">j'</span> <span class="id" title="var">P'</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j'</span>)) <span class="id" title="keyword">as</span> [-&gt;|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#envs_lookup_envs_delete"><span class="id" title="lemma">envs_lookup_envs_delete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_envs_delete_ne"><span class="id" title="lemma">envs_lookup_envs_delete_ne</span></a> // <a class="idref" href="iris.proofmode.environments.html#envs_lookup_snoc_ne"><span class="id" title="lemma">envs_lookup_snoc_ne</span></a> //. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#envs_snoc_sound"><span class="id" title="lemma">envs_snoc_sound</span></a> <span class="id" title="var">Δ2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="var">j</span> <span class="id" title="var">P</span>) /= ?<a class="idref" href="iris.bi.derived_laws_bi.html#bi.wand_elim_r"><span class="id" title="lemma">wand_elim_r</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="envs_split_sound"><span class="id" title="lemma">envs_split_sound</span></a> <span class="id" title="var">Δ</span> <span class="id" title="var">d</span> <span class="id" title="var">js</span> <span class="id" title="var">Δ1</span> <span class="id" title="var">Δ2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="iris.proofmode.environments.html#envs_split"><span class="id" title="definition">envs_split</span></a> <a class="idref" href="iris.proofmode.environments.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="iris.proofmode.environments.html#js"><span class="id" title="variable">js</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#d44f383ce45b5283439ea630afb544d5"><span class="id" title="variable">Δ</span></a> <a class="idref" href="iris.bi.interface.html#e55eb026c3f0434cd18ddc04e5d7c1ac"><span class="id" title="notation">⊢</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#0a6e8e5c433543bc5536a8dc9c816a84"><span class="id" title="variable">Δ1</span></a> <a class="idref" href="iris.bi.interface.html#17a7b93bfefac02a752836d54e5bc9da"><span class="id" title="notation">∗</span></a> <a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <a class="idref" href="iris.proofmode.environments.html#2a43dcdb70dbdb2f2de24b91f32c8a4f"><span class="id" title="variable">Δ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.proofmode.environments.html#envs_split"><span class="id" title="definition">envs_split</span></a>=&gt; ?. <span class="id" title="tactic">rewrite</span> -(<a class="idref" href="../html-stdpp/stdpp.base.html#idemp"><span class="id" title="definition">idemp</span></a> <a class="idref" href="iris.bi.interface.html#bi_and"><span class="id" title="projection">bi_and</span></a> (<a class="idref" href="iris.proofmode.environments.html#of_envs"><span class="id" title="definition">of_envs</span></a> <span class="id" title="var">Δ</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {2}<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial_sound"><span class="id" title="lemma">envs_clear_spatial_sound</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.proofmode.environments.html#env_spatial_is_nil_intuitionistically"><span class="id" title="lemma">env_spatial_is_nil_intuitionistically</span></a> (<a class="idref" href="iris.proofmode.environments.html#envs_clear_spatial"><span class="id" title="definition">envs_clear_spatial</span></a> <span class="id" title="var">_</span>)) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistently_and_intuitionistically_sep_l"><span class="id" title="lemma">persistently_and_intuitionistically_sep_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="iris.bi.interface.html#bi.and_elim_l"><span class="id" title="lemma">and_elim_l</span></a> (<a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">&lt;</span></a><a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">pers</span></a><a class="idref" href="iris.bi.interface.html#041f8eebef52e61f03e9b72fbef1b694"><span class="id" title="notation">&gt;</span></a> <span class="id" title="var">_</span>)%<span class="id" title="var">I</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.bi.derived_laws_bi.html#bi.persistently_and_intuitionistically_sep_r"><span class="id" title="lemma">persistently_and_intuitionistically_sep_r</span></a> <a class="idref" href="iris.bi.derived_laws_bi.html#bi.intuitionistically_elim"><span class="id" title="lemma">intuitionistically_elim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.proofmode.environments.html#envs_split_go"><span class="id" title="definition">envs_split_go</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">Δ1'</span> <span class="id" title="var">Δ2'</span>]|] <span class="id" title="var">eqn</span>:<span class="id" title="var">HΔ</span>; [|<span class="id" title="var">done</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.proofmode.environments.html#envs_split_go_sound"><span class="id" title="lemma">envs_split_go_sound</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΔ</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">j</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.proofmode.environments.html#envs_lookup_envs_clear_spatial"><span class="id" title="lemma">envs_lookup_envs_clear_spatial</span></a>=&gt; -&gt;. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span>; <span class="id" title="var">simplify_eq</span>/=; <span class="id" title="var">solve_sep_entails</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_to_prop_sound"><span class="id" title="lemma">env_to_prop_sound</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env_to_prop"><span class="id" title="definition">env_to_prop</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.bi.big_op.html#1859b5662eed98e4f5050c0ba3bbcb6b"><span class="id" title="notation">[∗]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">P</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Γ</span> <span class="id" title="var">IH</span> ? <span class="id" title="var">Q</span>]=&gt;<span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IH</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Q</span> <span class="id" title="var">_</span>) <a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="env_to_prop_and_sound"><span class="id" title="lemma">env_to_prop_and_sound</span></a> <span class="id" title="var">Γ</span> : <a class="idref" href="iris.proofmode.environments.html#env_to_prop_and"><span class="id" title="definition">env_to_prop_and</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="iris.bi.interface.html#ab77735a6abb55d5a41bcd1956005829"><span class="id" title="notation">⊣⊢</span></a> <a class="idref" href="iris.bi.big_op.html#343cd42dba68c953304f81d07805508b"><span class="id" title="notation">[∧]</span></a> <a class="idref" href="iris.proofmode.environments.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Γ</span> <span class="id" title="var">i</span> <span class="id" title="var">P</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">Γ</span> <span class="id" title="var">IH</span> ? <span class="id" title="var">Q</span>]=&gt;<span class="id" title="var">P</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="../html-stdpp/stdpp.base.html#right_id"><span class="id" title="definition">right_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">IH</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#comm"><span class="id" title="definition">comm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Q</span> <span class="id" title="var">_</span>) <a class="idref" href="../html-stdpp/stdpp.base.html#assoc"><span class="id" title="definition">assoc</span></a>. <span class="id" title="var">done</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.proofmode.environments.html#envs"><span class="id" title="section">envs</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
