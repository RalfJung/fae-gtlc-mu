<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../overview.html">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">iris.program_logic.ectx_language</h1>

<div class="code">
</div>

<div class="doc">
An axiomatization of evaluation-context based languages, including a proof
    that this gives rise to a "language" in the Iris sense. 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.algebra</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="iris.algebra.base.html#"><span class="id" title="library">base</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">iris.program_logic</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="iris.program_logic.language.html#"><span class="id" title="library">language</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Proof</span> <span class="id" title="var">Using</span> "Type".<br/>

<br/>
<span class="comment">(*&nbsp;TAKE&nbsp;CARE:&nbsp;When&nbsp;you&nbsp;define&nbsp;an&nbsp;<span class="inlinecode"><span class="id" title="var">ectxLanguage</span></span>&nbsp;canonical&nbsp;structure&nbsp;for&nbsp;your<br/>
language,&nbsp;you&nbsp;need&nbsp;to&nbsp;also&nbsp;define&nbsp;a&nbsp;corresponding&nbsp;<span class="inlinecode"><span class="id" title="var">language</span></span>&nbsp;canonical<br/>
structure.&nbsp;Use&nbsp;the&nbsp;coercion&nbsp;<span class="inlinecode"><span class="id" title="var">LanguageOfEctx</span></span>&nbsp;as&nbsp;defined&nbsp;in&nbsp;the&nbsp;bottom&nbsp;of&nbsp;this<br/>
file&nbsp;for&nbsp;doing&nbsp;that.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="ectx_language_mixin"><span class="id" title="section">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">expr</span> <span class="id" title="var">val</span> <span class="id" title="var">ectx</span> <span class="id" title="var">state</span> <span class="id" title="var">observation</span> : <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">of_val</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.val"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">to_val</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.val"><span class="id" title="variable">val</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">empty_ectx</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">comp_ectx</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">fill</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.ectx"><span class="id" title="variable">ectx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">head_step</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.observation"><span class="id" title="variable">observation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.state"><span class="id" title="variable">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.expr"><span class="id" title="variable">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="EctxLanguageMixin"><span class="id" title="record">EctxLanguageMixin</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_to_of_val"><span class="id" title="projection">mixin_to_of_val</span></a> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.of_val"><span class="id" title="variable">of_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#v"><span class="id" title="variable">v</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_of_to_val"><span class="id" title="projection">mixin_of_to_val</span></a> <span class="id" title="var">e</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.of_val"><span class="id" title="variable">of_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_val_head_stuck"><span class="id" title="projection">mixin_val_head_stuck</span></a> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_fill_empty"><span class="id" title="projection">mixin_fill_empty</span></a> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.empty_ectx"><span class="id" title="variable">empty_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_fill_comp"><span class="id" title="projection">mixin_fill_comp</span></a> <span class="id" title="var">K1</span> <span class="id" title="var">K2</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K1"><span class="id" title="variable">K1</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K2"><span class="id" title="variable">K2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.comp_ectx"><span class="id" title="variable">comp_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K1"><span class="id" title="variable">K1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K2"><span class="id" title="variable">K2</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_fill_inj"><span class="id" title="projection">mixin_fill_inj</span></a> <span class="id" title="var">K</span> : <a class="idref" href="../html-stdpp/stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_fill_val"><span class="id" title="projection">mixin_fill_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> : <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>);<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_step_by_val"><span class="id" title="projection">mixin_step_by_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">K'</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K'"><span class="id" title="variable">K'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">K''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K'"><span class="id" title="variable">K'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.comp_ectx"><span class="id" title="variable">comp_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K''"><span class="id" title="variable">K''</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;<span class="inlinecode"><span class="id" title="var">fill</span></span> <span class="inlinecode"><span class="id" title="var">K</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;takes&nbsp;a&nbsp;head&nbsp;step,&nbsp;then&nbsp;either&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;is&nbsp;a&nbsp;value&nbsp;or&nbsp;<span class="inlinecode"><span class="id" title="var">K</span></span>&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;empty&nbsp;evaluation&nbsp;context.&nbsp;In&nbsp;other&nbsp;words,&nbsp;if&nbsp;<span class="inlinecode"><span class="id" title="var">e</span></span>&nbsp;is&nbsp;not&nbsp;a&nbsp;value&nbsp;then<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;cannot&nbsp;be&nbsp;another&nbsp;redex&nbsp;position&nbsp;elsewhere&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">fill</span></span> <span class="inlinecode"><span class="id" title="var">K</span></span> <span class="inlinecode"><span class="id" title="var">e</span></span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mixin_head_ctx_step_val"><span class="id" title="projection">mixin_head_ctx_step_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.head_step"><span class="id" title="variable">head_step</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.fill"><span class="id" title="variable">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.to_val"><span class="id" title="variable">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin.empty_ectx"><span class="id" title="variable">empty_ectx</span></a>;<br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="section">ectx_language_mixin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Structure</span> <a name="ectxLanguage"><span class="id" title="record">ectxLanguage</span></a> := <a name="EctxLanguage"><span class="id" title="constructor">EctxLanguage</span></a> {<br/>
&nbsp;&nbsp;<a name="expr"><span class="id" title="projection">expr</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a name="val"><span class="id" title="projection">val</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a name="ectx"><span class="id" title="projection">ectx</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a name="state"><span class="id" title="projection">state</span></a> : <span class="id" title="keyword">Type</span>;<br/>
&nbsp;&nbsp;<a name="observation"><span class="id" title="projection">observation</span></a> : <span class="id" title="keyword">Type</span>;<br/>
<br/>
&nbsp;&nbsp;<a name="of_val"><span class="id" title="projection">of_val</span></a> : <a class="idref" href="iris.program_logic.ectx_language.html#val"><span class="id" title="method">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a name="to_val"><span class="id" title="projection">to_val</span></a> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#val"><span class="id" title="method">val</span></a>;<br/>
&nbsp;&nbsp;<a name="empty_ectx"><span class="id" title="projection">empty_ectx</span></a> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx"><span class="id" title="method">ectx</span></a>;<br/>
&nbsp;&nbsp;<a name="comp_ectx"><span class="id" title="projection">comp_ectx</span></a> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx"><span class="id" title="method">ectx</span></a>;<br/>
&nbsp;&nbsp;<a name="fill"><span class="id" title="projection">fill</span></a> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx"><span class="id" title="method">ectx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a>;<br/>
&nbsp;&nbsp;<a name="head_step"><span class="id" title="projection">head_step</span></a> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#observation"><span class="id" title="method">observation</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="method">state</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="method">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>;<br/>
<br/>
&nbsp;&nbsp;<a name="ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#EctxLanguageMixin"><span class="id" title="record">EctxLanguageMixin</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#of_val"><span class="id" title="method">of_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="method">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="method">empty_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#comp_ectx"><span class="id" title="method">comp_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="method">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="method">head_step</span></a><br/>
}.<br/>

<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">expr_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">expr</span>.<br/>
<span class="id" title="keyword">Bind</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">val_scope</span> <span class="id" title="keyword">with</span> <span class="id" title="var">val</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#EctxLanguage"><span class="id" title="constructor">EctxLanguage</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#of_val"><span class="id" title="projection">of_val</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> {<span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>

<br/>
<span class="comment">(*&nbsp;From&nbsp;an&nbsp;ectx_language,&nbsp;we&nbsp;can&nbsp;construct&nbsp;a&nbsp;language.&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a name="ectx_language"><span class="id" title="section">ectx_language</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">Λ</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> : <a class="idref" href="iris.program_logic.ectx_language.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">K</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectx"><span class="id" title="projection">ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Only&nbsp;project&nbsp;stuff&nbsp;out&nbsp;of&nbsp;the&nbsp;mixin&nbsp;that&nbsp;is&nbsp;not&nbsp;also&nbsp;in&nbsp;language&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> : <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_empty"><span class="id" title="lemma">fill_empty</span></a> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_comp"><span class="id" title="lemma">fill_comp</span></a> <span class="id" title="var">K1</span> <span class="id" title="var">K2</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K1"><span class="id" title="variable">K1</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K2"><span class="id" title="variable">K2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K1"><span class="id" title="variable">K1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K2"><span class="id" title="variable">K2</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="fill_inj"><span class="id" title="instance">fill_inj</span></a> <span class="id" title="var">K</span> : <a class="idref" href="../html-stdpp/stdpp.base.html#Inj"><span class="id" title="class">Inj</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> <a class="idref" href="../html-stdpp/stdpp.base.html#924fd3758233021bbb7af913c6a625ce"><span class="id" title="notation">(=)</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_val"><span class="id" title="lemma">fill_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> : <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="step_by_val"><span class="id" title="lemma">step_by_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">K'</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1'</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K'"><span class="id" title="variable">K'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">K''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K'"><span class="id" title="variable">K'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K''"><span class="id" title="variable">K''</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_ctx_step_val"><span class="id" title="lemma">head_ctx_step_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#9b27a55e56b4bfcc20e5b8cbd0156a3e"><span class="id" title="notation">∨</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="head_reducible"><span class="id" title="definition">head_reducible</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (σ : <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">κ</span> <span class="id" title="var">e'</span> σ' <span class="id" title="var">efs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="head_reducible_no_obs"><span class="id" title="definition">head_reducible_no_obs</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (σ : <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e'</span> σ' <span class="id" title="var">efs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="head_irreducible"><span class="id" title="definition">head_irreducible</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (σ : <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">κ</span> <span class="id" title="var">e'</span> σ' <span class="id" title="var">efs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="head_stuck"><span class="id" title="definition">head_stuck</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (σ : <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;All&nbsp;non-value&nbsp;redexes&nbsp;are&nbsp;at&nbsp;the&nbsp;root.&nbsp;&nbsp;In&nbsp;other&nbsp;words,&nbsp;all&nbsp;sub-redexes&nbsp;are<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="prim_step"><span class="id" title="inductive">prim_step</span></a> (<span class="id" title="var">e1</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (σ1 : <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (<span class="id" title="var">κ</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#observation"><span class="id" title="projection">observation</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e2</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (σ2 : <a class="idref" href="iris.program_logic.ectx_language.html#state"><span class="id" title="projection">state</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) (<span class="id" title="var">efs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>)) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="Ectx_step"><span class="id" title="constructor">Ectx_step</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1'"><span class="id" title="variable">e1'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="Ectx_step'"><span class="id" title="lemma">Ectx_step'</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ectx_lang_mixin"><span class="id" title="definition">ectx_lang_mixin</span></a> : <a class="idref" href="iris.program_logic.language.html#LanguageMixin"><span class="id" title="record">LanguageMixin</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#of_val"><span class="id" title="projection">of_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language_mixin"><span class="id" title="projection">ectx_language_mixin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?????? [??? -&gt; -&gt; ?%<a class="idref" href="iris.program_logic.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="../html-stdpp/stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">intros</span> ?%<a class="idref" href="iris.program_logic.ectx_language.html#fill_val"><span class="id" title="lemma">fill_val</span></a>%<a class="idref" href="../html-stdpp/stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">ectx_lang</span> : <a class="idref" href="iris.program_logic.language.html#language"><span class="id" title="record">language</span></a> := <a class="idref" href="iris.program_logic.language.html#Language"><span class="id" title="constructor">Language</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang_mixin"><span class="id" title="definition">ectx_lang_mixin</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="head_atomic"><span class="id" title="definition">head_atomic</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="iris.program_logic.language.html#atomicity"><span class="id" title="inductive">atomicity</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">∀</span></a> σ <span class="id" title="var">κ</span> <span class="id" title="var">e'</span> σ' <span class="id" title="var">efs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#e15f3fa8414cf45e36c73a91b3f5f2c2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="iris.program_logic.ectx_language.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="iris.program_logic.language.html#WeaklyAtomic"><span class="id" title="constructor">WeaklyAtomic</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="iris.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="../html-stdpp/stdpp.option.html#is_Some"><span class="id" title="definition">is_Some</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Some&nbsp;lemmas&nbsp;about&nbsp;this&nbsp;language&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_not_val"><span class="id" title="lemma">fill_not_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> : <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#to_val"><span class="id" title="projection">to_val</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="../html-stdpp/stdpp.option.html#eq_None_not_Some"><span class="id" title="lemma">eq_None_not_Some</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_val"><span class="id" title="lemma">fill_val</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_prim_step"><span class="id" title="lemma">head_prim_step</span></a> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#Ectx_step"><span class="id" title="constructor">Ectx_step</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_reducible_no_obs_reducible"><span class="id" title="lemma">head_reducible_no_obs_reducible</span></a> <span class="id" title="var">e</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_no_obs"><span class="id" title="definition">head_reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> (?&amp;?&amp;?&amp;?). <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a> <span class="id" title="var">e</span> σ : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#b02645851bc60f28087c4c8d90376442"><span class="id" title="notation">¬</span></a><a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#d9d5c539a07c7350478e89358d1fe520"><span class="id" title="notation">↔</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a>, <a class="idref" href="iris.program_logic.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a>. <span class="id" title="var">naive_solver</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_step_not_stuck"><span class="id" title="lemma">head_step_not_stuck</span></a> <span class="id" title="var">e</span> σ <span class="id" title="var">κ</span> <span class="id" title="var">e'</span> σ' <span class="id" title="var">efs</span> : <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#4394a2ef16b8915a5209b8b27258ea45"><span class="id" title="variable">σ'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> /<a class="idref" href="iris.program_logic.language.html#not_stuck"><span class="id" title="definition">not_stuck</span></a> /<a class="idref" href="iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> /=. <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_prim_step"><span class="id" title="lemma">fill_prim_step</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">K'</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> -&gt; -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_reducible"><span class="id" title="lemma">fill_reducible</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> σ : <a class="idref" href="iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">κ</span>&amp;<span class="id" title="var">e'</span>&amp;σ'&amp;<span class="id" title="var">efs</span>&amp;?). <span class="id" title="tactic">exists</span> <span class="id" title="var">κ</span>, (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e'</span>), σ', <span class="id" title="var">efs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_prim_step"><span class="id" title="lemma">fill_prim_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="fill_reducible_no_obs"><span class="id" title="lemma">fill_reducible_no_obs</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e</span> σ : <a class="idref" href="iris.program_logic.language.html#reducible_no_obs"><span class="id" title="definition">reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs"><span class="id" title="definition">reducible_no_obs</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">e'</span>&amp;σ'&amp;<span class="id" title="var">efs</span>&amp;?). <span class="id" title="tactic">exists</span> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e'</span>), σ', <span class="id" title="var">efs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_prim_step"><span class="id" title="lemma">fill_prim_step</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_prim_reducible"><span class="id" title="lemma">head_prim_reducible</span></a> <span class="id" title="var">e</span> σ : <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">κ</span>&amp;<span class="id" title="var">e'</span>&amp;σ'&amp;<span class="id" title="var">efs</span>&amp;?). <span class="id" title="tactic">eexists</span> <span class="id" title="var">κ</span>, <span class="id" title="var">e'</span>, σ', <span class="id" title="var">efs</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_prim_fill_reducible"><span class="id" title="lemma">head_prim_fill_reducible</span></a> <span class="id" title="var">e</span> <span class="id" title="var">K</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_reducible"><span class="id" title="lemma">fill_reducible</span></a>, <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_reducible"><span class="id" title="lemma">head_prim_reducible</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_prim_reducible_no_obs"><span class="id" title="lemma">head_prim_reducible_no_obs</span></a> <span class="id" title="var">e</span> σ : <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_no_obs"><span class="id" title="definition">head_reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs"><span class="id" title="definition">reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">e'</span>&amp;σ'&amp;<span class="id" title="var">efs</span>&amp;?). <span class="id" title="tactic">eexists</span> <span class="id" title="var">e'</span>, σ', <span class="id" title="var">efs</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_prim_irreducible"><span class="id" title="lemma">head_prim_irreducible</span></a> <span class="id" title="var">e</span> σ : <a class="idref" href="iris.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.language.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a> -<a class="idref" href="iris.program_logic.ectx_language.html#not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_reducible"><span class="id" title="lemma">head_prim_reducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_prim_fill_reducible_no_obs"><span class="id" title="lemma">head_prim_fill_reducible_no_obs</span></a> <span class="id" title="var">e</span> <span class="id" title="var">K</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_no_obs"><span class="id" title="definition">head_reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#reducible_no_obs"><span class="id" title="definition">reducible_no_obs</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_reducible_no_obs"><span class="id" title="lemma">fill_reducible_no_obs</span></a>, <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_reducible_no_obs"><span class="id" title="lemma">head_prim_reducible_no_obs</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="prim_head_reducible"><span class="id" title="lemma">prim_head_reducible</span></a> <span class="id" title="var">e</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.language.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">κ</span>&amp;<span class="id" title="var">e'</span>&amp;σ'&amp;<span class="id" title="var">efs</span>&amp;[<span class="id" title="var">K</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> -&gt; -&gt; <span class="id" title="var">Hstep</span>]) ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a> /<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="prim_head_irreducible"><span class="id" title="lemma">prim_head_irreducible</span></a> <span class="id" title="var">e</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_irreducible"><span class="id" title="definition">head_irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#irreducible"><span class="id" title="definition">irreducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.language.html#not_reducible"><span class="id" title="lemma">not_reducible</span></a> -<a class="idref" href="iris.program_logic.ectx_language.html#not_head_reducible"><span class="id" title="lemma">not_head_reducible</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#prim_head_reducible"><span class="id" title="lemma">prim_head_reducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_stuck_stuck"><span class="id" title="lemma">head_stuck_stuck</span></a> <span class="id" title="var">e</span> σ :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_stuck"><span class="id" title="definition">head_stuck</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#stuck"><span class="id" title="definition">stuck</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ?. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#prim_head_irreducible"><span class="id" title="lemma">prim_head_irreducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ectx_language_atomic"><span class="id" title="lemma">ectx_language_atomic</span></a> <span class="id" title="var">a</span> <span class="id" title="var">e</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_atomic"><span class="id" title="definition">head_atomic</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#sub_redexes_are_values"><span class="id" title="definition">sub_redexes_are_values</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#Atomic"><span class="id" title="class">Atomic</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hatomic_step</span> <span class="id" title="var">Hatomic_fill</span> σ <span class="id" title="var">κ</span> <span class="id" title="var">e'</span> σ' <span class="id" title="var">efs</span> [<span class="id" title="var">K</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> -&gt; -&gt; <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> -&gt; <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hatomic_step</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_reducible_prim_step_ctx"><span class="id" title="lemma">head_reducible_prim_step_ctx</span></a> <span class="id" title="var">K</span> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e2'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#94e052c6337a815c52cda44eea9df276"><span class="id" title="notation">,</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">κ'</span>&amp;<span class="id" title="var">e2''</span>&amp;σ2''&amp;<span class="id" title="var">efs''</span>&amp;?<span class="id" title="var">HhstepK</span>) [<span class="id" title="var">K'</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> <span class="id" title="var">HKe1</span> -&gt; <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="iris.program_logic.ectx_language.html#step_by_val"><span class="id" title="lemma">step_by_val</span></a> <span class="id" title="var">K</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K''</span> ?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a>; <span class="id" title="var">simplify_eq</span>/=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HKe1</span>; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K''</span> <span class="id" title="var">e2'</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_ctx_step_val"><span class="id" title="lemma">head_ctx_step_val</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HhstepK</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span> ?]|?]; <span class="id" title="var">simplify_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#val_head_stuck"><span class="id" title="lemma">val_head_stuck</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstep</span>; <span class="id" title="var">simplify_eq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="head_reducible_prim_step"><span class="id" title="lemma">head_reducible_prim_step</span></a> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible"><span class="id" title="definition">head_reducible</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#prim_step"><span class="id" title="inductive">prim_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_prim_step_ctx"><span class="id" title="lemma">head_reducible_prim_step_ctx</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#empty_ectx"><span class="id" title="projection">empty_ectx</span></a>) <span class="id" title="keyword">as</span> (?&amp;?&amp;?);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">simplify_eq</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_empty"><span class="id" title="lemma">fill_empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Every&nbsp;evaluation&nbsp;context&nbsp;is&nbsp;a&nbsp;context.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ectx_lang_ctx"><span class="id" title="instance">ectx_lang_ctx</span></a> <span class="id" title="var">K</span> : <a class="idref" href="iris.program_logic.language.html#LanguageCtx"><span class="id" title="class">LanguageCtx</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#fill_not_val"><span class="id" title="lemma">fill_not_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> ?????? [<span class="id" title="var">K'</span> <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span> <span class="id" title="var">Heq1</span> <span class="id" title="var">Heq2</span> <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<a class="idref" href="iris.program_logic.ectx_language.html#comp_ectx"><span class="id" title="projection">comp_ectx</span></a> <span class="id" title="var">K</span> <span class="id" title="var">K'</span>) <span class="id" title="var">e1'</span> <span class="id" title="var">e2'</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">Heq1</span> ?<span class="id" title="var">Heq2</span> ?<a class="idref" href="iris.program_logic.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">e1</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2</span> σ2 ? <span class="id" title="var">Hnval</span> [<span class="id" title="var">K''</span> <span class="id" title="var">e1''</span> <span class="id" title="var">e2''</span> <span class="id" title="var">Heq1</span> -&gt; <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="iris.program_logic.ectx_language.html#step_by_val"><span class="id" title="lemma">step_by_val</span></a> <span class="id" title="var">K</span> <span class="id" title="var">K''</span> <span class="id" title="var">e1</span> <span class="id" title="var">e1''</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2''</span> σ2 <span class="id" title="var">efs</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">K'</span> -&gt;]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="../html-stdpp/stdpp.base.html#inj"><span class="id" title="definition">inj</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Heq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <span class="id" title="var">K'</span> <span class="id" title="var">e2''</span>); <span class="id" title="tactic">rewrite</span> -<a class="idref" href="iris.program_logic.ectx_language.html#fill_comp"><span class="id" title="lemma">fill_comp</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="pure_head_step"><span class="id" title="record">pure_head_step</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="iris.program_logic.ectx_language.html#expr"><span class="id" title="projection">expr</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#f755488b42154ead06ea16188e79a324"><span class="id" title="variable">Λ</span></a>) := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="pure_head_step_safe"><span class="id" title="projection">pure_head_step_safe</span></a> σ1 : <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_no_obs"><span class="id" title="definition">head_reducible_no_obs</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="pure_head_step_det"><span class="id" title="projection">pure_head_step_det</span></a> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2'</span> σ2 <span class="id" title="var">efs</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.ectx_language.html#head_step"><span class="id" title="projection">head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2'"><span class="id" title="variable">e2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#3668992ecc3e95973d304a75a28051a2"><span class="id" title="notation">∧</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#efs"><span class="id" title="variable">efs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="pure_head_step_pure_step"><span class="id" title="lemma">pure_head_step_pure_step</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="iris.program_logic.ectx_language.html#pure_head_step"><span class="id" title="record">pure_head_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a> <a class="idref" href="iris.program_logic.language.html#pure_step"><span class="id" title="record">pure_step</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hp1</span> <span class="id" title="var">Hp2</span>]. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> σ. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">Hp1</span> σ) <span class="id" title="keyword">as</span> (<span class="id" title="var">e2'</span> &amp; σ2 &amp; <span class="id" title="var">efs</span> &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">e2'</span>, σ2, <span class="id" title="var">efs</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_prim_step"><span class="id" title="lemma">head_prim_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> σ1 <span class="id" title="var">κ</span> <span class="id" title="var">e2'</span> σ2 <span class="id" title="var">efs</span> ?%<a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_prim_step"><span class="id" title="lemma">head_reducible_prim_step</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="iris.program_logic.ectx_language.html#head_reducible_no_obs_reducible"><span class="id" title="lemma">head_reducible_no_obs_reducible</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="pure_exec_fill"><span class="id" title="instance">pure_exec_fill</span></a> <span class="id" title="var">K</span> φ <span class="id" title="var">n</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#7f48d4a68765673379b41e1b1ee20edf"><span class="id" title="variable">φ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.1/stdlib//Coq.Unicode.Utf8_core.html#c41c566ddac4c1298b9e7dd2bae1c794"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="iris.program_logic.language.html#PureExec"><span class="id" title="class">PureExec</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#7f48d4a68765673379b41e1b1ee20edf"><span class="id" title="variable">φ</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e1"><span class="id" title="variable">e1</span></a>) (<a class="idref" href="iris.program_logic.ectx_language.html#fill"><span class="id" title="projection">fill</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#K"><span class="id" title="variable">K</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#e2"><span class="id" title="variable">e2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span>: <a class="idref" href="iris.program_logic.language.html#pure_exec_ctx"><span class="id" title="lemma">pure_exec_ctx</span></a>. <span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_language"><span class="id" title="section">ectx_language</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang"><span class="id" title="definition">ectx_lang</span></a> : <span class="id" title="tactic">clear</span> <span class="id" title="var">implicits</span>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang"><span class="id" title="definition">ectx_lang</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang"><span class="id" title="definition">:</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang"><span class="id" title="definition">ectxLanguage</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang"><span class="id" title="definition">&gt;-&gt;</span></a> <a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang"><span class="id" title="definition">language</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;This&nbsp;definition&nbsp;makes&nbsp;sure&nbsp;that&nbsp;the&nbsp;fields&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">language</span></span>&nbsp;record&nbsp;do&nbsp;not<br/>
refer&nbsp;to&nbsp;the&nbsp;projections&nbsp;of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ectxLanguage</span></span>&nbsp;record&nbsp;but&nbsp;to&nbsp;the&nbsp;actual&nbsp;fields<br/>
of&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">ectxLanguage</span></span>&nbsp;record.&nbsp;This&nbsp;is&nbsp;crucial&nbsp;for&nbsp;canonical&nbsp;structure&nbsp;search&nbsp;to<br/>
work.<br/>
<br/>
Note&nbsp;that&nbsp;this&nbsp;trick&nbsp;no&nbsp;longer&nbsp;works&nbsp;when&nbsp;we&nbsp;switch&nbsp;to&nbsp;canonical&nbsp;projections<br/>
because&nbsp;then&nbsp;the&nbsp;pattern&nbsp;match&nbsp;<span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode">'...</span>&nbsp;will&nbsp;be&nbsp;desugared&nbsp;into&nbsp;projections.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="LanguageOfEctx"><span class="id" title="definition">LanguageOfEctx</span></a> (<span class="id" title="var">Λ</span> : <a class="idref" href="iris.program_logic.ectx_language.html#ectxLanguage"><span class="id" title="record">ectxLanguage</span></a>) : <a class="idref" href="iris.program_logic.language.html#language"><span class="id" title="record">language</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '@<span class="id" title="var">EctxLanguage</span> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">C</span> <span class="id" title="var">St</span> <span class="id" title="var">K</span> <span class="id" title="var">of_val</span> <span class="id" title="var">to_val</span> <span class="id" title="var">empty</span> <span class="id" title="var">comp</span> <span class="id" title="var">fill</span> <span class="id" title="var">head</span> <span class="id" title="var">mix</span> := <a class="idref" href="iris.program_logic.ectx_language.html#8f9ca9cb3d78ac33d75e576570aeb27a"><span class="id" title="variable">Λ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;@<a class="idref" href="iris.program_logic.language.html#Language"><span class="id" title="constructor">Language</span></a> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">St</span> <span class="id" title="var">K</span> <span class="id" title="var">of_val</span> <span class="id" title="var">to_val</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="iris.program_logic.ectx_language.html#ectx_lang_mixin"><span class="id" title="definition">ectx_lang_mixin</span></a> (@<a class="idref" href="iris.program_logic.ectx_language.html#EctxLanguage"><span class="id" title="constructor">EctxLanguage</span></a> <span class="id" title="var">E</span> <span class="id" title="var">V</span> <span class="id" title="var">C</span> <span class="id" title="var">St</span> <span class="id" title="var">K</span> <span class="id" title="var">of_val</span> <span class="id" title="var">to_val</span> <span class="id" title="var">empty</span> <span class="id" title="var">comp</span> <span class="id" title="var">fill</span> <span class="id" title="var">head</span> <span class="id" title="var">mix</span>)).<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
